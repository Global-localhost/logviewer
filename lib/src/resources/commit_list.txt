commit 10a8663e74635d72d164723efce1f3babc006c77
dart-results-feed-commit-entry
10a8663e74635d72d164723efce1f3babc006c77 2019-03-14 10:47:46 +0000 kustermann@google.com [VM/Flutter] Disabled golden tests until next engine -> flutter roll (which probably fixes it) 

Change-Id: I16cb739cf33af3b357b242a1b02ae48515e00dbe
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96900
Reviewed-by: Martin Kustermann <kustermann@google.com>
Commit-Queue: Martin Kustermann <kustermann@google.com>

commit 9aea5536fb67a4bc44ac9272e7769c98792ee702
dart-results-feed-commit-entry
9aea5536fb67a4bc44ac9272e7769c98792ee702 2019-03-14 10:08:36 +0000 kmillikin@google.com [cfe] Initial support for compiling if in collections 

Support compiling if elements and map entries by constructing
IfElement or IfMapEntry when they are seen.  There is no support for
lowering them to block expressions yet.

Change-Id: I74c2492fefc9703e9e2f639baad7f737bbe63721
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96786
Commit-Queue: Kevin Millikin <kmillikin@google.com>
Reviewed-by: Aske Simon Christensen <askesc@google.com>

commit 1ac41d26b489145f2a3718ba8917c9df9574ab1b
dart-results-feed-commit-entry
1ac41d26b489145f2a3718ba8917c9df9574ab1b 2019-03-14 08:44:46 +0000 johnniwinther@google.com Support @Creates and @Returns from ir constants 

Change-Id: I5afa43354f70e42dad93a568afabb14d2004cf52
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96784
Reviewed-by: Sigmund Cherem <sigmund@google.com>
Commit-Queue: Johnni Winther <johnniwinther@google.com>

commit ac4eca7eb9a0d82ee853aca6f18afe917ab17835
dart-results-feed-commit-entry
ac4eca7eb9a0d82ee853aca6f18afe917ab17835 2019-03-14 01:17:56 +0000 rmacnak@google.com [vm, gc] Take advantage of object alignment and non-overlap when copying objects during a scavenge. 

Change-Id: Ic58b391f4bf5141da61fd45e2c8358ef1bd285be
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/72072
Commit-Queue: Ryan Macnak <rmacnak@google.com>
Reviewed-by: Siva Annamalai <asiva@google.com>

commit d5ab8b4da27c3d71ace9b80d2e023ceb7f7b3486
dart-results-feed-commit-entry
d5ab8b4da27c3d71ace9b80d2e023ceb7f7b3486 2019-03-14 01:11:26 +0000 scheglov@google.com Resolve ForElement(s) in separate scopes. 

R=brianwilkerson@google.com, paulberry@google.com

Context: co19_2/LanguageFeatures/Control-flow-collections/dynamic_semantics_list_A04_t01
Change-Id: I09e63e0821015993aa47736efd729411a9bd67e9
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96833
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Konstantin Shcheglov <scheglov@google.com>

commit 5b07ef9d1c42625e7ea8ee46ffb9f30574d815b3
dart-results-feed-commit-entry
5b07ef9d1c42625e7ea8ee46ffb9f30574d815b3 2019-03-14 00:44:46 +0000 nshahan@google.com [tests] Fix new tests 

* Add missing const on expected set.
* Add missing type to map literal.

Change-Id: I25fdfe45926b4943f17661ad5f392ea53ad1f06b
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96850
Reviewed-by: Bob Nystrom <rnystrom@google.com>
Commit-Queue: Nicholas Shahan <nshahan@google.com>

commit b1a3629547931b1a12f90a6ea66837c867aeff78
dart-results-feed-commit-entry
b1a3629547931b1a12f90a6ea66837c867aeff78 2019-03-14 00:25:56 +0000 alexmarkov@google.com [vm] Move receiver variable to ParsedFunction, add ParameterVariable() 

This refactoring moves receiver variable (previously known as this_variable)
from ScopeBuildingResult into ParsedFunction, like other special variables.
This is done as ScopeBuildingResult is AST-specific and not available
in bytecode, but certain flow graph builders use receiver variable
(for example to load instantiator type arguments for type arguments
checks).

This CL also introduces convenience ParsedFunction::ParameterVariable()
method to reduce repetitive incantations

  parsed_function->node_sequence()->scope()->VariableAt(..)

to a more readable

  parsed_function->ParameterVariable(..)

Change-Id: I427536abfa412de9916b79cf2e56e06f2f2f1d71
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96842
Commit-Queue: Alexander Markov <alexmarkov@google.com>
Auto-Submit: Alexander Markov <alexmarkov@google.com>
Reviewed-by: Aart Bik <ajcbik@google.com>

commit 037b2737535d23718913f724196f9d942bdcf6c1
dart-results-feed-commit-entry
037b2737535d23718913f724196f9d942bdcf6c1 2019-03-14 00:16:56 +0000 brianwilkerson@google.com Make List literal inference match the proposal 

Change-Id: I8c70fc80d1965a407141c4d1c8e90f1d32bd44ee
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96847
Commit-Queue: Brian Wilkerson <brianwilkerson@google.com>
Reviewed-by: Paul Berry <paulberry@google.com>
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>

commit f2579a8ede29723fcece339b4a75f273fa258ea6
dart-results-feed-commit-entry
f2579a8ede29723fcece339b4a75f273fa258ea6 2019-03-14 00:15:46 +0000 nbosch@google.com Add override annotations in dart2js tests 

In preparation of enforcing these in the analysis options.

Change-Id: I316f2efea510ecc8ff1b975e96d166a5f8c0286c
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96834
Commit-Queue: Nate Bosch <nbosch@google.com>
Reviewed-by: Sigmund Cherem <sigmund@google.com>

commit d1a943281b41af61493cbdfad764d83246e681a2
dart-results-feed-commit-entry
d1a943281b41af61493cbdfad764d83246e681a2 2019-03-13 23:44:11 +0000 dnicoara@google.com Change path order when trying to open tracing 

/sys/kernel/debug/tracing is the old path[1] and only present for
backwards compatibility. Check the new path first otherwise accessing
/sys/kernel/debug/tracing will cause debugfs to be mounted. If
permissions are not set correctly after the mount, the user process may
not have a way to access the trace_marker.

[1] https://www.kernel.org/doc/Documentation/trace/ftrace.txt

Bug: None
Change-Id: Ifbd967c0f7298c8877c23bd4908d172b94f9e2d2
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96832
Reviewed-by: Ryan Macnak <rmacnak@google.com>
Commit-Queue: Ryan Macnak <rmacnak@google.com>

commit 6483f5238f3bddedaf2f2b03acd4cc55808eb2bf
dart-results-feed-commit-entry
6483f5238f3bddedaf2f2b03acd4cc55808eb2bf 2019-03-13 23:38:26 +0000 ajcbik@google.com [dart/vm] be more flexible with precomputed constants 

Rationale:
The problem was that we were evaluating field
initializers while still loading the constant
table. This hit two asserts (1) having pending
potential_natives() when entering codegen and
(2) not being able to evaluate constants
since the table has not been loaded yet. The
solution is to simply postpone enum field
initialization (forced to avoid hot reload
issues) while loading the constant table
until right after the table is ready.

https://github.com/dart-lang/sdk/issues/36153

Change-Id: I5060476e5b3b49e555cfc507fb398ef0144b44d0
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96844
Commit-Queue: Aart Bik <ajcbik@google.com>
Reviewed-by: Alexander Markov <alexmarkov@google.com>

commit 580e5731d6da9103e68529eda304ffab55650300
dart-results-feed-commit-entry
580e5731d6da9103e68529eda304ffab55650300 2019-03-13 23:36:06 +0000 rmacnak@google.com [vm] Test compilation traces, type feedback, reused instructions. 

Improve error for failure to reuse instructions.

Change-Id: I38b30a0da508f686d73dffebbf5893d6c939f19a
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95940
Reviewed-by: Siva Annamalai <asiva@google.com>
Commit-Queue: Ryan Macnak <rmacnak@google.com>

commit 217a0274568e14416e6ddb1d1692efe5b0896766
dart-results-feed-commit-entry
217a0274568e14416e6ddb1d1692efe5b0896766 2019-03-13 23:29:56 +0000 rmacnak@google.com [vm, interpreter] Support unboxed fields. 

Bug: FL-208
Change-Id: Ia6d6b913ccfc3b279ae89666bfb6f494a098b102
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96523
Reviewed-by: Alexander Markov <alexmarkov@google.com>
Commit-Queue: Ryan Macnak <rmacnak@google.com>

commit 1bd7920367bb9fece22e83f484f3830acd1b665d
dart-results-feed-commit-entry
1bd7920367bb9fece22e83f484f3830acd1b665d 2019-03-13 22:44:18 +0000 mfairhurst@google.com Resolve generic function default parameter values 

Change-Id: I060ee8f61b8cb74482b92d4057e4183f1e4ca269
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96701
Commit-Queue: Mike Fairhurst <mfairhurst@google.com>
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>
Auto-Submit: Mike Fairhurst <mfairhurst@google.com>

commit 31c47567dc48923f8f38ffc7d4f7f46c994b7783
dart-results-feed-commit-entry
31c47567dc48923f8f38ffc7d4f7f46c994b7783 2019-03-13 22:39:53 +0000 paulberry@google.com Remove AnalysisOptionsForLink and plumb analysis options through linker. 

This is a non-breaking change; the only way linking is exposed to
clients is through `SummaryBuilder`, which can get the analysis
options from the context.

Fixes #35747.

Change-Id: I273408f33a881ac32ab248cbc8f3e0644630563b
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96829
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Reviewed-by: Mike Fairhurst <mfairhurst@google.com>
Commit-Queue: Paul Berry <paulberry@google.com>

commit 69a4f203479952c45c729d5fffaf0cea5edf5c78
dart-results-feed-commit-entry
69a4f203479952c45c729d5fffaf0cea5edf5c78 2019-03-13 22:36:11 +0000 nbosch@google.com Add override annotations consistently 

This makes it easier to follow class hierarchies and understand where a
class is changing the interface. I hit this when I found a class that
had the annotation on some methods it was overriding, but not all, which
made it confusing.

Prepares for adding the lint rule and enforcing it.

40% of overridden methods were annotated - add annotations to the remaining 60%.

Change-Id: I02472f4b6c5026a820cf9ff1a7ada663a60f1868
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96666
Commit-Queue: Nate Bosch <nbosch@google.com>
Reviewed-by: Sigmund Cherem <sigmund@google.com>

commit 4339fe9b51825ee5ef121d1490d94a00a95f0ea6
dart-results-feed-commit-entry
4339fe9b51825ee5ef121d1490d94a00a95f0ea6 2019-03-13 21:36:51 +0000 fishythefish@google.com Add constant evaluation tests for IfNull. 

Change-Id: I68229e831cea9e1c9aac548d9da8434bcacdaaff
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96710
Commit-Queue: Mayank Patke <fishythefish@google.com>
Reviewed-by: Stephen Adams <sra@google.com>

commit 8adcab9fec8c94743e70bc913669023edee37b08
dart-results-feed-commit-entry
8adcab9fec8c94743e70bc913669023edee37b08 2019-03-13 21:36:51 +0000 fishythefish@google.com Add constant evaluation tests for Identity. 

Change-Id: I9ce93147f7cdb96ce659551499a64958a77d1711
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96709
Reviewed-by: Stephen Adams <sra@google.com>

commit 3552dbb429b2fa100775073a34545a6611a255bb
dart-results-feed-commit-entry
3552dbb429b2fa100775073a34545a6611a255bb 2019-03-13 21:36:51 +0000 fishythefish@google.com Add constant evaluation tests for Equals. 

Change-Id: I20be37af485f8841ec549f33c16e5680e0170444
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96708
Reviewed-by: Stephen Adams <sra@google.com>

commit 27328840f9aaafb11df53b5cb5c45c9469d69155
dart-results-feed-commit-entry
27328840f9aaafb11df53b5cb5c45c9469d69155 2019-03-13 21:36:51 +0000 fishythefish@google.com Add constant evaluation tests for GreaterEqual. 

Change-Id: I2e2a3b656710cd130882dd2f7480f9d532a1ba61
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96707
Reviewed-by: Stephen Adams <sra@google.com>

commit 9f680cd0bd47fe3bf6037be215c6b79a341f90ad
dart-results-feed-commit-entry
9f680cd0bd47fe3bf6037be215c6b79a341f90ad 2019-03-13 21:36:51 +0000 fishythefish@google.com Add constant evaluation tests for Greater. 

Change-Id: I356b805ff69307a697e073ea4499217e11541cc5
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96706
Reviewed-by: Stephen Adams <sra@google.com>

commit 0950d473ad6bdfd09eb388a5d431af1eb380e40e
dart-results-feed-commit-entry
0950d473ad6bdfd09eb388a5d431af1eb380e40e 2019-03-13 21:36:51 +0000 fishythefish@google.com Add constant evaluation tests for LessEqual. 

Change-Id: If98b28bfbb32b14e1d53546642fae613aa937519
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96705
Reviewed-by: Stephen Adams <sra@google.com>

commit 7ff70237d497789d53b2f3a845d4a4e773357df0
dart-results-feed-commit-entry
7ff70237d497789d53b2f3a845d4a4e773357df0 2019-03-13 21:36:51 +0000 fishythefish@google.com Add constant evaluation tests for Less. 

Change-Id: I024905e6e90f40301d092de2e4e0e45e379b143b
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96704
Reviewed-by: Stephen Adams <sra@google.com>

commit ce9a1bb24e975fad67fbf153e3297f161fe0620b
dart-results-feed-commit-entry
ce9a1bb24e975fad67fbf153e3297f161fe0620b 2019-03-13 21:36:51 +0000 fishythefish@google.com Add constant evaluation tests for Add. 

Change-Id: I21b5fd03bfaee3c32573c56d8f529c933f315d14
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96703
Reviewed-by: Stephen Adams <sra@google.com>

commit 2fa96dd653e5f60364df61199a722352628c2881
dart-results-feed-commit-entry
2fa96dd653e5f60364df61199a722352628c2881 2019-03-13 21:36:51 +0000 fishythefish@google.com Add constant evaluation tests for Divide. 

Change-Id: Ic361816bd0cfa5a6822cb96322bb29fcf7749778
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96405
Reviewed-by: Stephen Adams <sra@google.com>

commit 952421a68ded71224b984fc831e21bb26923c31a
dart-results-feed-commit-entry
952421a68ded71224b984fc831e21bb26923c31a 2019-03-13 21:36:51 +0000 fishythefish@google.com Add constant evaluation tests for TruncatingDivide. 

Change-Id: I144967283f76570ec6312750995ca219d3a4ad09
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96404
Reviewed-by: Stephen Adams <sra@google.com>

commit 9fd0ec25602a7ea93e3749918e41263c08c73302
dart-results-feed-commit-entry
9fd0ec25602a7ea93e3749918e41263c08c73302 2019-03-13 21:36:51 +0000 fishythefish@google.com Add constant evaluation tests for Modulo. 

Change-Id: Ia8d7fd2faee166ea71aaca5e1fc797d5d658d8c3
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96403
Reviewed-by: Stephen Adams <sra@google.com>

commit 9262d111fd6aa88088abfbc2176f2edd0e07d956
dart-results-feed-commit-entry
9262d111fd6aa88088abfbc2176f2edd0e07d956 2019-03-13 21:36:51 +0000 fishythefish@google.com Add constant evaluation tests for Multiply. 

Change-Id: I05e7c3e6b6cb4a137a03f4917b8ab7125a1e19b1
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96402
Reviewed-by: Stephen Adams <sra@google.com>

commit aba9392f0e5ad1b2f132aaec6f5f247ea3ead98d
dart-results-feed-commit-entry
aba9392f0e5ad1b2f132aaec6f5f247ea3ead98d 2019-03-13 21:36:51 +0000 fishythefish@google.com Add constant evaluation tests for Subtract. 

Change-Id: Id818fc9c2f246b8858fb747d8955604b44348a4d
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96401
Reviewed-by: Stephen Adams <sra@google.com>

commit 3a38f0bb8998c98d34773a5c54e3b3f961fe5b20
dart-results-feed-commit-entry
3a38f0bb8998c98d34773a5c54e3b3f961fe5b20 2019-03-13 21:36:51 +0000 fishythefish@google.com Add constant evaluation tests for BooleanOr. 

Change-Id: Ib9f7b409845ff13ecaa49fd1d949ea1bf474281d
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/94465
Reviewed-by: Stephen Adams <sra@google.com>

commit 052d6d235cc21d0303423a6914979c5029819af1
dart-results-feed-commit-entry
052d6d235cc21d0303423a6914979c5029819af1 2019-03-13 21:36:51 +0000 fishythefish@google.com Add constant evaluation tests for BooleanAnd. 

Change-Id: Icead29835e72027f6f9cd82f799781983843fc89
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/94464
Reviewed-by: Stephen Adams <sra@google.com>

commit be5332c0a552861221733a9cd31baf5cc853e797
dart-results-feed-commit-entry
be5332c0a552861221733a9cd31baf5cc853e797 2019-03-13 21:36:51 +0000 fishythefish@google.com Add constant evaluation tests for ShiftRight. 

Change-Id: I327d98fa496543db885549e3654844da5f9f6a16
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/94463
Reviewed-by: Stephen Adams <sra@google.com>

commit 4f34218ce18e43ae0244038b5de25e627e537beb
dart-results-feed-commit-entry
4f34218ce18e43ae0244038b5de25e627e537beb 2019-03-13 21:36:51 +0000 fishythefish@google.com Add constant evaluation tests for ShiftLeft. 

Change-Id: Ie669c127be1f76a64dbb7a96b81b3ce7d1621733
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/94462
Reviewed-by: Stephen Adams <sra@google.com>

commit 3df53341377fa8ad506032e808f2a61636fd8273
dart-results-feed-commit-entry
3df53341377fa8ad506032e808f2a61636fd8273 2019-03-13 21:36:51 +0000 fishythefish@google.com Add constant evaluation tests for BitXor. 

Change-Id: If5b72f5743ebde2304058ba57e50c7dee5173561
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/94344
Reviewed-by: Stephen Adams <sra@google.com>

commit 84d8d6b51356106655a1b65a3d56dbee54a3a274
dart-results-feed-commit-entry
84d8d6b51356106655a1b65a3d56dbee54a3a274 2019-03-13 21:36:51 +0000 fishythefish@google.com Add constant evaluation tests for BitOr. 

Change-Id: I93d172601c8c3e83e3a17d4eeb90d06f2fe2fd45
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/94343
Reviewed-by: Stephen Adams <sra@google.com>

commit f7972480bd5dd7822b78cae26a3281f4096f442c
dart-results-feed-commit-entry
f7972480bd5dd7822b78cae26a3281f4096f442c 2019-03-13 21:36:51 +0000 fishythefish@google.com Add constant evaluation tests for BitAnd. 

Change-Id: I162aed0534530efb04e7e743d1f29ef041f888fc
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/94342
Reviewed-by: Stephen Adams <sra@google.com>

commit 432c6c8c39819f4ee7d9b75f49900735edca3c19
dart-results-feed-commit-entry
432c6c8c39819f4ee7d9b75f49900735edca3c19 2019-03-13 21:36:51 +0000 fishythefish@google.com Add constant evaluation tests for Not. 

Change-Id: I1afa07efb7f3def69f13719ee3f57cd4d8c00f2a
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/94341
Reviewed-by: Stephen Adams <sra@google.com>

commit 2e1c78db7b31272a3c7049771202363fe2e86d40
dart-results-feed-commit-entry
2e1c78db7b31272a3c7049771202363fe2e86d40 2019-03-13 21:36:51 +0000 fishythefish@google.com Add constant evaluation tests for Negate. 

Change-Id: I9e23fc47538324fcd64c8e2e90e75cf12e8b0491
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/94340
Reviewed-by: Stephen Adams <sra@google.com>

commit 5853f129b2be046e8925c00d8ffc2f94517abec9
dart-results-feed-commit-entry
5853f129b2be046e8925c00d8ffc2f94517abec9 2019-03-13 21:36:51 +0000 fishythefish@google.com Add constant evaluation tests for BitNot. 

Change-Id: I1bc82d76073006a18109eedfc62bd53a70f1685f
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/94320
Reviewed-by: Stephen Adams <sra@google.com>

commit aa4a2df5a2717d712a1eb99d97c9dc844ed288f9
dart-results-feed-commit-entry
aa4a2df5a2717d712a1eb99d97c9dc844ed288f9 2019-03-13 21:36:51 +0000 fishythefish@google.com Add structure of constant folding tests. 

This test suite is not comprehensive by any means. The goal is to
establish the right structure for the tests (so that we get the right
inlining and constant folding behavior). Broader semantic tests will be
added later.

Change-Id: Ib028ec05f063b98046f5946272cfbfe986244d3f
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/94040
Reviewed-by: Stephen Adams <sra@google.com>

commit 078c834f25c5b6f457a2e56819c5ede55d101040
dart-results-feed-commit-entry
078c834f25c5b6f457a2e56819c5ede55d101040 2019-03-13 21:31:31 +0000 scheglov@google.com Extract CONST_SET_ELEMENT_TYPE_IMPLEMENTS_EQUALS test and fix for spreads in sets. 

R=brianwilkerson@google.com

Change-Id: I1667d6bdde78a35a542f2ec525d5328573322600
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96830
Commit-Queue: Konstantin Shcheglov <scheglov@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>

commit 2d48159e384241002cf6a01767415aadc718b94e
dart-results-feed-commit-entry
2d48159e384241002cf6a01767415aadc718b94e 2019-03-13 21:26:01 +0000 scheglov@google.com Issue 36187. Fix for getSuggestionDetails() fails in part file. 

R=brianwilkerson@google.com

Bug: https://github.com/dart-lang/sdk/issues/36187
Change-Id: I428ab29a08eff43d5538d025b59374e4f8cad154
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96831
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Konstantin Shcheglov <scheglov@google.com>

commit e7562917f1a3c182ef6ac2d78b69453f19038927
dart-results-feed-commit-entry
e7562917f1a3c182ef6ac2d78b69453f19038927 2019-03-13 21:03:01 +0000 liama@google.com Reland https://dart-review.googlesource.com/c/sdk/+/96500 

Rather than creating the abiversions directory during gclient update,
check in an (almost) empty directory. This fixes the flutter build.

Bug: https://github.com/dart-lang/sdk/issues/36047
Change-Id: Ied74210bfc1c8fda998f58f754eac3949ebe0718
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96846
Reviewed-by: Ryan Macnak <rmacnak@google.com>
Commit-Queue: Liam Appelbe <liama@google.com>

commit b5528fa84df72ed7bfd7438a513250ea96836be6
dart-results-feed-commit-entry
b5528fa84df72ed7bfd7438a513250ea96836be6 2019-03-13 20:54:01 +0000 brianwilkerson@google.com Improve the docs for isSet and isMap in SetOrMapLiteral 

Change-Id: I7b6769cdb89e728c7678361855481fd4ab307d5a
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96827
Commit-Queue: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Paul Berry <paulberry@google.com>
Auto-Submit: Brian Wilkerson <brianwilkerson@google.com>
Reviewed-by: Paul Berry <paulberry@google.com>

commit e55e13ffbdfaf27f1a3253fc3f372ef3365ddfab
dart-results-feed-commit-entry
e55e13ffbdfaf27f1a3253fc3f372ef3365ddfab 2019-03-13 21:52:49 +0100 sortie@google.com Merge remote-tracking branch 'github/master' 

A commit was accidentally pushed to github that bypassed the googlesource
repository. This merge unifies the two histories.

commit 632abb6a25ad75770ff43ee0c33c1c503509dbcd
dart-results-feed-commit-entry
632abb6a25ad75770ff43ee0c33c1c503509dbcd 2019-03-13 20:24:13 +0000 scheglov@google.com Improve 'Import Library' code generation when has 'part' directive. 

R=brianwilkerson@google.com

Change-Id: Idb3370dcbb67a935939a8ee2c072b897b866f7b0
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96826
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>

commit d3a0293a9de80211a4365427a4957d2a85e58b17
dart-results-feed-commit-entry
d3a0293a9de80211a4365427a4957d2a85e58b17 2019-03-13 20:23:31 +0000 paulberry@google.com Replace unnecessary `?.`s with `.`. 

They were triggering a lint (null_aware_in_logical_operator).

Change-Id: Ia6124ae4828270b1d231b44199c376adc04fcc79
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96848
Auto-Submit: Paul Berry <paulberry@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Paul Berry <paulberry@google.com>

commit e7114868733055e8cfd7d2f72a2f20a7a7a2fd81
dart-results-feed-commit-entry
e7114868733055e8cfd7d2f72a2f20a7a7a2fd81 2019-03-13 20:20:01 +0000 zra@google.com [vm,dart:io,fuchsia] Be happy with any open fd for Stdio handles if fstat fails 

Change-Id: Iabb1d25d1649b60805f6c16550520596a01d20df
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96843
Reviewed-by: Ryan Macnak <rmacnak@google.com>
Commit-Queue: Zach Anderson <zra@google.com>

commit 0bf8a1e59199542f49944b092976a8bd5b017bef
dart-results-feed-commit-entry
0bf8a1e59199542f49944b092976a8bd5b017bef 2019-03-13 13:05:54 -0700 aadilmaan@google.com Update breaking-changes.md 

Taking over responsibilities from mit@ to drive breaking-changes-request through the approval review process.
commit f08e213bb1ee6e40ead34f270368123573f4f1a3
dart-results-feed-commit-entry
f08e213bb1ee6e40ead34f270368123573f4f1a3 2019-03-13 19:28:34 +0000 scheglov@google.com Extract CONST_MAP_KEY_EXPRESSION_TYPE_IMPLEMENTS_EQUALS tests. 

R=brianwilkerson@google.com

Change-Id: Ic73cdade894f4d5832427d193eaa0c33e51676b0
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96825
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Konstantin Shcheglov <scheglov@google.com>

commit 2b00685d389be3b14ba336ce8942ad52e82cfeca
dart-results-feed-commit-entry
2b00685d389be3b14ba336ce8942ad52e82cfeca 2019-03-13 19:16:59 +0000 scheglov@google.com Make SetOrMapLiteral set/map unless we are linking, so going to infer it. 

R=brianwilkerson@google.com, paulberry@google.com

Change-Id: I676975b4fd861f37fcd58c48782f0a4fa59ce178
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96824
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Konstantin Shcheglov <scheglov@google.com>

commit bc5d6135333da6f5ac7f2a8244870d0d0d723042
dart-results-feed-commit-entry
bc5d6135333da6f5ac7f2a8244870d0d0d723042 2019-03-13 18:12:23 +0000 fishythefish@google.com Fix typo in diagnostic when non-bool is passed to logical or. 

Change-Id: I406c062359a0dfbb89f22a6a6cb25017eed740e6
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96823
Reviewed-by: Sigmund Cherem <sigmund@google.com>
Commit-Queue: Mayank Patke <fishythefish@google.com>

commit 7d560f8385eaeee0fd95ec08e25db0c217b1cd3e
dart-results-feed-commit-entry
7d560f8385eaeee0fd95ec08e25db0c217b1cd3e 2019-03-13 17:10:12 +0000 kevmoo@google.com Remove outdated entries from .packages 

Change-Id: I52caf28cdfa17b0481f24d317ffb384bac13284e
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96822
Reviewed-by: William Hesse <whesse@google.com>
Commit-Queue: Kevin Moore <kevmoo@google.com>

commit ee529e3451ad670fe1b71131af657bca58b4c08f
dart-results-feed-commit-entry
ee529e3451ad670fe1b71131af657bca58b4c08f 2019-03-13 16:39:02 +0000 alexmarkov@google.com [vm] Fix typo forwader => forwarder 

Change-Id: I67906e25ddaf2fb6650f61dad7c12c96b6367222
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96821
Commit-Queue: Samir Jindel <sjindel@google.com>
Auto-Submit: Alexander Markov <alexmarkov@google.com>
Reviewed-by: Samir Jindel <sjindel@google.com>

commit 2ddb2d2d20555be2e98771bc12a363658904bd93
dart-results-feed-commit-entry
2ddb2d2d20555be2e98771bc12a363658904bd93 2019-03-13 16:25:42 +0000 scheglov@google.com Change 'analyze tests co19_2' to use '-asserts'. 

Change-Id: I9ed20ff353fcbdc8042589e619b275e84d5dc7e0
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96820
Reviewed-by: Alexander Thomas <athom@google.com>
Commit-Queue: Konstantin Shcheglov <scheglov@google.com>

commit b03db4537940b3e0ba8a7d2acecf220550904e2a
dart-results-feed-commit-entry
b03db4537940b3e0ba8a7d2acecf220550904e2a 2019-03-13 16:14:12 +0000 alexmarkov@google.com [vm] Decouple flow graph building of dynamic invocation forwarders from kernel reading 

Change-Id: I65f8fb5f3817630870e752ecb14ff3fb0506e7ef
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96711
Commit-Queue: Alexander Markov <alexmarkov@google.com>
Reviewed-by: Samir Jindel <sjindel@google.com>

commit 6587483d3320d2f5957b979b782bb54513052e4f
dart-results-feed-commit-entry
6587483d3320d2f5957b979b782bb54513052e4f 2019-03-13 15:31:52 +0000 aam@google.com [frontend] Dont re-report compile-expression errors. 

Fixes dartbug.com/36091

Change-Id: I122359ad2377499511118c943dc8c27347fb2007
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96406
Reviewed-by: Jens Johansen <jensj@google.com>
Commit-Queue: Alexander Aprelev <aam@google.com>

commit 81fa14eb3c1cf90949398513cdfe1d8de6f84f07
dart-results-feed-commit-entry
81fa14eb3c1cf90949398513cdfe1d8de6f84f07 2019-03-13 15:18:22 +0000 scheglov@google.com Hollow out AnalysisContextImpl. 

R=brianwilkerson@google.com

Change-Id: I4ebc67de74cc4bbda63c9f0a8f7c11dbc3f25b21
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96720
Commit-Queue: Konstantin Shcheglov <scheglov@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>

commit b10a6bd5ce982ebe85b64d18cf36adc3165d95f3
dart-results-feed-commit-entry
b10a6bd5ce982ebe85b64d18cf36adc3165d95f3 2019-03-13 14:11:12 +0000 whesse@google.com [testing] Multitests' copied imports should not be read-only 

Change-Id: I4f2957385336f5f56fa804360aca902b019aac58
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96801
Auto-Submit: William Hesse <whesse@google.com>
Reviewed-by: Jonas Termansen <sortie@google.com>
Commit-Queue: William Hesse <whesse@google.com>

commit 9684748784e790fa1229efd442449e8cd8857e01
dart-results-feed-commit-entry
9684748784e790fa1229efd442449e8cd8857e01 2019-03-13 13:58:04 +0000 cskau@google.com Removes superfluous Dart_ExitScope() call in CreateVmServiceIsolate. 

Bug: Crash in Dart in CreateVmServiceIsolate() when bin::VmService::Setup() fails.
Change-Id: I9c640daa49fc9894d00523e0d986154cc4d4e062
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96802
Auto-Submit: Clement Skau <cskau@google.com>
Reviewed-by: Vyacheslav Egorov <vegorov@google.com>
Reviewed-by: Clement Skau <cskau@google.com>
Commit-Queue: Vyacheslav Egorov <vegorov@google.com>

commit 4a7556840fcdd80e967fd91beb7f06080decbbee
dart-results-feed-commit-entry
4a7556840fcdd80e967fd91beb7f06080decbbee 2019-03-13 13:38:22 +0000 brianwilkerson@google.com Rename tests ending with Test_Driver 

Change-Id: I1b4822630a2508e8a41ba6c5564eae5a54f56622
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96740
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>
Commit-Queue: Brian Wilkerson <brianwilkerson@google.com>

commit 8c3f74817ec6c23ed06262301fb49e4f17937045
dart-results-feed-commit-entry
8c3f74817ec6c23ed06262301fb49e4f17937045 2019-03-13 13:31:52 +0000 kevmoo@google.com dartfmt -w --fix dart:collection 

Change-Id: Ia643bb49fe22150f794a187a71c19ad4c61b5694
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96663
Reviewed-by: Lasse R.H. Nielsen <lrn@google.com>
Commit-Queue: Kevin Moore <kevmoo@google.com>

commit afb459f7fa24984732bdf8aac632b87d5c477186
dart-results-feed-commit-entry
afb459f7fa24984732bdf8aac632b87d5c477186 2019-03-13 12:13:52 +0000 kmillikin@google.com [cfe] Iterate map entries in map spreads 

There was a missing call to the getter Map.entries in the translation
of map spreads.  Fixes https://github.com/dart-lang/sdk/issues/36173

Change-Id: I211a61173c383f1c64032eb04491d03e4331cc9a
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96780
Reviewed-by: Aske Simon Christensen <askesc@google.com>
Commit-Queue: Kevin Millikin <kmillikin@google.com>

commit ed5bc9c53847dc06f5bd712ceef81a7959ee01ed
dart-results-feed-commit-entry
ed5bc9c53847dc06f5bd712ceef81a7959ee01ed 2019-03-13 12:13:12 +0000 vegorov@google.com [vm] Fix AssertAssignable strengthening sometimes using wrong deopt_id. 

For some reason this code used deopt_id from the environment attached
to the AssertAssignable instruction, rather than deopt_id from the
instruction itself.

Under certain conditions this deopt_id is -1 which usually does
not cause any problems because no other code uses it.

Compiler is now changed in a way that only sets Environment::deopt_id_
for outer environments and innermost environment always has deopt_id_ set
to DeoptId::kNone.

This bug manifested itself as a very rare crash on lib_2/convert/chunked_conversion_utf8_test.dart
test on optcounter bot.

This change also converts an assertion that verifies that deoptimization target
always exists into a FATAL to make such crashes more informative.

TEST=runtime/tests/vm/dart/licm_and_assert_strengthening_test.dart

Change-Id: Ib58237b0f4ae279dcf9d88cac031156e88bf4828
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96657
Auto-Submit: Vyacheslav Egorov <vegorov@google.com>
Reviewed-by: Martin Kustermann <kustermann@google.com>
Commit-Queue: Vyacheslav Egorov <vegorov@google.com>

commit 8436dca626763523933b0ed3aa5af598aab01dfa
dart-results-feed-commit-entry
8436dca626763523933b0ed3aa5af598aab01dfa 2019-03-13 12:12:06 +0000 sgrekhov@unipro.ru [co19] DEPS updated 

Change-Id: I487418f0a8a1cad37585d985ac2da6807556b4f6
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96620
Reviewed-by: Alexander Thomas <athom@google.com>

commit a43c525de20ac12d07389d1d4b0cfa3daaa7599f
dart-results-feed-commit-entry
a43c525de20ac12d07389d1d4b0cfa3daaa7599f 2019-03-13 11:47:37 +0000 dacoharkes@google.com Reland "[vm/ffi] Support Windows 64 bit" 

Enables dart:ffi on Windows 64 bit.

Note that function_stress_test.dart fails in two different ways, these are known bugs. https://github.com/dart-lang/sdk/issues/36138

Relanding: Fixed compilation on Android.

Closes: https://github.com/dart-lang/sdk/issues/35771
Change-Id: I7d0c8b64ca8c1726b7d264d4fd9213299a9f7df6
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96781
Reviewed-by: Martin Kustermann <kustermann@google.com>
Commit-Queue: Daco Harkes <dacoharkes@google.com>

commit 3bc3205e39ff1c9d922a4c47ccb5d2433073d738
dart-results-feed-commit-entry
3bc3205e39ff1c9d922a4c47ccb5d2433073d738 2019-03-13 10:34:37 +0000 johnniwinther@google.com Move ConstantValue handling outside BehaviorBuilder 

Change-Id: Ie397c7e1a927e694de2d5968c9c962c024713633
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96659
Commit-Queue: Johnni Winther <johnniwinther@google.com>
Reviewed-by: Sigmund Cherem <sigmund@google.com>

commit 63e22ea4971b5cbc986450ff87fe031df006f5aa
dart-results-feed-commit-entry
63e22ea4971b5cbc986450ff87fe031df006f5aa 2019-03-13 10:34:37 +0000 johnniwinther@google.com Remove unused parts of NativeDataBuilder 

Change-Id: I449e0906f098f5d72f82894c6c24f5975da49e6c
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96656
Reviewed-by: Sigmund Cherem <sigmund@google.com>

commit f3075244218ee66d855ea04ec88f31189173017a
dart-results-feed-commit-entry
f3075244218ee66d855ea04ec88f31189173017a 2019-03-13 09:08:27 +0000 johnniwinther@google.com Support native member annotations through ir constants 

Change-Id: I247385c951d3a794afe7e4066b3b1d1ea14a76b0
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96641
Commit-Queue: Johnni Winther <johnniwinther@google.com>
Reviewed-by: Sigmund Cherem <sigmund@google.com>

commit 7cfe216e6b181147af046e74bb1220bb4119aee8
dart-results-feed-commit-entry
7cfe216e6b181147af046e74bb1220bb4119aee8 2019-03-13 06:46:21 +0000 ahe@google.com TypeInferrer.library is null iff topLevel 

Change-Id: I6164a0d0334d6a4300fd683dbdd31c8eb81398c0
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96654
Reviewed-by: Aske Simon Christensen <askesc@google.com>
Commit-Queue: Peter von der Ahé <ahe@google.com>

commit 03ecefc0b218f2aa66d3ec2daa5c43f5a6989ffa
dart-results-feed-commit-entry
03ecefc0b218f2aa66d3ec2daa5c43f5a6989ffa 2019-03-13 06:46:21 +0000 ahe@google.com Move ShadowMember.resolveInferenceNode to TypeInferenceEngine 

Change-Id: Ib1c200c3b04fd2a078a130ba93e4b0e738604464
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96653
Reviewed-by: Aske Simon Christensen <askesc@google.com>

commit c7270f25fedb8b0ed495b0e35c8157ffc9b93ce2
dart-results-feed-commit-entry
c7270f25fedb8b0ed495b0e35c8157ffc9b93ce2 2019-03-13 06:46:21 +0000 ahe@google.com Add Declaration.isAnonymousMixinApplication 

Change-Id: Iea0568a6d280db2f811af8579c1146820bbb2c31
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96652
Reviewed-by: Aske Simon Christensen <askesc@google.com>

commit 0cbce074ac721162cab5bfa0a7409e9d4a23e5af
dart-results-feed-commit-entry
0cbce074ac721162cab5bfa0a7409e9d4a23e5af 2019-03-13 06:46:21 +0000 ahe@google.com Add toString to Substitution 

Change-Id: I7fb82f781aeafb4ef4a037c405a7201e9b52ba1a
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96651
Reviewed-by: Aske Simon Christensen <askesc@google.com>

commit b990c503c84ab622b60c27da529cc4ea6155e2fa
dart-results-feed-commit-entry
b990c503c84ab622b60c27da529cc4ea6155e2fa 2019-03-13 06:46:21 +0000 ahe@google.com Fix typo in mixin transformer 

Change-Id: Ie351a9419a1957f777f229c6caf8515a90c0e6d7
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96649
Reviewed-by: Aske Simon Christensen <askesc@google.com>

commit da3c23bdaa10d93609827145b03d8675b6218fc0
dart-results-feed-commit-entry
da3c23bdaa10d93609827145b03d8675b6218fc0 2019-03-13 06:46:21 +0000 ahe@google.com Test override-based inference when inheriting conflicting types 

Change-Id: If7c1b0bf3111b05c5e2b083da749453a4ba9e675
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96648
Reviewed-by: Aske Simon Christensen <askesc@google.com>

commit f200c37553bdbf1e01693090ae05c1863c9b9598
dart-results-feed-commit-entry
f200c37553bdbf1e01693090ae05c1863c9b9598 2019-03-13 06:46:21 +0000 ahe@google.com Enable extra VM options in fasta script 

Change-Id: Ib7f68bee7155dcf4ad49d6b17bea6eb071f31f8f
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96646
Reviewed-by: Aske Simon Christensen <askesc@google.com>

commit 69c1d1096ddc6d7ebabaf3c2d9a7062d0284d7b1
dart-results-feed-commit-entry
69c1d1096ddc6d7ebabaf3c2d9a7062d0284d7b1 2019-03-13 06:46:21 +0000 ahe@google.com Update test as combined member signature would fail 

Change-Id: Ifc336b706fa1315f206f2214eb233489bd21c763
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96645
Reviewed-by: Erik Ernst <eernst@google.com>
Reviewed-by: Aske Simon Christensen <askesc@google.com>

commit 68aeb5cec2ee496d2bdb8ddc2b16ca828c5d99c2
dart-results-feed-commit-entry
68aeb5cec2ee496d2bdb8ddc2b16ca828c5d99c2 2019-03-13 06:46:21 +0000 ahe@google.com Tweak error messages related to inference and overriding. 

Change-Id: I216da55c0b5a6c6cc5b6f26f7a4565ae1e392c72
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96644
Reviewed-by: Aske Simon Christensen <askesc@google.com>

commit 0a337bb36f6dd1fdddaf9bc3fc2072fbd9f39156
dart-results-feed-commit-entry
0a337bb36f6dd1fdddaf9bc3fc2072fbd9f39156 2019-03-13 06:40:05 +0000 scheglov@google.com Report CONST_SPREAD_EXPECTED_LIST_OR_SET and CONST_SPREAD_EXPECTED_MAP. 

R=brianwilkerson@google.com, paulberry@google.com

Change-Id: I70eb31a19c447d17b4cc60ae2ff3caadb35cc6bd
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96712
Commit-Queue: Konstantin Shcheglov <scheglov@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>

commit 1bd36d694dba00d92651fcd2340e91d5a74efb03
dart-results-feed-commit-entry
1bd36d694dba00d92651fcd2340e91d5a74efb03 2019-03-12 23:42:35 +0000 regis@google.com [vm runtime] Dynamically disable dual mapping of code on some platforms. 

Until a better solution is found, disable dual mapping of code on docker
containers that fail setting exec permissions on dual mappings.

Change-Id: Ic7477e1ef70ae0ea4d0187284702d5a3ee594edf
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96668
Commit-Queue: Régis Crelier <regis@google.com>
Commit-Queue: Alexander Aprelev <aam@google.com>
Auto-Submit: Régis Crelier <regis@google.com>
Reviewed-by: Alexander Aprelev <aam@google.com>

commit 0bd674c3748eaa39adf7d0f65ae9620dc57d5876
dart-results-feed-commit-entry
0bd674c3748eaa39adf7d0f65ae9620dc57d5876 2019-03-12 21:09:35 +0000 zichangguo@google.com [VM-Runtime] set environment when creating detached process 

environ variable should be updated if user provides environment. It only update for normal processes.
Bug= https://github.com/dart-lang/sdk/issues/36132

Change-Id: I2a4639ed53e7376534578a0b1b251025ffaa2278
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96147
Reviewed-by: Siva Annamalai <asiva@google.com>
Commit-Queue: Zichang Guo <zichangguo@google.com>

commit 578fdb040861a1a15393496cb7d9b0d295ef22bb
dart-results-feed-commit-entry
578fdb040861a1a15393496cb7d9b0d295ef22bb 2019-03-12 21:08:04 +0000 scheglov@google.com Call becomeMap/becomeSet() in AstCloner. 

So, that we have a decided kind for constants.

R=brianwilkerson@google.com, paulberry@google.com

Change-Id: Iee2937e8d525c16e57c8efb4807806edeb19e125
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96662
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>

commit 382cd5938840ee3a93dd5385626305a62122c883
dart-results-feed-commit-entry
382cd5938840ee3a93dd5385626305a62122c883 2019-03-12 21:04:35 +0000 mfairhurst@google.com Update completion target tests for new map syntax 

Change-Id: Ibb059d802aac92af6331e19f0b14aca03859ac42
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96524
Reviewed-by: Mike Fairhurst <mfairhurst@google.com>
Commit-Queue: Mike Fairhurst <mfairhurst@google.com>
Auto-Submit: Mike Fairhurst <mfairhurst@google.com>

commit 1db664764a7b2687279e9c1ebdf9e7ebd0798ad5
dart-results-feed-commit-entry
1db664764a7b2687279e9c1ebdf9e7ebd0798ad5 2019-03-12 20:48:56 +0000 liama@google.com Revert "Copy abi dills in create_sdk build rule" 

This reverts commit 49a0502f494b5190e57b2ef1aae90841a92ef177.

Reason for revert: https://logs.chromium.org/logs/dart/buildbucket/cr-buildbucket.appspot.com/8919160881488492768/+/steps/build_host_debug/0/stdout

Original change's description:
> Copy abi dills in create_sdk build rule
> 
> Bug: https://github.com/dart-lang/sdk/issues/36047
> Change-Id: If73dbe5a62eff54ac0f712dada14ccd4c68c293e
> Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96500
> Reviewed-by: Alexander Thomas <athom@google.com>
> Commit-Queue: Liam Appelbe <liama@google.com>

TBR=rmacnak@google.com,athom@google.com,asiva@google.com,liama@google.com

Change-Id: I90610bc43606a8cb148c9a3d9a1cab532176df8c
No-Presubmit: true
No-Tree-Checks: true
No-Try: true
Bug: https://github.com/dart-lang/sdk/issues/36047
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96665
Reviewed-by: Liam Appelbe <liama@google.com>
Commit-Queue: Liam Appelbe <liama@google.com>

commit a39833d957bada8a30fbbdc3c6c44c4d5ef77642
dart-results-feed-commit-entry
a39833d957bada8a30fbbdc3c6c44c4d5ef77642 2019-03-12 20:45:45 +0000 regis@google.com Reland "Reland "[VM runtime] Dual mapping of executable pages."" 

This is a reland of 6da340bf76f104b982dc90c2f6642cceb4cdcafd

Original change's description:
> Reland "[VM runtime] Dual mapping of executable pages."
> 
> This is a reland of 44186dfdcda19038616b48914d10b4b7a9ccfc2f
> 
> Original change's description:
> > [VM runtime] Dual mapping of executable pages.
> > 
> > Change-Id: Iaad78d324e25462ce951f4df26974a6a368c50b7
> > Reviewed-on: https://dart-review.googlesource.com/c/93377
> > Commit-Queue: Régis Crelier <regis@google.com>
> > Reviewed-by: Ryan Macnak <rmacnak@google.com>
> 
> Change-Id: I7a0caa078950637d9fe831732577fd2467061099
> Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95263
> Reviewed-by: Ryan Macnak <rmacnak@google.com>

Change-Id: I3a01f0e67d733c5db41618f691431e72c1e1cb2e
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96422
Reviewed-by: Ryan Macnak <rmacnak@google.com>
Commit-Queue: Régis Crelier <regis@google.com>

commit 49a0502f494b5190e57b2ef1aae90841a92ef177
dart-results-feed-commit-entry
49a0502f494b5190e57b2ef1aae90841a92ef177 2019-03-12 20:24:07 +0000 liama@google.com Copy abi dills in create_sdk build rule 

Bug: https://github.com/dart-lang/sdk/issues/36047
Change-Id: If73dbe5a62eff54ac0f712dada14ccd4c68c293e
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96500
Reviewed-by: Alexander Thomas <athom@google.com>
Commit-Queue: Liam Appelbe <liama@google.com>

commit 23eb57c2bfa83615eb9f47bee8e027f1dea8dce6
dart-results-feed-commit-entry
23eb57c2bfa83615eb9f47bee8e027f1dea8dce6 2019-03-12 19:55:17 +0000 vegorov@google.com Revert "[vm/ffi] Support Windows 64 bit" 

This reverts commit 7f812dea1a409343e26a180ae73b993a6fd78806.

Reason for revert: Flutter build is broken on Golem.

Original change's description:
> [vm/ffi] Support Windows 64 bit
> 
> Enables dart:ffi on Windows 64 bit.
> 
> Note that function_stress_test.dart fails in two different ways, these are known bugs. https://github.com/dart-lang/sdk/issues/36138
> 
> Closes: https://github.com/dart-lang/sdk/issues/35771
> Change-Id: I73012123f2bd90b737fdc1c87c9a9630c20d5660
> Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95647
> Commit-Queue: Daco Harkes <dacoharkes@google.com>
> Reviewed-by: Samir Jindel <sjindel@google.com>
> Reviewed-by: Martin Kustermann <kustermann@google.com>

TBR=kustermann@google.com,sjindel@google.com,dacoharkes@google.com

Change-Id: I5be4538e3c99632a852e4dfb856248eb437fb3ea
No-Presubmit: true
No-Tree-Checks: true
No-Try: true
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96683
Reviewed-by: Vyacheslav Egorov <vegorov@google.com>
Commit-Queue: Vyacheslav Egorov <vegorov@google.com>

commit 22c2c7ffd8f84cc1de0eda7454ca8e43c446db61
dart-results-feed-commit-entry
22c2c7ffd8f84cc1de0eda7454ca8e43c446db61 2019-03-12 19:27:06 +0000 paulberry@google.com Sort declarations in build_mode.dart 

Change-Id: I0fa24b9733c2423ea253d75fd533b4ba2fef415e
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96700
Auto-Submit: Paul Berry <paulberry@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Paul Berry <paulberry@google.com>

commit e2b5559c772e5ed075d847cebbf8db87c3cbfb52
dart-results-feed-commit-entry
e2b5559c772e5ed075d847cebbf8db87c3cbfb52 2019-03-12 18:18:14 +0000 athom@google.com [infra] Use gclient.py to apply patches to bypass update_depot_tools 

apply.sh calls gclient, but the default gclient script always runs
update_depot_tools but that is not available on bots. Calling
gclient.py directly avoids that.

Change-Id: Ief80b4822277aa5a0d075c324eed0ef15a81359d
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96682
Reviewed-by: Alexander Aprelev <aam@google.com>

commit f4b524cdf142303e5a6ba697cf1c831c733f25a9
dart-results-feed-commit-entry
f4b524cdf142303e5a6ba697cf1c831c733f25a9 2019-03-12 17:58:46 +0000 alexmarkov@google.com [vm] Extract reading of parameter covariance attributes 

This change extracts code which reads kernel in order to get
covariance attributes of parameters into a separate function.
This removes code duplication and makes it easier to hook up
reading of covariance attributes from bytecode in future.

Change-Id: Ia19caf3edaf45df9e0bb1bdc715fac21d26788dc
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96560
Commit-Queue: Alexander Markov <alexmarkov@google.com>
Auto-Submit: Alexander Markov <alexmarkov@google.com>
Reviewed-by: Martin Kustermann <kustermann@google.com>
Reviewed-by: Samir Jindel <sjindel@google.com>

commit 16e40cef2f90427071869360f91bc51253db51b0
dart-results-feed-commit-entry
16e40cef2f90427071869360f91bc51253db51b0 2019-03-12 17:50:40 +0000 brianwilkerson@google.com Generate a diagnostic when a set or map literal is ambiguous 

Change-Id: Ia105468cf921ee2548ed48e286297e10f921a986
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96541
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>

commit b89d08355b2d3c71c89faec782e2232e6996d2a2
dart-results-feed-commit-entry
b89d08355b2d3c71c89faec782e2232e6996d2a2 2019-03-12 17:43:16 +0000 athom@google.com [infra] Only move coredump files on shards 

On shards, the files don't need to be tar.gz'ed because the isolate
server will zip them and there aren't many files so tar'ing them doesn't
add much.

Change-Id: I696fe4c64fcee879bb9240e9d1990d2053aa8346
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96655
Reviewed-by: William Hesse <whesse@google.com>
Commit-Queue: Alexander Thomas <athom@google.com>

commit 7f812dea1a409343e26a180ae73b993a6fd78806
dart-results-feed-commit-entry
7f812dea1a409343e26a180ae73b993a6fd78806 2019-03-12 17:30:26 +0000 dacoharkes@google.com [vm/ffi] Support Windows 64 bit 

Enables dart:ffi on Windows 64 bit.

Note that function_stress_test.dart fails in two different ways, these are known bugs. https://github.com/dart-lang/sdk/issues/36138

Closes: https://github.com/dart-lang/sdk/issues/35771
Change-Id: I73012123f2bd90b737fdc1c87c9a9630c20d5660
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95647
Commit-Queue: Daco Harkes <dacoharkes@google.com>
Reviewed-by: Samir Jindel <sjindel@google.com>
Reviewed-by: Martin Kustermann <kustermann@google.com>

commit 469da726d6af221b628ae292bb93d80910f532a0
dart-results-feed-commit-entry
469da726d6af221b628ae292bb93d80910f532a0 2019-03-12 17:30:16 +0000 alexmarkov@google.com [vm] Put covariance attributes into Field flags 

This change reduces number of places where we need to re-parse
kernel field declarations in order to get covariance attributes.

Change-Id: I7d33d3787726270b93d16eda59b09345749a38fb
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96407
Commit-Queue: Alexander Markov <alexmarkov@google.com>
Auto-Submit: Alexander Markov <alexmarkov@google.com>
Reviewed-by: Martin Kustermann <kustermann@google.com>
Reviewed-by: Samir Jindel <sjindel@google.com>

commit 09087490e2a94781670d633d5f1020e2689555f1
dart-results-feed-commit-entry
09087490e2a94781670d633d5f1020e2689555f1 2019-03-12 16:43:27 +0000 pquitslund@google.com update hasFix lookup table 

Change-Id: Ie8386cf9fbdedfc6e8d08ce4939af60f623292a6
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96542
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Phil Quitslund <pquitslund@google.com>

commit bb7b5fcd3749ce45455e061b3ef7b283ab1e70fb
dart-results-feed-commit-entry
bb7b5fcd3749ce45455e061b3ef7b283ab1e70fb 2019-03-12 16:39:27 +0000 pquitslund@google.com add missing fix tests 

Change-Id: I5c01d0a551050ce9bca36003efa0f6743a7965c8
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96543
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Phil Quitslund <pquitslund@google.com>

commit 48a5c3825a1a4079aaaa2fb034d3d5039f846fe5
dart-results-feed-commit-entry
48a5c3825a1a4079aaaa2fb034d3d5039f846fe5 2019-03-12 16:35:21 +0000 pquitslund@google.com assist to convert to absolute imports 

Change-Id: I2fd6ca7ec1184d56dfe97d430dc9a6c28a8c64bd
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96180
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Phil Quitslund <pquitslund@google.com>

commit b3927f66dfd446da0c05212e73f09870463e799e
dart-results-feed-commit-entry
b3927f66dfd446da0c05212e73f09870463e799e 2019-03-12 16:31:22 +0000 vegorov@google.com [gardening] Mark tests that crash as crashing 

This blocks crash uploading which should resolve redness on Mac
which produces huge core dumps.

Change-Id: Iad3f5e1be246d0de6db0aa3eee47b2f6777f5889
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96658
Reviewed-by: Vyacheslav Egorov <vegorov@google.com>
Commit-Queue: Vyacheslav Egorov <vegorov@google.com>
Auto-Submit: Vyacheslav Egorov <vegorov@google.com>

commit 2d6ddf2affa006b0b015a23d7d89c1b81d79d676
dart-results-feed-commit-entry
2d6ddf2affa006b0b015a23d7d89c1b81d79d676 2019-03-12 15:09:12 +0000 paulberry@google.com Remove unnecessary override from PartialResolverVisitor 

Change-Id: If05409eadb6dd0baa39dfa6bfe087ae046fe57db
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96661
Auto-Submit: Paul Berry <paulberry@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Paul Berry <paulberry@google.com>

commit ba3b9b3b65df28c9fe87e930193d321d576c3108
dart-results-feed-commit-entry
ba3b9b3b65df28c9fe87e930193d321d576c3108 2019-03-12 14:59:42 +0000 paulberry@google.com Sort static_type_analyzer_test.dart 

Change-Id: I4767ea98e947279d1af5d4295d1c8e66c02dee80
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96660
Auto-Submit: Paul Berry <paulberry@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Paul Berry <paulberry@google.com>

commit 1edc6d4b4d5b321ad61f1c8b3e407a4849bb7074
dart-results-feed-commit-entry
1edc6d4b4d5b321ad61f1c8b3e407a4849bb7074 2019-03-12 14:51:24 +0000 sortie@google.com [infra] Fix approve_results not erroring properly if tryjobs lack results. 

Fixes https://github.com/dart-lang/sdk/issues/36157

Change-Id: I9c85cc9e54a5c09353c74897f39d01b0784ab2b8
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96650
Reviewed-by: William Hesse <whesse@google.com>

commit 1a196d43a70bdb00ac56dd479a0cbdf314f9afef
dart-results-feed-commit-entry
1a196d43a70bdb00ac56dd479a0cbdf314f9afef 2019-03-12 10:32:22 +0000 kustermann@google.com [VM/AOT] Execute catch-entry moves in parallel (our AOT doesn't generate non-cyclic moves) 

Change-Id: Idfea23f9003bc3bf4b902da315835b9ac9239f36
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96580
Reviewed-by: Vyacheslav Egorov <vegorov@google.com>
Commit-Queue: Martin Kustermann <kustermann@google.com>

commit 6a2aa920cd76c86174322e2d26ef6577cd70e6f1
dart-results-feed-commit-entry
6a2aa920cd76c86174322e2d26ef6577cd70e6f1 2019-03-12 09:28:32 +0000 johnniwinther@google.com Support pragma annotations through ir constants 

Change-Id: I40b2662a00596ca9ebbb5301f99b541806e71515
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96280
Reviewed-by: Sigmund Cherem <sigmund@google.com>
Commit-Queue: Johnni Winther <johnniwinther@google.com>

commit d3d077090d1142a2cd87b30267291f9243ea51aa
dart-results-feed-commit-entry
d3d077090d1142a2cd87b30267291f9243ea51aa 2019-03-12 09:05:42 +0000 kustermann@google.com [VM/FrontendServer] Add 3head patch to frontend server after breaking API changes 

This CL

  https://dart-review.googlesource.com/c/sdk/+/95683

changed the names of named, optional parameters of methods which are
overridden by code in flutter/engine.

Change-Id: I09d054b33297c0eaaf00928d0c69761abb57082a
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96581
Reviewed-by: Daco Harkes <dacoharkes@google.com>
Commit-Queue: Martin Kustermann <kustermann@google.com>

commit 016e3172d1b3f6d945f32c0893cb34ce25a98689
dart-results-feed-commit-entry
016e3172d1b3f6d945f32c0893cb34ce25a98689 2019-03-12 00:26:01 +0000 scheglov@google.com Default parameters, more metadata, import dart:core. 

R=brianwilkerson@google.com, paulberry@google.com

Change-Id: Ibf31dcc7e0fbea3935f75c7472a23eac4c2999eb
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96522
Commit-Queue: Konstantin Shcheglov <scheglov@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>

commit 853d38896eaaf6eb214d7c474909ce86aab9a8c9
dart-results-feed-commit-entry
853d38896eaaf6eb214d7c474909ce86aab9a8c9 2019-03-11 22:32:31 +0000 kustermann@google.com [VM/AOT] Fixes incorrect deserialization of catch entry moves 

The catch entry moves are serialized in a space-efficient manner using a
suffix tree.  The deserialization logic was not always correctly reading
the right catch entry moves which can cause incorrect stack frame on
catch entries and therefore can cause crashes.

Change-Id: Ic0eda8924f80262f5477ed5606eb6f74c55242c3
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96104
Commit-Queue: Martin Kustermann <kustermann@google.com>
Reviewed-by: Vyacheslav Egorov <vegorov@google.com>
Reviewed-by: Alexander Markov <alexmarkov@google.com>

commit 3cf7d6a9c7fffc0f9a0728599a9eff69a83c068a
dart-results-feed-commit-entry
3cf7d6a9c7fffc0f9a0728599a9eff69a83c068a 2019-03-11 21:56:41 +0000 markzipan@google.com [tests] Changing expected cast errors to type errors for collections tests 

Change-Id: I0e48dba7b1612994075629c43331794bfb2d2530
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96421
Reviewed-by: Bob Nystrom <rnystrom@google.com>
Commit-Queue: Mark Zhou <markzipan@google.com>

commit b87c44d6b340eb7f5b6ebc5647cf86334c9ed14a
dart-results-feed-commit-entry
b87c44d6b340eb7f5b6ebc5647cf86334c9ed14a 2019-03-11 21:51:31 +0000 brianwilkerson@google.com Generate diagnostic for non-bool conditions in if elements 

Change-Id: I36bd37a3a3bdfea7ca0853d90299b5fa7d36a352
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96520
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>
Reviewed-by: Paul Berry <paulberry@google.com>
Commit-Queue: Brian Wilkerson <brianwilkerson@google.com>

commit 74395d940f66a227c22440a5e8c49f10b73b92e6
dart-results-feed-commit-entry
74395d940f66a227c22440a5e8c49f10b73b92e6 2019-03-11 21:39:47 +0000 scheglov@google.com Comment out test_import_short_absolute that fails on Windows. 

TBR

R=brianwilkerson@google.com, paulberry@google.com

Change-Id: Ic613b1c0f1acb5fc8cac0023cfd989b2dabccf0e
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96521
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>

commit 7c1544898d70943e04e408c6bd072011fb833695
dart-results-feed-commit-entry
7c1544898d70943e04e408c6bd072011fb833695 2019-03-11 20:56:21 +0000 alexmarkov@google.com [vm] Decouple flow graph building of implicit getters and setters from kernel reading 

Change-Id: I514fa59e88afaa63f989b9bd373a20ea42d1d0e3
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96204
Reviewed-by: Aart Bik <ajcbik@google.com>
Commit-Queue: Alexander Markov <alexmarkov@google.com>
Auto-Submit: Alexander Markov <alexmarkov@google.com>

commit 57f4da318cf626133688a76b862a044066f7f40c
dart-results-feed-commit-entry
57f4da318cf626133688a76b862a044066f7f40c 2019-03-11 20:17:46 +0000 rmacnak@google.com [vm, gc] The mutator's TLAB and the interpreter's lookup cache must be visited even if the mutator is unscheduled. 

Remove strange conditional the made this a no-op before heap verification.

Bug: TC-384
Change-Id: Ic5aee093c6ee37df5d61dc5c22c79097a73d43e2
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96400
Reviewed-by: Alexander Aprelev <aam@google.com>
Commit-Queue: Ryan Macnak <rmacnak@google.com>

commit 15842d4583ceb5091770062c4aa563a4ef868445
dart-results-feed-commit-entry
15842d4583ceb5091770062c4aa563a4ef868445 2019-03-11 20:16:26 +0000 scheglov@google.com Build more import scopes, support for enums. 

R=brianwilkerson@google.com, paulberry@google.com

Change-Id: I78c7a8be5b5d4ea9c9ecbc82f0c1101d7819dd30
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96460
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Konstantin Shcheglov <scheglov@google.com>

commit f2029f54cd290ffdbf48b1f5a5f1b1b802658468
dart-results-feed-commit-entry
f2029f54cd290ffdbf48b1f5a5f1b1b802658468 2019-03-11 19:48:26 +0000 paulberry@google.com Fix type inference of map/set literals when the context is a type parameter. 

Change-Id: Ic78cfd838e7fce4f362770c0827d71b351711e57
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96340
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Paul Berry <paulberry@google.com>

commit 11b9481403f72797790f7b37fe4f916ef4c8f67f
dart-results-feed-commit-entry
11b9481403f72797790f7b37fe4f916ef4c8f67f 2019-03-11 19:20:44 +0000 aam@google.com [vm/frontend] Fix frontend_server_test on Windows. 

Assumption is that invalidated files are identified by uri.
Allow `file:`-uri so uri can be used for compilation/recompilation requests.

Fixes https://github.com/dart-lang/sdk/issues/35946

Change-Id: Ia976486841ddd5e5e78923467f8b2ca58396f994
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95683
Commit-Queue: Alexander Aprelev <aam@google.com>
Reviewed-by: Alexander Markov <alexmarkov@google.com>

commit bfb30bffe0d136423548bb371f3ea5567cef3f7a
dart-results-feed-commit-entry
bfb30bffe0d136423548bb371f3ea5567cef3f7a 2019-03-11 19:14:38 +0000 brianwilkerson@google.com Fix a bug in the ConstantVerifier so that conditional elements are lazily verified 

Change-Id: Ib8b8d5af3dc3a27280116d275616bf26a482bb90
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96360
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>
Reviewed-by: Paul Berry <paulberry@google.com>

commit ed1f95699133e2343a8eb66463d473ee331ac385
dart-results-feed-commit-entry
ed1f95699133e2343a8eb66463d473ee331ac385 2019-03-11 18:12:09 +0000 liama@google.com Fix the abi dills download script 

Bug: https://github.com/dart-lang/sdk/issues/36047
Change-Id: Ic8b6cb0b1b5cb026bc06dd2ff414c026700a7c5e
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96133
Commit-Queue: Liam Appelbe <liama@google.com>
Reviewed-by: Ryan Macnak <rmacnak@google.com>

commit 8f03ae05ffeff853773997ecd3452bd51622e615
dart-results-feed-commit-entry
8f03ae05ffeff853773997ecd3452bd51622e615 2019-03-11 18:04:59 +0000 sortie@google.com [infra] Add --list-configurations option to test.dart. 

This option makes the available named configurations much more discoverable.

Additionally this change expands the available named configurations by
generalizing the operating system and processor architecture patterns
in the named configurations. This change should ensure that nobody is doing
any local testing that isn't covered by a named configuration.

Change-Id: I776105955a86e9f0403ce07a3cdf971e4213646f
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96320
Commit-Queue: Jonas Termansen <sortie@google.com>
Reviewed-by: Alexander Thomas <athom@google.com>

commit 9faca2fa68cb4ce4b1b5171811c8b6b8c1f4e488
dart-results-feed-commit-entry
9faca2fa68cb4ce4b1b5171811c8b6b8c1f4e488 2019-03-11 17:55:18 +0000 rmacnak@google.com [vm] Document lifetime requirements of arguments to Dart_TimelineEvent. 

Strengthen requirement on `label` to match Fuchsia.

Change-Id: Iebc9e0cc7be5984ad2b94dde561b76aec64fe78a
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96145
Reviewed-by: Chinmay Garde <chinmaygarde@google.com>
Commit-Queue: Ryan Macnak <rmacnak@google.com>

commit 295ea59385b9446a1a10704ba1588772f99e93b6
dart-results-feed-commit-entry
295ea59385b9446a1a10704ba1588772f99e93b6 2019-03-11 17:54:39 +0000 rmacnak@google.com [vm] Give functions compiled through Dart_LoadCompilationTrace a non-zero usage counter. 

So they survive a few code collection cycles.

Change-Id: Ie447b1bcd1f46f58b8e06f6b4f7bedfa1cf3dd77
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96203
Commit-Queue: Ryan Macnak <rmacnak@google.com>
Reviewed-by: Zach Anderson <zra@google.com>
Reviewed-by: Alexander Markov <alexmarkov@google.com>

commit def0b21225e13eb5e75396119833032612049c06
dart-results-feed-commit-entry
def0b21225e13eb5e75396119833032612049c06 2019-03-11 17:43:03 +0000 sortie@google.com [infra] Fix test.dart saying untested configurations don't exist. 

There are more named configurations in existance than the ones that actually
run on the builders.

Change-Id: Ie91e71fcec6014830fe286b33c856177fb30c2a2
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96380
Reviewed-by: Alexander Thomas <athom@google.com>

commit abd18541762e70e64061279ffe4639b7b463dbeb
dart-results-feed-commit-entry
abd18541762e70e64061279ffe4639b7b463dbeb 2019-03-11 16:50:43 +0000 paulberry@google.com Fix recording of map/literal context type. 

Previously, we were using the storage space provided by
`InferenceContext.getContext` for two purposes: 1. to store the
inference context passed down from the parent AST node, and 2. to
store the refined inference context computed by
ResolverVisitor._computeContextType.  After type inference, the data
that remained was the refined interface context (2); however,
ErrorVerifier._checkForRawTypeErrors was expecting to be able to
retrieve the downward inference context in order to report
`HintCode.STRICT_RAW_TYPE` correctly.  This caused a failure in
test_strictRawTypes_emptyMap (in checker_test.dart).

This CL fixes the issue by storing the refined inference context (2)
in a field in `SetOrMapLiteralImpl`, so that it doesn't overwrite the
downward inference context (1).

It also fixes an issue that was previously obscured by this bug, where
we weren't copying over the downward inference context when replacing
a set literal with a map literal.  (This fix will become irrelevant
after the next breaking change release of the analyzer, when we stop
creating different objects for set vs. map literals, and simply use
the base class `SetOrMapLiteralImpl`).

In addition, ResolverVisitor._computeContextType has been renamed to
_computeSetOrMapLiteralContextType to clarify that it only computes
context information for set/map literals.

Change-Id: I62a9c4bb6fe755acf60b881948538216af81b515
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96261
Commit-Queue: Paul Berry <paulberry@google.com>
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>

commit a8b3461f2e86451acef0c1e16b62aed1af301e00
dart-results-feed-commit-entry
a8b3461f2e86451acef0c1e16b62aed1af301e00 2019-03-11 15:21:32 +0000 scheglov@google.com New summaries work snapshot. 

1. Extract LinkingBundleContext to store references and types.

2. Resolve and resynthesize metadata for many nodes.

R=brianwilkerson@google.com, paulberry@google.com

Change-Id: I88334bd4509efe0182a4bba6a67edac99ed51886
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96262
Commit-Queue: Konstantin Shcheglov <scheglov@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>

commit 9e7627b6a14862ae3c0bd17996a691a7657528ba
dart-results-feed-commit-entry
9e7627b6a14862ae3c0bd17996a691a7657528ba 2019-03-11 14:43:22 +0000 paulberry@google.com Re-land "Eliminate uses of old AST node types from pkg/analyzer/lib/src/summary" 

There are two bug fixes:

- Due to dartbug.com/33441, it's possible that a set/map literal
  resynthesized from a summary will have neither its `isSet` or
  `isMap` boolean set to `true`.  We work around the problem for the
  short term assuming such literals are maps.

- The linker method ConstNode.collectDependencies hadn't been updated
  to handle the new summary nodes `makeUntypedSetOrMap` and
  `makeTypedMap2`.

This CL includes unit tests for these two bug fixes.

Original change description:

> Eliminate uses of old AST node types from pkg/analyzer/lib/src/summary
>
> Change-Id: Ida907040d0461d9ae723421eeac71f4e19a8d4b2
> Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95284
> Commit-Queue: Paul Berry <paulberry@google.com>
> Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
> Bug:

Change-Id: Ie26be4e0e241872ef4c7e183ada1f1d6b5f6e7f0
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96264
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>
Commit-Queue: Paul Berry <paulberry@google.com>

commit 210361ae635d9c8957cb95955932a7080bcccf1d
dart-results-feed-commit-entry
210361ae635d9c8957cb95955932a7080bcccf1d 2019-03-11 13:20:14 +0000 brianwilkerson@google.com Move IgnoreInfo out of the task model code base 

Change-Id: Ib164e66ed96325042c9ab18de6489ab2d1c700ca
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96263
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>
Commit-Queue: Brian Wilkerson <brianwilkerson@google.com>

commit 440b4cd84e69d8b67a023ac9df605975b46a7276
dart-results-feed-commit-entry
440b4cd84e69d8b67a023ac9df605975b46a7276 2019-03-11 13:08:34 +0000 johnniwinther@google.com Insert implicit casts when setting interface targets 

This preserves the invariant that method invocations and property sets
with an interface target handle static types at the call site.

This is a prerequisite to improving dart2js with implicit checks.
With this we can mark dynamic invocations a statically safe and
discover when instance methods don't need to check parameter types.

Change-Id: Ife7a3f947952b3c1f73316b922b2aa107343068e
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95400
Commit-Queue: Johnni Winther <johnniwinther@google.com>
Reviewed-by: Sigmund Cherem <sigmund@google.com>

commit 567d552de8ff93d704111467e7f3bf3b896ab684
dart-results-feed-commit-entry
567d552de8ff93d704111467e7f3bf3b896ab684 2019-03-11 12:52:03 +0000 athom@google.com [infra] Add versionchecker and debianpackage to test matrix 

* Run Debian package creation in a Docker container.
* Upload archives from Docker host (the container lacks credentials).
* Remove BUILDBOT_BUILDERNAME environment variables from test matrix:
  They are overwritten in the recipe.

Change-Id: I90d7747e64231bdb745c85030a9cecf256adbaf0
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/94542
Reviewed-by: William Hesse <whesse@google.com>

commit 576c4c71d9547d7edd83428fa7c9e70c06c73f41
dart-results-feed-commit-entry
576c4c71d9547d7edd83428fa7c9e70c06c73f41 2019-03-11 08:37:10 +0000 askesc@google.com [CFE] Always clone subexpressions of unevaluated constants. 

This makes the constant evaluator entirely non-destructive.

Change-Id: I0d347b51821e393e46c8d7782f0ccbc35712f0de
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96101
Reviewed-by: Kevin Millikin <kmillikin@google.com>
Commit-Queue: Aske Simon Christensen <askesc@google.com>

commit 674fd0e060a33deeedbc2f8fae7c32c7e3f0d8d5
dart-results-feed-commit-entry
674fd0e060a33deeedbc2f8fae7c32c7e3f0d8d5 2019-03-10 20:02:52 +0000 shyndman@google.com Fixes VSCode highlighting of num.dart. 

Closing backticks were required.

Closes #36146
https://github.com/dart-lang/sdk/pull/36146

GitOrigin-RevId: db9e112e92ec7de1c3f8e7ebb8e6171391853dd6
Change-Id: Idfdc28c99037bcad808dd70084057b0adf7adc6a
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95983
Reviewed-by: Vyacheslav Egorov <vegorov@google.com>

commit fa90c9abe5cf53a3c62ff899a437038e696ecf74
dart-results-feed-commit-entry
fa90c9abe5cf53a3c62ff899a437038e696ecf74 2019-03-10 17:06:28 +0000 scheglov@google.com New summaries work snapshot. 

1. Extract TokensWriter and TokensContext.

2. Type parameters for more declarations.

Change-Id: Iaeeaa5c8da98c9fa5dce65244ccb28e66d3656a1
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96224
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Konstantin Shcheglov <scheglov@google.com>

commit ed9e70c77159bda15b643be81dfc5c8d5c451f08
dart-results-feed-commit-entry
ed9e70c77159bda15b643be81dfc5c8d5c451f08 2019-03-09 17:37:16 +0000 brianwilkerson@google.com Add completion support for the ui-as-code features 

Change-Id: I7835e7169fc702f69f01db0dd1f598a663dff196
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96223
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>
Commit-Queue: Brian Wilkerson <brianwilkerson@google.com>

commit 133529675013342cfe7ff8c3daa656de16266c4b
dart-results-feed-commit-entry
133529675013342cfe7ff8c3daa656de16266c4b 2019-03-09 17:24:06 +0000 scheglov@google.com Move SourceLibraryBuilder builder, support for typedef(s), some type parameters. 

R=brianwilkerson@google.com, paulberry@google.com

Change-Id: I5c78a165d9d4c60bb268dccd4ace47985d98529c
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96221
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Konstantin Shcheglov <scheglov@google.com>

commit 9ff0a654ca1bb7fd45eeeaf319ab28fc0cccf623
dart-results-feed-commit-entry
9ff0a654ca1bb7fd45eeeaf319ab28fc0cccf623 2019-03-09 14:15:39 +0000 vegorov@google.com Revert "Reland "[VM runtime] Dual mapping of executable pages."" 

This reverts commit 6da340bf76f104b982dc90c2f6642cceb4cdcafd.

Reason for revert: almost all benchmarks are now failing on Golem linux-x64 target. Flutter Golem build is broken 

Original change's description:
> Reland "[VM runtime] Dual mapping of executable pages."
> 
> This is a reland of 44186dfdcda19038616b48914d10b4b7a9ccfc2f
> 
> Original change's description:
> > [VM runtime] Dual mapping of executable pages.
> > 
> > Change-Id: Iaad78d324e25462ce951f4df26974a6a368c50b7
> > Reviewed-on: https://dart-review.googlesource.com/c/93377
> > Commit-Queue: Régis Crelier <regis@google.com>
> > Reviewed-by: Ryan Macnak <rmacnak@google.com>
> 
> Change-Id: I7a0caa078950637d9fe831732577fd2467061099
> Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95263
> Reviewed-by: Ryan Macnak <rmacnak@google.com>

TBR=rmacnak@google.com,regis@google.com

Change-Id: I3342de2584537269ffe9a53946bef27cb25a69fc
No-Presubmit: true
No-Tree-Checks: true
No-Try: true
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96161
Reviewed-by: Vyacheslav Egorov <vegorov@google.com>
Commit-Queue: Vyacheslav Egorov <vegorov@google.com>

commit 9e5cf6b09e20a5a88aaba06f6547024b4eceb05c
dart-results-feed-commit-entry
9e5cf6b09e20a5a88aaba06f6547024b4eceb05c 2019-03-09 13:43:26 +0000 paulberry@google.com Improve set/map/list literal type checking. 

We now exclusively use StaticWarningCode.*_TYPE_NOT_ASSIGNABLE to
report static errors.
CheckedModeCompileTimeErrorCode.*_TYPE_NOT_ASSIGNABLE is reserved for
future use when #21119 is fixed.

Change-Id: I681b1253417a135272361306cb3468dd9590b17b
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96200
Commit-Queue: Paul Berry <paulberry@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>

commit affcca729b70793811f0a4bc4f32ac52d78a019c
dart-results-feed-commit-entry
affcca729b70793811f0a4bc4f32ac52d78a019c 2019-03-09 00:13:06 +0000 paulberry@google.com Fix some tests broken by CL 94993 

Some of the "regressions" in CL 94993
(73be247e123bd9514a1d573701da5670707e6c2a) just turned out to be test
expectations that needed to be updated.  This CL makes the following
kinds of updates to test expectations:

- Adds info:INFERRED_TYPE_LITERAL when necessary (some of the code for
  inferring the types of type literals has been generalized, so this
  info is reported more frequently than it previously was).

- Removes duplicate error:*_TYPE_NOT_ASSIGNABLE (it was previously a
  bug to report this twice; that bug is now fixed).

Change-Id: I75a6ab3c420c2aa868ec8cb203e33f76a1e57a75
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96201
Commit-Queue: Paul Berry <paulberry@google.com>
Commit-Queue: Brian Wilkerson <brianwilkerson@google.com>
Auto-Submit: Paul Berry <paulberry@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>

commit f6c8468a985dd79cc00184d90d9882a5f06f8d5f
dart-results-feed-commit-entry
f6c8468a985dd79cc00184d90d9882a5f06f8d5f 2019-03-09 00:07:36 +0000 paulberry@google.com Revert "Eliminate uses of old AST node types from pkg/analyzer/lib/src/summary" 

This reverts commit 0b40a46ab5d8286bc608e60062d2e449b79f628e.

Reason for revert: Broke flutter

Original change's description:
> Eliminate uses of old AST node types from pkg/analyzer/lib/src/summary
> 
> Change-Id: Ida907040d0461d9ae723421eeac71f4e19a8d4b2
> Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95284
> Commit-Queue: Paul Berry <paulberry@google.com>
> Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>

TBR=paulberry@google.com,scheglov@google.com,brianwilkerson@google.com,mfairhurst@google.com

Change-Id: Ie13d23c84ea59c60acf56fd0d73f73c91107f6ed
No-Presubmit: true
No-Tree-Checks: true
No-Try: true
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96202
Reviewed-by: Paul Berry <paulberry@google.com>
Commit-Queue: Paul Berry <paulberry@google.com>

commit 303b8bab3abaccedd89be44e9a88e532d1820271
dart-results-feed-commit-entry
303b8bab3abaccedd89be44e9a88e532d1820271 2019-03-09 00:02:46 +0000 pquitslund@google.com fix for null_closures 

Change-Id: I413b71dd1acdeaca4c4950b3e6914c1695b72018
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95981
Commit-Queue: Phil Quitslund <pquitslund@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>

commit 231c5c138e575de171f59b177efa32189bdaba78
dart-results-feed-commit-entry
231c5c138e575de171f59b177efa32189bdaba78 2019-03-08 23:46:55 +0000 johnniwinther@google.com Create codegen work item for all members 

Ensures that constants of effectively constant instance fields are
registered also with --omit-implicit-checks.

Change-Id: Icc31799f1cc5f565321c832780f30c711e9c8c50
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96160
Reviewed-by: Sigmund Cherem <sigmund@google.com>
Commit-Queue: Sigmund Cherem <sigmund@google.com>

commit 0b40a46ab5d8286bc608e60062d2e449b79f628e
dart-results-feed-commit-entry
0b40a46ab5d8286bc608e60062d2e449b79f628e 2019-03-08 23:22:45 +0000 paulberry@google.com Eliminate uses of old AST node types from pkg/analyzer/lib/src/summary 

Change-Id: Ida907040d0461d9ae723421eeac71f4e19a8d4b2
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95284
Commit-Queue: Paul Berry <paulberry@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>

commit 37fa71dc4e046b422a99ac81814aa93569ed6314
dart-results-feed-commit-entry
37fa71dc4e046b422a99ac81814aa93569ed6314 2019-03-08 22:55:59 +0000 scheglov@google.com Resolve types in scopes, resynthesize some elements. 

Also some very basic top-level inference: field formal initializers in
constructors, initializers of top-level variables (for now ignoring
dependencies), setter return type to `void`.

We pass 172 or 590 resynthesis tests, about 29%.

Change-Id: Id70b80ceb7c794627626a1fe94172b0e9ccdda8b
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95672
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Reviewed-by: Paul Berry <paulberry@google.com>

commit 9f7e11c06b16c93c63bbfabcfe145b3250c1fe0d
dart-results-feed-commit-entry
9f7e11c06b16c93c63bbfabcfe145b3250c1fe0d 2019-03-08 22:11:34 +0000 paulberry@google.com Remove extraneous `3` from method name 

Change-Id: I71d3cc8f96254e4f428060ecd3dead82b6d9418a
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96146
Auto-Submit: Paul Berry <paulberry@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>

commit d4ccff7b54e4073084403d77d31727add59b217f
dart-results-feed-commit-entry
d4ccff7b54e4073084403d77d31727add59b217f 2019-03-08 21:36:21 +0000 paulberry@google.com Fix _inferSetOrMapLiteralType to handle a context of `?` correctly. 

Also add a comment explaining why it's not necessary to compute the
greatest closure (even though the spec says to do so).

Change-Id: I74f78ca3b6d43fedfaefb13f9120248eb62b283b
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96142
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>

commit 1e1d19bb025aa7a237d3903db96531fd95524ec2
dart-results-feed-commit-entry
1e1d19bb025aa7a237d3903db96531fd95524ec2 2019-03-08 21:35:35 +0000 pquitslund@google.com fix for replace_colon_with_equals 

Change-Id: Ifc4f20d6de04d506b783661ce7f0dbcc01440ca9
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96135
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Phil Quitslund <pquitslund@google.com>

commit 04befc2ab3b1bddcddf503c7a7bc7781dc5a638e
dart-results-feed-commit-entry
04befc2ab3b1bddcddf503c7a7bc7781dc5a638e 2019-03-08 21:17:35 +0000 brianwilkerson@google.com Improve type inference tests 

Change-Id: I8e95d906a7cf933720d7d9012f9a9b66064d0fe3
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96129
Commit-Queue: Brian Wilkerson <brianwilkerson@google.com>
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>
Reviewed-by: Paul Berry <paulberry@google.com>

commit 73be247e123bd9514a1d573701da5670707e6c2a
dart-results-feed-commit-entry
73be247e123bd9514a1d573701da5670707e6c2a 2019-03-08 21:04:20 +0000 paulberry@google.com Eliminate uses of old AST node types from pkg/analyzer/lib/src/generated 

Change-Id: Icba5f914248124909e38091f846054de8924adc8
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/94993
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>

commit 068aa0d2e732f4fb6be72105cc727c82c448a55c
dart-results-feed-commit-entry
068aa0d2e732f4fb6be72105cc727c82c448a55c 2019-03-08 20:48:35 +0000 johnniwinther@google.com Support eagerly initialized static fields. 

Change-Id: I4265fe9bcfccc6a99627e57705868a7ee1da828d
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/94749
Reviewed-by: Stephen Adams <sra@google.com>
Commit-Queue: Johnni Winther <johnniwinther@google.com>

commit e6f56a8adff72d03aebac173a743f9b37b799336
dart-results-feed-commit-entry
e6f56a8adff72d03aebac173a743f9b37b799336 2019-03-08 20:48:31 +0000 ajcbik@google.com [vm/compiler] first vm implementation of block expression 

Rationale:
Implementation of control-flow collections is
done through the notion of block expressions.
This is a first implementation to get this
working. It takes a few shortcuts (like disabling
OSR inside block expressions for now) that may be
refined later.

https://github.com/dart-lang/language/issues/78
https://github.com/dart-lang/language/issues/47

Change-Id: I966bf10942075052fcfd9bac00298a179efc551b
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/94441
Reviewed-by: Alexander Markov <alexmarkov@google.com>
Reviewed-by: Martin Kustermann <kustermann@google.com>

commit 474e7dc865a7b7d65a2e18d0fcae3e13377e8a74
dart-results-feed-commit-entry
474e7dc865a7b7d65a2e18d0fcae3e13377e8a74 2019-03-08 20:31:15 +0000 pquitslund@google.com update add await fix description 

Change-Id: I482a8feed9d0b3d0f8e7914947eee21121cf574a
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96143
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Phil Quitslund <pquitslund@google.com>

commit b3b9375ca702625e76d54a9565771f9a182a0deb
dart-results-feed-commit-entry
b3b9375ca702625e76d54a9565771f9a182a0deb 2019-03-08 20:28:45 +0000 paulberry@google.com Update comments to refer to the greatest/least closure operation. 

Fixes #36129.

Bug: 36129
Change-Id: I29f1182d7071d66d7d9fb6e43b4cb544d52bd344
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96141
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>

commit 6387b1bc73f88e053b359abb7dadb9caafa850db
dart-results-feed-commit-entry
6387b1bc73f88e053b359abb7dadb9caafa850db 2019-03-08 20:27:14 +0000 paulberry@google.com Clarify ambiguity handling logic in _inferSetOrMapLiteralType 

Change-Id: Ibb5b66524be129bcd8cbf2453c22047631c0d8d8
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96140
Auto-Submit: Paul Berry <paulberry@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>

commit b72ab0790d89c748ba401b2e7a861239ef894ed1
dart-results-feed-commit-entry
b72ab0790d89c748ba401b2e7a861239ef894ed1 2019-03-08 20:13:38 +0000 paulberry@google.com Add an Iterable type to the nonstandard SDK test. 

With the new "UI as code" functionality, the analyzer requires any SDK
it analyzes to contain an Iterable type.

Change-Id: Ib098b135665b970040abf9e319b93f36fe09bea8
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96122
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>

commit 1ce3e8af713ce9e97668d76c5f34d25eef3f93f8
dart-results-feed-commit-entry
1ce3e8af713ce9e97668d76c5f34d25eef3f93f8 2019-03-08 19:05:19 +0000 dmitryas@google.com Reland "[cfe] Handle spread map entries of static type Null" 

This is a reland of ccd2c85a1ace40b6a262b5230f11dfc26459286a

Original change's description:
> [cfe] Handle spread map entries of static type Null
> 
> Change-Id: I164b3fa471deb65da93ecfd60ee836ec22eb93e1
> Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96080
> Commit-Queue: Dmitry Stefantsov <dmitryas@google.com>
> Reviewed-by: Kevin Millikin <kmillikin@google.com>

Change-Id: I4519970d8259481e137424f3506b7fb97307b14a
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96134
Reviewed-by: Régis Crelier <regis@google.com>

commit 9f6476392c22bf4952152b1121431ee4fdaa3306
dart-results-feed-commit-entry
9f6476392c22bf4952152b1121431ee4fdaa3306 2019-03-08 19:04:43 +0000 dmitryas@google.com Reland "[cfe] Compile null-aware spreads in non-const maps" 

This is a reland of 3160b084d8032f313c4b6e6f681092eb5ba66973

Original change's description:
> [cfe] Compile null-aware spreads in non-const maps
> 
> Change-Id: I22ee0b8821835bf8f2417f5fb4433898d06e7c36
> Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96060
> Reviewed-by: Kevin Millikin <kmillikin@google.com>

Change-Id: I46198eb380a1813723376e894d5d32261b25dfcb
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96132
Reviewed-by: Régis Crelier <regis@google.com>

commit 10b38fd3f91c1221e4c1457721428bdab9dc361b
dart-results-feed-commit-entry
10b38fd3f91c1221e4c1457721428bdab9dc361b 2019-03-08 19:04:03 +0000 dmitryas@google.com Reland "[cfe] Handle spread elements of static type Null" 

This is a reland of 0a13ef7d03c79aafc18a9165b30ef885cfe81bbd

Original change's description:
> [cfe] Handle spread elements of static type Null
> 
> Change-Id: Idec027766e77237c25fe2274426f92e24f45dec4
> Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96043
> Reviewed-by: Kevin Millikin <kmillikin@google.com>

Change-Id: I222c2b153cdf0ed47a0e83aff5deca4686c10343
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96131
Reviewed-by: Régis Crelier <regis@google.com>

commit c31be8ab5cdfd079aaa7cb25232a13cb88eb0d6d
dart-results-feed-commit-entry
c31be8ab5cdfd079aaa7cb25232a13cb88eb0d6d 2019-03-08 19:03:27 +0000 dmitryas@google.com Reland "[cfe] Disambiguate between sets and maps with spreads" 

This is a reland of b817b274c2f9ef1f3232f95aa15efbec9f6b3b80

Original change's description:
> [cfe] Disambiguate between sets and maps with spreads
> 
> Change-Id: I8da95178d0864dd0d59232a902cdb142be7f135e
> Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95649
> Reviewed-by: Kevin Millikin <kmillikin@google.com>

Change-Id: Id22b7513230f6410dc2af5146d292fc7fc47a0aa
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96130
Reviewed-by: Régis Crelier <regis@google.com>

commit 8430281a6b2c0dd4b9fb9c87e23171dae7910db0
dart-results-feed-commit-entry
8430281a6b2c0dd4b9fb9c87e23171dae7910db0 2019-03-08 18:58:58 +0000 paulberry@google.com Add an implementation of ScopedVisitor.visitForEachPartsWithDeclaration. 

Change-Id: I659609caa84e837801a0a38871c8bb8bb0c8948c
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96121
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>

commit 6da340bf76f104b982dc90c2f6642cceb4cdcafd
dart-results-feed-commit-entry
6da340bf76f104b982dc90c2f6642cceb4cdcafd 2019-03-08 18:33:02 +0000 regis@google.com Reland "[VM runtime] Dual mapping of executable pages." 

This is a reland of 44186dfdcda19038616b48914d10b4b7a9ccfc2f

Original change's description:
> [VM runtime] Dual mapping of executable pages.
> 
> Change-Id: Iaad78d324e25462ce951f4df26974a6a368c50b7
> Reviewed-on: https://dart-review.googlesource.com/c/93377
> Commit-Queue: Régis Crelier <regis@google.com>
> Reviewed-by: Ryan Macnak <rmacnak@google.com>

Change-Id: I7a0caa078950637d9fe831732577fd2467061099
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95263
Reviewed-by: Ryan Macnak <rmacnak@google.com>

commit 2b501b21aab957be80821cabfebf57722b7627e2
dart-results-feed-commit-entry
2b501b21aab957be80821cabfebf57722b7627e2 2019-03-08 17:39:34 +0000 regis@google.com Revert "[cfe] Disambiguate between sets and maps with spreads" 

This reverts commit b817b274c2f9ef1f3232f95aa15efbec9f6b3b80.

Reason for revert: very red bots, gardener not going to blindly approve all redness

Original change's description:
> [cfe] Disambiguate between sets and maps with spreads
> 
> Change-Id: I8da95178d0864dd0d59232a902cdb142be7f135e
> Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95649
> Reviewed-by: Kevin Millikin <kmillikin@google.com>

TBR=dmitryas@google.com,askesc@google.com,kmillikin@google.com

Change-Id: I008c42a5b50da98af32c923b233130920fdb2546
No-Presubmit: true
No-Tree-Checks: true
No-Try: true
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96127
Reviewed-by: Régis Crelier <regis@google.com>
Commit-Queue: Régis Crelier <regis@google.com>

commit ff5f5de1bea397349122dbb62cc7cdb409fb87db
dart-results-feed-commit-entry
ff5f5de1bea397349122dbb62cc7cdb409fb87db 2019-03-08 17:35:43 +0000 regis@google.com Revert "[cfe] Handle spread elements of static type Null" 

This reverts commit 0a13ef7d03c79aafc18a9165b30ef885cfe81bbd.

Reason for revert: very red bots, gardener not going to blindly approve all redness

Original change's description:
> [cfe] Handle spread elements of static type Null
> 
> Change-Id: Idec027766e77237c25fe2274426f92e24f45dec4
> Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96043
> Reviewed-by: Kevin Millikin <kmillikin@google.com>

TBR=dmitryas@google.com,askesc@google.com,kmillikin@google.com

Change-Id: I1cc4656cd7ed8d360dcc4736fe510ece9ea3bf8d
No-Presubmit: true
No-Tree-Checks: true
No-Try: true
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96126
Reviewed-by: Régis Crelier <regis@google.com>
Commit-Queue: Régis Crelier <regis@google.com>

commit b2cb604b9d581a44cdc4f83c709d49faf7e31b12
dart-results-feed-commit-entry
b2cb604b9d581a44cdc4f83c709d49faf7e31b12 2019-03-08 17:31:33 +0000 danrubel@google.com improve literal list/map/set control flow recovery 

* new ExpectedElseOrComma parser error code
* update recovery tests to enable control flow recovery
* rework test to call parser.parseLiteralListSuffix rather than parser.parseLiteralListSuffix

Fix https://github.com/dart-lang/sdk/issues/36141

Change-Id: I5bdee19eb3828de8fbdc514a3820afaa1309df99
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95980
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Dan Rubel <danrubel@google.com>

commit d2d098405ff8860b9163f52d0fab6df442311d1d
dart-results-feed-commit-entry
d2d098405ff8860b9163f52d0fab6df442311d1d 2019-03-08 17:27:38 +0000 nshahan@google.com [tests] Fix some control flow collections tests 

- Remove tests that expect ForElements in const collections.
- Add missing value (or was it the key) in map.

Change-Id: Ic61cbb4326a105618ae4ea169655411359c52045
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96020
Reviewed-by: Bob Nystrom <rnystrom@google.com>
Commit-Queue: Nicholas Shahan <nshahan@google.com>

commit 1a2c93ae00f3f766ae6e7dd5694f5d7e5b05f3a7
dart-results-feed-commit-entry
1a2c93ae00f3f766ae6e7dd5694f5d7e5b05f3a7 2019-03-08 17:19:36 +0000 regis@google.com Revert "[cfe] Compile null-aware spreads in non-const maps" 

This reverts commit 3160b084d8032f313c4b6e6f681092eb5ba66973.

Reason for revert: very red bots, gardener not going to blindly approve all redness

Original change's description:
> [cfe] Compile null-aware spreads in non-const maps
> 
> Change-Id: I22ee0b8821835bf8f2417f5fb4433898d06e7c36
> Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96060
> Reviewed-by: Kevin Millikin <kmillikin@google.com>

TBR=dmitryas@google.com,askesc@google.com,kmillikin@google.com

Change-Id: Icd37478bc7a3b9ccddf2daba215fa8c138063c4e
No-Presubmit: true
No-Tree-Checks: true
No-Try: true
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96124
Reviewed-by: Régis Crelier <regis@google.com>
Commit-Queue: Régis Crelier <regis@google.com>

commit afccd8cbc7ec81ed12937af7a13fdfdaf0162056
dart-results-feed-commit-entry
afccd8cbc7ec81ed12937af7a13fdfdaf0162056 2019-03-08 17:19:35 +0000 regis@google.com Revert "[cfe] Handle spread map entries of static type Null" 

This reverts commit ccd2c85a1ace40b6a262b5230f11dfc26459286a.

Reason for revert: very red bots, gardener not going to blindly approve all redness

Original change's description:
> [cfe] Handle spread map entries of static type Null
> 
> Change-Id: I164b3fa471deb65da93ecfd60ee836ec22eb93e1
> Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96080
> Commit-Queue: Dmitry Stefantsov <dmitryas@google.com>
> Reviewed-by: Kevin Millikin <kmillikin@google.com>

TBR=dmitryas@google.com,askesc@google.com,kmillikin@google.com

Change-Id: Ia8f60993222851a73291662f75556b2e4111a6f0
No-Presubmit: true
No-Tree-Checks: true
No-Try: true
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96123
Reviewed-by: Régis Crelier <regis@google.com>
Commit-Queue: Régis Crelier <regis@google.com>

commit 6c8dbd84a06afa15ef0aa841c2204c46d6f7e25f
dart-results-feed-commit-entry
6c8dbd84a06afa15ef0aa841c2204c46d6f7e25f 2019-03-08 16:56:40 +0000 sortie@google.com [infra] Support different local named configurations in tools/test.dart. 

This change lets one download the results for one named configuration but do
the local testing with another named configuration. This change addresses
the issue of developers needing to do local testing where there is no
builder matching their local environment. This allows e.g. a dart2js
developer on Windows to use the results for the Linux variant of the same
named configuration, which should be identical or close enough for the
comparison to be meaningful.

Fixes https://github.com/dart-lang/sdk/issues/36151

Change-Id: I1a387a9767cdf5ba99964535478201c0142f15e1
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96102
Reviewed-by: William Hesse <whesse@google.com>

commit 166c5e4b3853a6747edf9772e010f44d38ddaa49
dart-results-feed-commit-entry
166c5e4b3853a6747edf9772e010f44d38ddaa49 2019-03-08 16:20:23 +0000 paulberry@google.com Use subtype rather than assignability to disambiguate maps/sets. 

This causes the implementation to match the spec.  Also, it's an
important distinction because the analyzer allows the user to change
the meaning of assignability checks using the analysis option
"implicit_casts: false".  We don't want this option to change the
meaning of set/map disambiguation.

Change-Id: I2a870209a31b4344c0568ecfe741bf731d9489a1
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96120
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Paul Berry <paulberry@google.com>

commit 2e9ff265274ec5dabcb4c978d3818d9ef0467d1e
dart-results-feed-commit-entry
2e9ff265274ec5dabcb4c978d3818d9ef0467d1e 2019-03-08 16:11:08 +0000 lrn@google.com Fix overflow bug in BigInt implementations. 

Fixes #36105

Bug: http://dartbug.com/36105
Change-Id: I9adf70d11474f844d2a4fbf5fcc3754562b1cf65
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95644
Commit-Queue: Lasse R.H. Nielsen <lrn@google.com>
Reviewed-by: Erik Ernst <eernst@google.com>

commit 9a7679e9e1b675f093564eead2a5e17e4b6565e4
dart-results-feed-commit-entry
9a7679e9e1b675f093564eead2a5e17e4b6565e4 2019-03-08 16:03:23 +0000 brianwilkerson@google.com Remove some of the tests of the task framework to reduce references to it 

Change-Id: I1ec466bfbbcb9279169f6d076db72cece38dcd6a
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96000
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>
Commit-Queue: Brian Wilkerson <brianwilkerson@google.com>

commit 6e359857e4783a0e2c1c5fcfbe30826f4f0604ac
dart-results-feed-commit-entry
6e359857e4783a0e2c1c5fcfbe30826f4f0604ac 2019-03-08 16:03:03 +0000 brianwilkerson@google.com Move ConstantEvaluationTarget out of the task model 

Change-Id: I961f033e871a05ba38383b79865ed2795a1d452f
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95984
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>
Commit-Queue: Brian Wilkerson <brianwilkerson@google.com>

commit ccd2c85a1ace40b6a262b5230f11dfc26459286a
dart-results-feed-commit-entry
ccd2c85a1ace40b6a262b5230f11dfc26459286a 2019-03-08 15:46:31 +0000 dmitryas@google.com [cfe] Handle spread map entries of static type Null 

Change-Id: I164b3fa471deb65da93ecfd60ee836ec22eb93e1
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96080
Commit-Queue: Dmitry Stefantsov <dmitryas@google.com>
Reviewed-by: Kevin Millikin <kmillikin@google.com>

commit 3160b084d8032f313c4b6e6f681092eb5ba66973
dart-results-feed-commit-entry
3160b084d8032f313c4b6e6f681092eb5ba66973 2019-03-08 15:46:31 +0000 dmitryas@google.com [cfe] Compile null-aware spreads in non-const maps 

Change-Id: I22ee0b8821835bf8f2417f5fb4433898d06e7c36
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96060
Reviewed-by: Kevin Millikin <kmillikin@google.com>

commit 0a13ef7d03c79aafc18a9165b30ef885cfe81bbd
dart-results-feed-commit-entry
0a13ef7d03c79aafc18a9165b30ef885cfe81bbd 2019-03-08 15:46:31 +0000 dmitryas@google.com [cfe] Handle spread elements of static type Null 

Change-Id: Idec027766e77237c25fe2274426f92e24f45dec4
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96043
Reviewed-by: Kevin Millikin <kmillikin@google.com>

commit b817b274c2f9ef1f3232f95aa15efbec9f6b3b80
dart-results-feed-commit-entry
b817b274c2f9ef1f3232f95aa15efbec9f6b3b80 2019-03-08 15:46:31 +0000 dmitryas@google.com [cfe] Disambiguate between sets and maps with spreads 

Change-Id: I8da95178d0864dd0d59232a902cdb142be7f135e
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95649
Reviewed-by: Kevin Millikin <kmillikin@google.com>

commit 0e054b1c6ed0eb377a3806c57105bde629331c1a
dart-results-feed-commit-entry
0e054b1c6ed0eb377a3806c57105bde629331c1a 2019-03-08 15:39:19 +0000 paulberry@google.com Some fixes for UI-as-code type inference 

Change-Id: I72711aad365e95f2f1b20d7f23d7765a9581ff4f
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96022
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>

commit 8d88316246ca49fdc99ecea47b50f0a945a27cb1
dart-results-feed-commit-entry
8d88316246ca49fdc99ecea47b50f0a945a27cb1 2019-03-08 14:20:56 +0000 pquitslund@google.com fix for unawaited_futures 

Change-Id: I9ef54b1d30dd651ebd2fe20c4ce89808879da529
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95982
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Phil Quitslund <pquitslund@google.com>

commit 5eefbd8d14b070e4321abbe65c3554780ac3c3d1
dart-results-feed-commit-entry
5eefbd8d14b070e4321abbe65c3554780ac3c3d1 2019-03-08 14:17:36 +0000 sjindel@google.com [vm/ffi] Add a slot for RawPointer::address. 

Change-Id: I55f803264ecf8555ffacbd42ec01c7581d335c93
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/94750
Commit-Queue: Samir Jindel <sjindel@google.com>
Reviewed-by: Martin Kustermann <kustermann@google.com>
Reviewed-by: Daco Harkes <dacoharkes@google.com>

commit ff55d429f6c89e4cab99b7a2d8f21b0401b14c8d
dart-results-feed-commit-entry
ff55d429f6c89e4cab99b7a2d8f21b0401b14c8d 2019-03-08 13:08:55 +0000 askesc@google.com [kernel] Collection concatenation nodes. 

These arise when the constant evaluator partially evaluates collections
containing spreads or control-flow constructs with unevaluated
subexpressions. They are removed by the final constant evaluation.

Change-Id: Icdd155c4805cbcefe6aa4b45c2f85ec258e7bd36
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95760
Commit-Queue: Aske Simon Christensen <askesc@google.com>
Reviewed-by: Dmitry Stefantsov <dmitryas@google.com>
Reviewed-by: Martin Kustermann <kustermann@google.com>

commit 52ff930338340cc07e6ed519b8b51c53890835a7
dart-results-feed-commit-entry
52ff930338340cc07e6ed519b8b51c53890835a7 2019-03-08 12:08:42 +0000 dmitryas@google.com [cfe] Desugar map spread entries in non-const map literals 

Change-Id: Ie8f6cc0294888716f4e0349ba07320e684e26e1d
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95640
Commit-Queue: Dmitry Stefantsov <dmitryas@google.com>
Reviewed-by: Kevin Millikin <kmillikin@google.com>

commit 76ff150df4897c8e9f276f56cb4405ab9a9cbfb5
dart-results-feed-commit-entry
76ff150df4897c8e9f276f56cb4405ab9a9cbfb5 2019-03-08 12:08:42 +0000 dmitryas@google.com [cfe] Add type inference for spreads in map literals 

Change-Id: Ibe39deb9c1a022b30b70e677150925205e58d8b5
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/94741
Reviewed-by: Kevin Millikin <kmillikin@google.com>

commit 95b0e57ac5aee0c291b0ed85e080fe68c0f9e921
dart-results-feed-commit-entry
95b0e57ac5aee0c291b0ed85e080fe68c0f9e921 2019-03-08 12:06:35 +0000 vegorov@google.com [gardening] Disable ASAN's coredump suppression via ASAN_OPTIONS. 

Change-Id: I4dd48fa14261b3a25e7f3abce5bd55a4c0f4111d
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96100
Auto-Submit: Vyacheslav Egorov <vegorov@google.com>
Reviewed-by: Martin Kustermann <kustermann@google.com>
Commit-Queue: Martin Kustermann <kustermann@google.com>

commit 235e5f3709c4691e64c9c25fd40045180335311e
dart-results-feed-commit-entry
235e5f3709c4691e64c9c25fd40045180335311e 2019-03-08 11:01:17 +0000 jensj@google.com Allow component to easily adopt libraries at will 

Change-Id: Ia84d56b4c7d7403467b04e90c2b63859ecee509d
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96042
Reviewed-by: Kevin Millikin <kmillikin@google.com>
Commit-Queue: Jens Johansen <jensj@google.com>

commit 64d8a165639536f0e67dde7489f764d97745d133
dart-results-feed-commit-entry
64d8a165639536f0e67dde7489f764d97745d133 2019-03-08 10:40:07 +0000 jensj@google.com API changes to incremental compiler to support modular compilation 

Change-Id: I2b86eefaebbeb0ede06ed2e433868585c3df2461
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95780
Commit-Queue: Jens Johansen <jensj@google.com>
Reviewed-by: Peter von der Ahé <ahe@google.com>

commit 6231ba0b1831c6371b63fbc74110d9928f9c81d5
dart-results-feed-commit-entry
6231ba0b1831c6371b63fbc74110d9928f9c81d5 2019-03-08 10:23:07 +0000 wtoalabi@gmail.com Added appropriate comma within comment. 

Closes #35685
https://github.com/dart-lang/sdk/pull/35685

GitOrigin-RevId: 25e6bca8cb266e0922062ca55228eec06467b110
Change-Id: I17318554d6114e3ec030884afb3edd0a7d899252
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/89980
Reviewed-by: Lasse R.H. Nielsen <lrn@google.com>
Commit-Queue: Lasse R.H. Nielsen <lrn@google.com>

commit 283cabf1a1ae7c784f5e073cd1566e417a9ce1b4
dart-results-feed-commit-entry
283cabf1a1ae7c784f5e073cd1566e417a9ce1b4 2019-03-08 09:39:12 +0000 sortie@google.com [infra] Reject unexpected extra arguments in approve_results. 

Change-Id: I441572d5e6d99aa3f3ff3427f8562fa417405d09
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95643
Reviewed-by: William Hesse <whesse@google.com>

commit 299c6457cfc1b0132c4d29d9dfa0a82a3870f9c1
dart-results-feed-commit-entry
299c6457cfc1b0132c4d29d9dfa0a82a3870f9c1 2019-03-08 09:11:07 +0000 dacoharkes@google.com [vm/ffi] Fix style guide violation 

Change-Id: I669c392a0400632bba66d6de814f7101444a8990
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95820
Commit-Queue: Daco Harkes <dacoharkes@google.com>
Auto-Submit: Daco Harkes <dacoharkes@google.com>
Reviewed-by: Vyacheslav Egorov <vegorov@google.com>

commit b8069cbeca0117f80c0948194f00089b4b9195ca
dart-results-feed-commit-entry
b8069cbeca0117f80c0948194f00089b4b9195ca 2019-03-08 08:36:07 +0000 johnniwinther@google.com Refactor computation of modular data 

Add ModularStrategy as a step towards loading modular data from disk.

Change-Id: I9d0baebef8899794742164be4350bedbd3da5b68
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95650
Commit-Queue: Johnni Winther <johnniwinther@google.com>
Reviewed-by: Sigmund Cherem <sigmund@google.com>

commit 889d5d9240b5af4a3ca6786a9c7e15a281784ba4
dart-results-feed-commit-entry
889d5d9240b5af4a3ca6786a9c7e15a281784ba4 2019-03-08 08:21:47 +0000 johnniwinther@google.com Fix type error in node_tracer 

From https://dart-review.googlesource.com/c/sdk/+/94749
This is triggered by set literal testing.

Change-Id: I151f9154410790820e1f4d6301b0ccde52a72767
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95441
Reviewed-by: Sigmund Cherem <sigmund@google.com>
Commit-Queue: Johnni Winther <johnniwinther@google.com>

commit 2fb6cd9f5ff78fb347795f383a748a1e37d23275
dart-results-feed-commit-entry
2fb6cd9f5ff78fb347795f383a748a1e37d23275 2019-03-08 07:19:47 +0000 vegorov@google.com [vm] Fix Service::RequestAssets 

Unwrapping of API handles can only occur when thread is in the VM
execution state.

Change-Id: I14183f4553d0dd972b4bafb1e3771cf2655c1867
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/96040
Reviewed-by: Vyacheslav Egorov <vegorov@google.com>
Commit-Queue: Vyacheslav Egorov <vegorov@google.com>

commit 585eb7f50798e4d0cb1c19e6e126b3c5b5d1ca7b
dart-results-feed-commit-entry
585eb7f50798e4d0cb1c19e6e126b3c5b5d1ca7b 2019-03-08 02:19:06 +0000 bkonyi@google.com [ VM / Service ] Added `disableBreakpoints` parameter to `evaluate`, `evaluateInFrame` and `invoke` RPCs 

- Setting the `disableBreakpoints` parameter to true will result in any
breakpoints hit during execution resulting from an evaluate or invoke
call to be ignored.
- Default behavior is the same (break on breakpoints).
- Updated Observatory eval box to disable breakpoints.
- Added tests

Change-Id: Ibf40f8a8de018718435118e13cc2e969f8ed7944
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95320
Commit-Queue: Ben Konyi <bkonyi@google.com>
Reviewed-by: Ryan Macnak <rmacnak@google.com>
Reviewed-by: Jacob Richman <jacobr@google.com>

commit 9b0ac9ee03bf222f2bd110d439f084132b5e59ad
dart-results-feed-commit-entry
9b0ac9ee03bf222f2bd110d439f084132b5e59ad 2019-03-08 02:10:47 +0000 brianwilkerson@google.com Extract diagnostic tests in preparation for supporting ui-as-code features 

Change-Id: Icfeb982a37b501b22189d87de42398c3f1516bee
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95961
Commit-Queue: Brian Wilkerson <brianwilkerson@google.com>
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>

commit 93d42679f0134fcf2c9db8b6696989bcedd24649
dart-results-feed-commit-entry
93d42679f0134fcf2c9db8b6696989bcedd24649 2019-03-08 01:01:47 +0000 rmacnak@google.com [vm, arm64, fuchsia] Check for stack overflow / interrupts based on DSP instead of CSP. 

Broken by b2d22be0f3b6974c420ea114b8e93852448dd88f, which skips kicking CSP forward to save on code size.

Change-Id: I8fda8631d94c9a696039545b83425b799cabde46
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95962
Reviewed-by: Zach Anderson <zra@google.com>
Commit-Queue: Ryan Macnak <rmacnak@google.com>

commit 05be278603f4327853126188819c10778196307f
dart-results-feed-commit-entry
05be278603f4327853126188819c10778196307f 2019-03-08 00:32:17 +0000 srawlins@google.com Split MISSING_RETURN tests 

Change-Id: I001d3dd2f1c2d1200ede738aa8d838fc0924ba1a
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95960
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Samuel Rawlins <srawlins@google.com>

commit 1dd45592712299947974158e4d3937397d099ac1
dart-results-feed-commit-entry
1dd45592712299947974158e4d3937397d099ac1 2019-03-08 00:06:37 +0000 vegorov@google.com [vm] Add Native->VM transitions when dereferencing API handles. 

For example setting return value unwraps handles and stores
raw pointer values to the stack which might race with GC
in another thread.

This CL adds assertions in helper methods from Api class which
unwrap API handles and fixes all places that were revealed by
those assertions.

Caveat: we still permit to check whether handle contains
Smi or not without entering VM state - because GC does not
change this property.

Bug: b/127482366
Change-Id: I59f08c2a91935995514fb70607c2777aa2844d94
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95654
Commit-Queue: Siva Annamalai <asiva@google.com>
Reviewed-by: Ryan Macnak <rmacnak@google.com>
Reviewed-by: Martin Kustermann <kustermann@google.com>

commit 34953ffd7dff0a7f62a27252045bb07d59cfaf2e
dart-results-feed-commit-entry
34953ffd7dff0a7f62a27252045bb07d59cfaf2e 2019-03-07 22:02:16 +0000 danrubel@google.com Cleanup some NNBD flags 

* rename LibraryAnalyzer.isNonNullableMigrated to isNonNullableLibrary
* rename visitors isNonNullableMigrated to isNonNullableUnit

Change-Id: I46a7472a7cf91e1783b95fa4845f54b8f7f8a659
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95840
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Dan Rubel <danrubel@google.com>

commit a47ffd2b502277aa2c2bbb18f583277f459b83a6
dart-results-feed-commit-entry
a47ffd2b502277aa2c2bbb18f583277f459b83a6 2019-03-07 21:54:55 +0000 brianwilkerson@google.com Fix some errors in the control flow collections tests 

Change-Id: I87ba6b3d2860439c33b62c02e8f9294d65d31abc
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95900
Reviewed-by: Bob Nystrom <rnystrom@google.com>

commit e1dfad1f2cc99082aa6f42d92641002d475d4036
dart-results-feed-commit-entry
e1dfad1f2cc99082aa6f42d92641002d475d4036 2019-03-07 21:43:46 +0000 liama@google.com Attempt 4 at the upload abi dills script 

Bug: https://github.com/dart-lang/sdk/issues/36047
Change-Id: I89ddbcbd91d09f6a86a01e6d0b66798784a8c0eb
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95882
Reviewed-by: Ryan Macnak <rmacnak@google.com>
Commit-Queue: Liam Appelbe <liama@google.com>

commit 4b609422e98d34da5a65e73df9bed5ffa95d05df
dart-results-feed-commit-entry
4b609422e98d34da5a65e73df9bed5ffa95d05df 2019-03-07 21:29:36 +0000 scheglov@google.com Make AVAILABLE_SUGGESTION_SETS and related APIs non-experimental. 

R=brianwilkerson@google.com

Change-Id: I1facae905319f050636126b021f56f353f81d6f9
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95661
Commit-Queue: Konstantin Shcheglov <scheglov@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>

commit 8332fb0631ad595d5d9cc50a8880ac587f3572e8
dart-results-feed-commit-entry
8332fb0631ad595d5d9cc50a8880ac587f3572e8 2019-03-07 21:28:26 +0000 zra@google.com [vm] Adds an API call to dump the CPU profile to the timeline 

Used in https://fuchsia-review.googlesource.com/c/topaz/+/258655

Change-Id: I79b102e0d318d7be3bae44fb88f81bb8086a10d4
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/94400
Reviewed-by: Ryan Macnak <rmacnak@google.com>
Commit-Queue: Zach Anderson <zra@google.com>

commit ccf756dae53a6ec3d0a602935b5d4201d1400338
dart-results-feed-commit-entry
ccf756dae53a6ec3d0a602935b5d4201d1400338 2019-03-07 21:01:06 +0000 pquitslund@google.com Integration testing to ensure server lint name representations are correct. 

If lint names do not match, associated fixes are never shown.

See https://dart-review.googlesource.com/c/sdk/+/95743 for the kind of bug this should guard against.


Change-Id: I27b33c56b9f9242497a03972129806863d2287a3
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95901
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Phil Quitslund <pquitslund@google.com>

commit 34e1c9390605c48430d3ce81bb9a46d7e02c7399
dart-results-feed-commit-entry
34e1c9390605c48430d3ce81bb9a46d7e02c7399 2019-03-07 20:35:47 +0000 pquitslund@google.com add prefer_null_aware_operators error code association 

Change-Id: I23210abe2c17b166d7a628ab374b4fdba0df1e22
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95883
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Phil Quitslund <pquitslund@google.com>

commit 5c7b07f783587585a7fa9d0338b4903b36a3cdbd
dart-results-feed-commit-entry
5c7b07f783587585a7fa9d0338b4903b36a3cdbd 2019-03-07 20:16:18 +0000 ajcbik@google.com [dart/vm] Fix bug in kernel binary flow graph builder 

Rationale:
Found by DartFuzz. One of the trickier bugs I had to debug.
While building the flow graph from kernel, the finalizer
builder expects the program context to be in the same state
as when the finalizer was seen first, not the context seen
by the breaking/continuing statement. This was done partially,
but only partially. Finding loop context or breakable
and switchable blocks was missing. Something only
a fuzzer can find :-)

https://github.com/dart-lang/sdk/issues/36076

Change-Id: Ie63912c5fad4d3c15f6559b60cc102b237949957
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95720
Commit-Queue: Aart Bik <ajcbik@google.com>
Reviewed-by: Alexander Markov <alexmarkov@google.com>
Reviewed-by: Martin Kustermann <kustermann@google.com>

commit 07b2f82203ab77e50049c343ad1ab583521c84ca
dart-results-feed-commit-entry
07b2f82203ab77e50049c343ad1ab583521c84ca 2019-03-07 20:10:21 +0000 abarth@google.com [fuchsia] Remove unused header 

This header is no longer needed and will be removed soon.

Change-Id: I5d96b725bc2a7c6695bb5248377075b00fe7fc6c
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95880
Commit-Queue: Zach Anderson <zra@google.com>
Auto-Submit: Adam Barth <abarth@google.com>
Reviewed-by: Zach Anderson <zra@google.com>

commit a6a5a2b6359bf08e91a99992c238fd6dad623ed9
dart-results-feed-commit-entry
a6a5a2b6359bf08e91a99992c238fd6dad623ed9 2019-03-07 19:08:05 +0000 ajcbik@google.com [dart/fuzzer] Added more Dart constructs 

Rationale:
More generation-based fuzz cases to cover
more Dart constructs. Already found first
new bug.

https://github.com/dart-lang/sdk/issues/36076

Change-Id: I77a9a589d89c1fb0a57a202fb88d046cf15d058e
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95303
Reviewed-by: Alexander Thomas <athom@google.com>

commit 48ac0bdd7235b8db6b1e2ebe2db838e9908a46ce
dart-results-feed-commit-entry
48ac0bdd7235b8db6b1e2ebe2db838e9908a46ce 2019-03-07 18:43:39 +0000 liama@google.com Revert "Attempt 3 at the upload abi dill script" 

This reverts commit 94a382bfb8ea1e0176b4675288fee912969e9574.

Reason for revert: https://logs.chromium.org/logs/dart/buildbucket/cr-buildbucket.appspot.com/8919623995548729328/+/steps/upload_abi_dills/0/stdout

Original change's description:
> Attempt 3 at the upload abi dill script
> 
> Bug: https://github.com/dart-lang/sdk/issues/36047
> Change-Id: I1e8c28b30485e745fe773c2acfb334f4ef3aa1be
> Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95707
> Reviewed-by: Alexander Thomas <athom@google.com>
> Commit-Queue: Liam Appelbe <liama@google.com>

TBR=rmacnak@google.com,athom@google.com,liama@google.com

Change-Id: I9eec3ca373ade1a7573eaa9999521c45213b060f
No-Presubmit: true
No-Tree-Checks: true
No-Try: true
Bug: https://github.com/dart-lang/sdk/issues/36047
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95881
Reviewed-by: Liam Appelbe <liama@google.com>
Commit-Queue: Liam Appelbe <liama@google.com>

commit bc02b6ce7d625dd3a4b21c3e5f538b53887f79e2
dart-results-feed-commit-entry
bc02b6ce7d625dd3a4b21c3e5f538b53887f79e2 2019-03-07 18:28:37 +0000 srawlins@google.com Split DEAD_CODE tests into their own file 

Change-Id: I7d550ec240a10b839791cb5e00216c739af12d8c
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95666
Commit-Queue: Samuel Rawlins <srawlins@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>

commit 6c1a05a388a2005d1fac3a9d03759cd02951ba6a
dart-results-feed-commit-entry
6c1a05a388a2005d1fac3a9d03759cd02951ba6a 2019-03-07 18:17:57 +0000 danrubel@google.com update non-nullable flag in ErrorVerifier for angular plugin 

Change-Id: Ib4cb1a7426a15402c85ed9ef0fa9932f4b3f40b9
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95860
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Reviewed-by: Paul Berry <paulberry@google.com>
Commit-Queue: Dan Rubel <danrubel@google.com>

commit da831bda209e60a885dae7ce7aa6dcc41fb15a7d
dart-results-feed-commit-entry
da831bda209e60a885dae7ce7aa6dcc41fb15a7d 2019-03-07 18:11:57 +0000 pquitslund@google.com fix lint name for unnecessary_overrides 

Change-Id: Id6c879d52bb8cbe0c46d1701b382716846947926
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95743
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Phil Quitslund <pquitslund@google.com>

commit f2a8e71ff9d86a79fec1d43ec4e03e18fa09e421
dart-results-feed-commit-entry
f2a8e71ff9d86a79fec1d43ec4e03e18fa09e421 2019-03-07 18:09:48 +0000 alexmarkov@google.com [vm] Decouple flow graph building of implicit closure functions from kernel reading 

Change-Id: I6bf5ad6ed76c363904ae1765d8303eff4a799363
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95706
Reviewed-by: Martin Kustermann <kustermann@google.com>
Commit-Queue: Alexander Markov <alexmarkov@google.com>

commit f44fecbe39faa656b18e00e0018c31bfb345e8f8
dart-results-feed-commit-entry
f44fecbe39faa656b18e00e0018c31bfb345e8f8 2019-03-07 18:04:12 +0000 brianwilkerson@google.com Fix the way type arguments for iterable and map are accessed 

Change-Id: I8d11fd4c10b8a5bc9fde633aba9987dba0ad59a6
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95742
Reviewed-by: Paul Berry <paulberry@google.com>
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>

commit 94a382bfb8ea1e0176b4675288fee912969e9574
dart-results-feed-commit-entry
94a382bfb8ea1e0176b4675288fee912969e9574 2019-03-07 17:33:09 +0000 liama@google.com Attempt 3 at the upload abi dill script 

Bug: https://github.com/dart-lang/sdk/issues/36047
Change-Id: I1e8c28b30485e745fe773c2acfb334f4ef3aa1be
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95707
Reviewed-by: Alexander Thomas <athom@google.com>
Commit-Queue: Liam Appelbe <liama@google.com>

commit 924a934fe117a996537b5e4d8151337cc4a2e932
dart-results-feed-commit-entry
924a934fe117a996537b5e4d8151337cc4a2e932 2019-03-07 17:32:59 +0000 liama@google.com Shrink the stack headroom if the stack is very small 

Bug: https://github.com/dart-lang/sdk/issues/36100
Change-Id: I9d887e74c7f888dbeebaf02556522d375e30b97f
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95703
Reviewed-by: Ryan Macnak <rmacnak@google.com>
Commit-Queue: Liam Appelbe <liama@google.com>

commit e5a833b06b25579e9d74a0b443d6271387db46a8
dart-results-feed-commit-entry
e5a833b06b25579e9d74a0b443d6271387db46a8 2019-03-07 17:09:18 +0000 scheglov@google.com Comment out test that unexpectedly passes on Windows. 

TBR

R=brianwilkerson@google.com, paulberry@google.com

Change-Id: I34b9816ccc5d25c6b78b7db09ab7c0d70cf9c6c4
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95801
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>

commit 72548cde13501a116d24e243280b7f37dc99295e
dart-results-feed-commit-entry
72548cde13501a116d24e243280b7f37dc99295e 2019-03-07 16:56:20 +0000 kustermann@google.com Revert "[vm, gc] The mutator's TLAB and the interpreter's lookup cache must be visited even if the mutator is unscheduled." 

This reverts commit 253499fe68b1efaed5c2be699b4e59af3703c0f3.

Reason for revert: This seems to have caused new heap verification failures, e.g.

python tools/test.py -n dartkp-linux-debug-x64 lib_2/convert/streamed_conversion_json_utf8_decode_test
...                                                                                                                                                                                                                                                              
stderr:                                                                                                                                                                                                                                                       
Verifying before Scavenge...../../runtime/vm/raw_object.cc: 36: error: New object missing kNewBit: f3f3f3f3                                                                                          
                                                                                                           
version=2.2.1-edge.253499fe68b1efaed5c2be699b4e59af3703c0f3 (Thu Mar 7 01:01:02 2019 +0000) on "linux_x64"
thread=219499, isolate=isolate(0x55efd3734900)                                                            
  [0x000055efd10532e6] dart::Profiler::DumpStackTrace(bool)                                           
  [0x000055efd10532e6] dart::Profiler::DumpStackTrace(bool)                                   
  [0x000055efd1053224] dart::Profiler::DumpStackTrace(void*)                                        
  [0x000055efd13a6805] Dart_DumpNativeStackTrace                                                                                                                                                                                                             
  [0x000055efd13b7313] dart::Assert::Fail(char const*, ...)                                                                                                                                                                                                   
  [0x000055efd1073ac8] dart::RawObject::Validate(dart::Isolate*) const                                                                                                                                                                                        
  [0x000055efd1379c51] dart::VerifyObjectVisitor::VisitObject(dart::RawObject*)                                                                                                                                                                              
  [0x000055efd1376a43] dart::Scavenger::VisitObjects(dart::ObjectVisitor*) const                                                                                                                                                                             
  [0x000055efd136098b] dart::Heap::VisitObjectsNoImagePages(dart::ObjectVisitor*) const                                                                                                                                                                      
  [0x000055efd13632f3] dart::Heap::CreateAllocatedObjectSet(dart::Zone*, dart::MarkExpectation) const                                                                                                                                                        
  [0x000055efd1363522] dart::Heap::VerifyGC(dart::MarkExpectation) const                                                                                                                                                                                      
  [0x000055efd1377144] dart::Scavenger::Scavenge()                                                                                                                                                                                                            
  [0x000055efd1361b06] dart::Heap::CollectNewSpaceGarbage(dart::Thread*, dart::Heap::GCReason)                                                                                                                                                                
  [0x000055efd1360330] dart::Heap::CollectMostGarbage(dart::Heap::GCReason)                                                                                                                                                                                   
  [0x000055efd135fff5] dart::Heap::AllocateOld(long, dart::HeapPage::PageType)                                                                                                                                                                               



Original change's description:
> [vm, gc] The mutator's TLAB and the interpreter's lookup cache must be visited even if the mutator is unscheduled.
> 
> Bug: TC-384
> Change-Id: Ic3dcc2fea3e80ef181f8891ccb00a8e2e33fc077
> Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95670
> Reviewed-by: Alexander Aprelev <aam@google.com>
> Commit-Queue: Ryan Macnak <rmacnak@google.com>

TBR=aam@google.com,rmacnak@google.com,alexmarkov@google.com,regis@google.com

Change-Id: Ia1e2cbf7c059e22a2c71f28cb641f07ccd3dddab
No-Presubmit: true
No-Tree-Checks: true
No-Try: true
Bug: TC-384
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95821
Reviewed-by: Martin Kustermann <kustermann@google.com>
Commit-Queue: Martin Kustermann <kustermann@google.com>

commit bdb07f4a1f6ae4c9d3f642f762db0030e9411d89
dart-results-feed-commit-entry
bdb07f4a1f6ae4c9d3f642f762db0030e9411d89 2019-03-07 15:56:08 +0000 sjindel@google.com [vm/ffi] Fix garbage collection of ffi.Pointer subtypes. 

Fixes https://github.com/dart-lang/sdk/issues/36125.

Change-Id: Ib9069d1e15684c785b86954ed8c14e5fdde35fec
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95652
Commit-Queue: Samir Jindel <sjindel@google.com>
Reviewed-by: Daco Harkes <dacoharkes@google.com>

commit cab4a7b48dc26ed6c5a30b5936c621c1571d5e40
dart-results-feed-commit-entry
cab4a7b48dc26ed6c5a30b5936c621c1571d5e40 2019-03-07 15:33:33 +0000 pquitslund@google.com fix lint name for unnecessary_brace_in_string_interps 

Change-Id: I7df7540b4b4574df8e807b313988ed6a4bf6a26b
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95741
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Phil Quitslund <pquitslund@google.com>

commit 00aeae4ca81adbd4377af1de7fc0f27ff46fd3fb
dart-results-feed-commit-entry
00aeae4ca81adbd4377af1de7fc0f27ff46fd3fb 2019-03-07 15:26:26 +0000 pquitslund@google.com add fix for no_duplicate_case_values 

See: https://github.com/dart-lang/linter/issues/1374.

Change-Id: Ia09f2530c9a943b8b80fda63fb313b752748264a
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95709
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Phil Quitslund <pquitslund@google.com>

commit 593405afda8132cd93fe86eb3dfe6cebb2ef73ac
dart-results-feed-commit-entry
593405afda8132cd93fe86eb3dfe6cebb2ef73ac 2019-03-07 15:25:26 +0000 pquitslund@google.com add fix for use_rethrow 

See: https://github.com/dart-lang/linter/issues/1374.

Change-Id: I7e79ad37681afdbd94d7968451a768e74217578e
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95708
Commit-Queue: Phil Quitslund <pquitslund@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>

commit 1551d9c660d83c2758ec97226ce9c78ea3bc4f6c
dart-results-feed-commit-entry
1551d9c660d83c2758ec97226ce9c78ea3bc4f6c 2019-03-07 14:52:26 +0000 kevmoo@google.com Include correct stack during error with Stream.join 

Fixes https://github.com/dart-lang/sdk/issues/36135

Change-Id: I0f5397acde81ed74a28b7dd25bc81d34ac21a130
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95740
Reviewed-by: Lasse R.H. Nielsen <lrn@google.com>
Commit-Queue: Kevin Moore <kevmoo@google.com>

commit 309140693c4fb45c13994b9d2491ecc8a842fe67
dart-results-feed-commit-entry
309140693c4fb45c13994b9d2491ecc8a842fe67 2019-03-07 13:29:45 +0000 danrubel@google.com Revise non-nullable flag from AstBuilder to ErrorVerifier 

This is one step in refactoring non-nullable enablement

* update AstBuilder to record isNonNullable in CompilationUnitImpl
* update ErrorVerifier to pull non-nullable from CompilationUnitImpl

Change-Id: I78e5f529330f10f294ad1c1b3b7ac8b672a5ee9b
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95426
Commit-Queue: Dan Rubel <danrubel@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>

commit 2d3b1055d3aa25b50de3f54afd61e0c302bc87a8
dart-results-feed-commit-entry
2d3b1055d3aa25b50de3f54afd61e0c302bc87a8 2019-03-07 13:16:06 +0000 dacoharkes@google.com [vm/ffi] remove RuntimeError/Fail expectation from status files 

Change-Id: Iaff947c213ac6cff666202fca16b3775bcc10413
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95782
Auto-Submit: Daco Harkes <dacoharkes@google.com>
Reviewed-by: Samir Jindel <sjindel@google.com>
Commit-Queue: Samir Jindel <sjindel@google.com>

commit b4e9e46f8186d63048577b7d9377e702209c3772
dart-results-feed-commit-entry
b4e9e46f8186d63048577b7d9377e702209c3772 2019-03-07 12:50:10 +0000 kustermann@google.com [Gardening] Add tools/diff_results.dart which can query the test results database and report a diff in test results from two commits 

The tool can be used to diff the results of two commits on a set of builders.
The user has to pick the revisions to ensure that both of them have results for the given revisions.

Unfortunately it currently seems to also give false-positive because of flaky tests.


Usage:

    sdk % dart tools/diff_results.dart -b 'vm-*' 6cf71022a8c277b0f411ac4bd2946d12fe8d20b5 \
                                                 7df88e5755ec65ead7dea3fc38ba77b3d0b7d60d

      ...

      language_2/control_flow_collections/if_promotion_test/none null -> (expected: Pass, actual: CompileTimeError)
	 on vm-dartkb-linux-{debug,release}-x64
	 on vm-kernel-asan-linux-release-x64
	 on vm-kernel-checked-linux-release-x64
	 on vm-kernel-linux-release-{simarm,simarm64}
	 on vm-kernel-optcounter-threshold-linux-release-{ia32,x64}
	 on vm-kernel-precomp-android-release-arm
	 on vm-kernel-precomp-bare-linux-release-{x64,simarm,simarm64}
	 on vm-kernel-precomp-linux-release-simarm
	 on vm-kernel-precomp-linux-{debug,release,product}-x64
	 on vm-kernel-precomp-obfuscate-linux-release-x64
	 on vm-kernel-precomp-win-release-x64
	 on vm-kernel-precomp-{mac,linux,win}-release-simarm64
	 on vm-kernel-reload-linux-{debug,release}-x64
	 on vm-kernel-reload-mac-{debug,release}-simdbc64
	 on vm-kernel-reload-rollback-linux-{debug,release}-x64
	 on vm-kernel-{linux,win}-{debug,release}-ia32
	 on vm-kernel-{mac,linux,win}-{debug,release,product}-x64
	 on vm-kernel-{mac,linux}-{debug,release}-simdbc64

Change-Id: Ibd3a0bdcec238c1fc0d147147b6fe4a7bb74819d
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/93954
Commit-Queue: Martin Kustermann <kustermann@google.com>
Reviewed-by: Siva Annamalai <asiva@google.com>

commit f1cc9c7cf1a8b79a0bdfe4e3456f37775fd79635
dart-results-feed-commit-entry
f1cc9c7cf1a8b79a0bdfe4e3456f37775fd79635 2019-03-07 11:41:25 +0000 askesc@google.com [cfe] Classes for if, for and for-in elements. 

Change-Id: Ibb20435c8c64dc66f6ed9f731a3a53481bfef60a
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95653
Commit-Queue: Aske Simon Christensen <askesc@google.com>
Reviewed-by: Kevin Millikin <kmillikin@google.com>

commit e3f0ca80e5c8509c34289d7c8592578f721c8fd1
dart-results-feed-commit-entry
e3f0ca80e5c8509c34289d7c8592578f721c8fd1 2019-03-07 10:11:05 +0000 kmillikin@google.com [cfe] Compile null-aware spreads in non-const lists and sets 

Change-Id: I0be204a03bf4ddeb8950ec443952e9e99197b125
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95641
Commit-Queue: Kevin Millikin <kmillikin@google.com>
Reviewed-by: Dmitry Stefantsov <dmitryas@google.com>

commit e8fa9a019bd4f5e2b43af3f2560fc7ae970c37f7
dart-results-feed-commit-entry
e8fa9a019bd4f5e2b43af3f2560fc7ae970c37f7 2019-03-07 08:47:13 +0000 kmillikin@google.com [ddc] Fix a front end test failure 

This code causes a front_end test failure.  The code in question also
just looks wrong.

Change-Id: I8d3e7e4cd6fc4e919b48e5784bab84302b5639b5
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95657
Auto-Submit: Kevin Millikin <kmillikin@google.com>
Reviewed-by: Jens Johansen <jensj@google.com>
Commit-Queue: Jens Johansen <jensj@google.com>

commit b71f6afd2c21dd66ad42aebc30bbb29dd29b41e7
dart-results-feed-commit-entry
b71f6afd2c21dd66ad42aebc30bbb29dd29b41e7 2019-03-07 08:20:08 +0000 dacoharkes@google.com [vm/ffi] enable function stress test on macos 

Change-Id: I92f676ac6c9733123b7cccf4dc24cb723a2b0594
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95655
Auto-Submit: Daco Harkes <dacoharkes@google.com>
Reviewed-by: Samir Jindel <sjindel@google.com>

commit 4ec72c1eb11f37b1ce4046eeb01c05f7e81629a9
dart-results-feed-commit-entry
4ec72c1eb11f37b1ce4046eeb01c05f7e81629a9 2019-03-07 02:04:41 +0000 zichangguo@google.com [VM-Runtime]Fix source report coverage to not include field without function initializer 

Fix issue created by 89173. Also rename HasInitializer to HasInitializerFunction to distinguish from has_initializer.

Bug= https://github.com/flutter/flutter/issues/28542

Change-Id: Id9f898937c2f4f350a6d619019dc12611505801f
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95680
Reviewed-by: Siva Annamalai <asiva@google.com>
Commit-Queue: Zichang Guo <zichangguo@google.com>

commit 253499fe68b1efaed5c2be699b4e59af3703c0f3
dart-results-feed-commit-entry
253499fe68b1efaed5c2be699b4e59af3703c0f3 2019-03-07 01:01:02 +0000 rmacnak@google.com [vm, gc] The mutator's TLAB and the interpreter's lookup cache must be visited even if the mutator is unscheduled. 

Bug: TC-384
Change-Id: Ic3dcc2fea3e80ef181f8891ccb00a8e2e33fc077
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95670
Reviewed-by: Alexander Aprelev <aam@google.com>
Commit-Queue: Ryan Macnak <rmacnak@google.com>

commit 980e5c7b57c6f1d17d67e6f419b45e89186b88cd
dart-results-feed-commit-entry
980e5c7b57c6f1d17d67e6f419b45e89186b88cd 2019-03-07 00:20:30 +0000 rmacnak@google.com [vm] Mark VM isolate objects at heap finalization instead of allocation. 

Avoids unnecessary branching in allocation.

Also, rename the VMHeap bit to ReadOnly to reflect its current usage.

Change-Id: Ic6060eec263cef0a3fc92f253dff976cea45bdb2
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95063
Reviewed-by: Siva Annamalai <asiva@google.com>
Reviewed-by: Régis Crelier <regis@google.com>

commit e48ad45fbdcbf65db1b65a117dd239cb6bdc0c00
dart-results-feed-commit-entry
e48ad45fbdcbf65db1b65a117dd239cb6bdc0c00 2019-03-07 00:19:40 +0000 rmacnak@google.com [vm, interpreter] Enable field guards. 

Bug: https://github.com/dart-lang/sdk/issues/36131
Change-Id: I8aa538bc96d10d14322c875228dbd7a97ddf114b
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95491
Reviewed-by: Alexander Markov <alexmarkov@google.com>
Reviewed-by: Régis Crelier <regis@google.com>

commit a7d790bbbe347b8e3b70dfff2f40aa54f2d2862a
dart-results-feed-commit-entry
a7d790bbbe347b8e3b70dfff2f40aa54f2d2862a 2019-03-06 23:57:31 +0000 brianwilkerson@google.com Fix cast exception in resolution 

Change-Id: Iefa49b509bec67522bbd916c41fc301d5d9d3811
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95705
Reviewed-by: Paul Berry <paulberry@google.com>
Commit-Queue: Brian Wilkerson <brianwilkerson@google.com>

commit 2f53b7913cfa3978308c49cab49d52bbba283453
dart-results-feed-commit-entry
2f53b7913cfa3978308c49cab49d52bbba283453 2019-03-06 22:42:26 +0000 markzipan@google.com [dartdevc] Including the current library for members from within an InstanceConstant 

This resolves an issue where private fields of const objects would fail to properly initialize.

Change-Id: I587c27d2c2212929babc6b4168cffc9770ae9c86
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95490
Reviewed-by: Nicholas Shahan <nshahan@google.com>

commit 0124541d5f5d04cc75e51afcd1cb11ac0f0aa572
dart-results-feed-commit-entry
0124541d5f5d04cc75e51afcd1cb11ac0f0aa572 2019-03-06 21:43:50 +0000 paulberry@google.com Deprecate AST data structures that will be obseleted by the "UI as code" feature 

- ForStatement and ForEachStatement will be replaced by ForStatement2.
- MapLiteral and SetLiteral will be replaced by SetOrMapLiteral.

To ease the transition, the old classes are subtypes of the new
classes, so even though the analyzer still creates instances of the
old classes, clients should be able to start referring to the new
classes in their code.  The analyzer will stop creating instances of
MapLiteral and SetLiteral when the experimental flags for the "UI as
code" feature are turned on, and will stop creating instances of all 4
classes when we bump the major version number (which should happen
sometime in March).

For visitors, we've updated the base classes with the following default methods:
  visitForStatement(node) => visitForStatement2(node);
  visitForEachStatement(node) => visitForStatement2(node);
  visitMapLiteral(node) => visitSetOrMapLiteral(node);
  visitSetLiteral(node) => visitSetOrMapLiteral(node);

So clients should be able to start revising their visitors to override
the new visit methods rather than the old ones, and the visit methods
in the base classes will automatically forward to the new visit
methods.

Change-Id: Ifde3a2aa3c8c49ce4e65dfaabf086db4dabb73f7
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95665
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Paul Berry <paulberry@google.com>

commit 1751135fc351e58ff5f7d772b781c5ca27484367
dart-results-feed-commit-entry
1751135fc351e58ff5f7d772b781c5ca27484367 2019-03-06 21:23:10 +0000 athom@google.com [infra] Increase number of shards on app-* builders 

TBR=whesse@google.com

Change-Id: I4e8ae26d1a90666370f3e678efbd944d5a665f7c
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95656
Reviewed-by: Alexander Thomas <athom@google.com>

commit 6988347b53fd29c444e03c5ff729cbe5bcc53cc2
dart-results-feed-commit-entry
6988347b53fd29c444e03c5ff729cbe5bcc53cc2 2019-03-06 21:16:30 +0000 abarth@google.com [fuchsia] Migrate to lib/sys/cpp 

We now use lib/sys/cpp, which is part of the Fuchsia SDK, rather than
lib/component/cpp, which is being deleted.

Change-Id: I3eaae74cc0403923886f9872d4327e46ec8915c2
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95700
Auto-Submit: Adam Barth <abarth@google.com>
Reviewed-by: Zach Anderson <zra@google.com>
Commit-Queue: Zach Anderson <zra@google.com>

commit 995b1c9adc4bf5630004a4be0b5abb34b2ede44e
dart-results-feed-commit-entry
995b1c9adc4bf5630004a4be0b5abb34b2ede44e 2019-03-06 21:14:40 +0000 arbullard@google.com FE Server shouldn't try to invalidate other file schemes 

When trying to invalidate files when using a multi-
root file system, if a .dill file that is being
used to initialize an incremental compiler contains
both files with a custom marker scheme, as well as
an internal one like `org-dartlang-sdk`, it will
throw when it encounters the internal scheme.

This commit remedies the issue, but this is my
first CL to the SDK, I'm not sure if this is
the best approach.

Other approaches may be:

- Ignore dartlang internal file schemes only
- Catch errors from entity.exists instead of filtering

And I'm sure there are many others.

Change-Id: Idc7aba4b41eb5cf7f66db492f0ea6e26252779c5
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/94680
Commit-Queue: Alexander Aprelev <aam@google.com>
Reviewed-by: Alexander Aprelev <aam@google.com>

commit 975cc65c179d1d93aec59c39fd92433502dea7ae
dart-results-feed-commit-entry
975cc65c179d1d93aec59c39fd92433502dea7ae 2019-03-06 21:09:30 +0000 rmacnak@google.com [vm, interpreter] Implement interpreter stubs for IA32. 

Change-Id: I7bb7e51cb46868abcc10c7dcc7cbf1db1ccdc35c
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95264
Reviewed-by: Régis Crelier <regis@google.com>

commit 85dec3423c4fd6f5d41b63776e43e7ac42589639
dart-results-feed-commit-entry
85dec3423c4fd6f5d41b63776e43e7ac42589639 2019-03-06 20:55:00 +0000 pquitslund@google.com add fix for unnecessary_new lint 

See: https://github.com/dart-lang/linter/issues/1374.

Change-Id: I945d393b0b46cf87b5400be1bfdb501c31646988
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95669
Commit-Queue: Phil Quitslund <pquitslund@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>

commit 17bf9d13b12189033838f047bf2a5c5e88ebc05d
dart-results-feed-commit-entry
17bf9d13b12189033838f047bf2a5c5e88ebc05d 2019-03-06 20:47:45 +0000 brianwilkerson@google.com Delay disambiguating maps and sets until we know whether there are any conflicts 

Change-Id: If55d8ab011047107f34a05a08e60ee54eabc0b44
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95668
Reviewed-by: Paul Berry <paulberry@google.com>

commit 079309fcd68817f804bebc5dcdd3209a65fcabf2
dart-results-feed-commit-entry
079309fcd68817f804bebc5dcdd3209a65fcabf2 2019-03-06 20:21:07 +0000 brianwilkerson@google.com Create curly braces when resynthesizing map and set literals 

Change-Id: I918624f0a07a02c98fdd2725a18fb3fd945eca8d
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95664
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>
Commit-Queue: Brian Wilkerson <brianwilkerson@google.com>

commit 68c9909ef8fd95f5483f89e930f95c8140a86660
dart-results-feed-commit-entry
68c9909ef8fd95f5483f89e930f95c8140a86660 2019-03-06 20:12:07 +0000 paulberry@google.com Re-apply workaround for bug fixed by closures containing type promotions in variables with inferred types. 

ba5644b76cb811e8f01ffb375b87d20d6295749c fixed an analyzer bug causing
a crash when a top level variable requiring type inference contained a
closure involving type promotion, and removed some explicit types that
were present in the analyzer to work around the bug.

Although the bug has been fixed now, the fix hasn't rolled out in a
release of the SDK.  So to avoid people seeing analysis server crashes
when editing the analyzer, I'm re-introducing the workaround.

Change-Id: I5e61345021cd33cb9ad1f017a7619815a38c6a1c
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95667
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Paul Berry <paulberry@google.com>

commit 68946df573701de7e00c9ccd1726b39fbdb30d6d
dart-results-feed-commit-entry
68946df573701de7e00c9ccd1726b39fbdb30d6d 2019-03-06 20:02:18 +0000 rmacnak@google.com [vm] Also print version information in assertion failures, not just faults. 

Populate the dynamic symbol table for gen_snapshot.

Change-Id: Ib4712d2f481948f646ba4f5e353e0837b6391eab
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95682
Reviewed-by: Régis Crelier <regis@google.com>
Commit-Queue: Ryan Macnak <rmacnak@google.com>

commit 0c231060f4d21d34f3c2d45fc601525e0b9deec3
dart-results-feed-commit-entry
0c231060f4d21d34f3c2d45fc601525e0b9deec3 2019-03-06 19:40:39 +0000 liama@google.com Revert "Another attempt to fix the upload script." 

This reverts commit 0e578056e96a0538dc82e548269453b4bf386e30.

Reason for revert: https://logs.chromium.org/logs/dart/buildbucket/cr-buildbucket.appspot.com/8919710985306895504/+/steps/upload_abi_dills/0/stdout

Original change's description:
> Another attempt to fix the upload script.
> 
> Bug: https://github.com/dart-lang/sdk/issues/36047
> Change-Id: I2302bd3ee2072651cebcc1179e9778dc4c617965
> Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95662
> Reviewed-by: Alexander Thomas <athom@google.com>
> Commit-Queue: Liam Appelbe <liama@google.com>

TBR=rmacnak@google.com,athom@google.com,liama@google.com

Change-Id: Ibe5c52ae0005ea8aa0e69862a19b54cd64864974
No-Presubmit: true
No-Tree-Checks: true
No-Try: true
Bug: https://github.com/dart-lang/sdk/issues/36047
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95702
Reviewed-by: Liam Appelbe <liama@google.com>
Commit-Queue: Liam Appelbe <liama@google.com>

commit d1e60e0f3d375eb6fa1f8786ed8b0958cfad18d6
dart-results-feed-commit-entry
d1e60e0f3d375eb6fa1f8786ed8b0958cfad18d6 2019-03-06 19:35:58 +0000 scheglov@google.com Remove @failingTest from a test that stopped failing. 

R=brianwilkerson@google.com, paulberry@google.com

Change-Id: Id0fb24e38b09acce28b401d941f9ff81729b9e1b
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95701
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>

commit 825d03c5851060b17588386fd3e3be1784d71198
dart-results-feed-commit-entry
825d03c5851060b17588386fd3e3be1784d71198 2019-03-06 19:16:27 +0000 zra@google.com [vm] Remove malloc_hooks support for jemalloc 

Fuchsia is switching/has switched to scudo.

Change-Id: I0c829518652053243bf3f8db675e562ccfb448f9
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95663
Reviewed-by: Ryan Macnak <rmacnak@google.com>
Commit-Queue: Zach Anderson <zra@google.com>

commit 8bb8d1185993fa92cc05af61290ab3bba7ea34ba
dart-results-feed-commit-entry
8bb8d1185993fa92cc05af61290ab3bba7ea34ba 2019-03-06 18:57:13 +0000 paulberry@google.com Prepare to publish analyzer_plugin version 0.0.1-alpha.7 

We need a version of analyzer_plugin that supports analyzer 0.35.x.

Change-Id: I581ed6951f3e7f68d86743bfdfdf387a10c73f30
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95681
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Paul Berry <paulberry@google.com>

commit 0e578056e96a0538dc82e548269453b4bf386e30
dart-results-feed-commit-entry
0e578056e96a0538dc82e548269453b4bf386e30 2019-03-06 18:01:37 +0000 liama@google.com Another attempt to fix the upload script. 

Bug: https://github.com/dart-lang/sdk/issues/36047
Change-Id: I2302bd3ee2072651cebcc1179e9778dc4c617965
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95662
Reviewed-by: Alexander Thomas <athom@google.com>
Commit-Queue: Liam Appelbe <liama@google.com>

commit 90b61e2fdef747c4be6d150e43d7d39ee18855e3
dart-results-feed-commit-entry
90b61e2fdef747c4be6d150e43d7d39ee18855e3 2019-03-06 17:29:29 +0000 scheglov@google.com Start implementing linker and resynthesizing. 

Change-Id: Id1ad7925082f642d5dad7b01fa02b6c8cb76cf06
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95101
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Reviewed-by: Paul Berry <paulberry@google.com>
Commit-Queue: Konstantin Shcheglov <scheglov@google.com>

commit a1226b149098d14bd182dd4a8741fd9b755ddb63
dart-results-feed-commit-entry
a1226b149098d14bd182dd4a8741fd9b755ddb63 2019-03-06 17:20:49 +0000 scheglov@google.com Write and read almost all nodes. 

CommentReference is not done yet.

Also skipped deprecated:
  visitListLiteral2
  visitMapLiteral2
  visitSetLiteral2

And about to be deprecated?
  visitForEachStatement
  visitForStatement
  visitMapLiteral
  visitSetLiteral


  Now we can resolve, write and read back into AST everything in pkg/.
  Some statistics:

R=brianwilkerson@google.com, paulberry@google.com

totalContent: 34814665 characters
totalWriteTime: 18140 ms
totalWriteBytes: 305675628
totalReadTime: 2761 ms
Change-Id: I2f92bb47c124d5ba040d8f66f762d23603c17609
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95580
Commit-Queue: Konstantin Shcheglov <scheglov@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>

commit ba5644b76cb811e8f01ffb375b87d20d6295749c
dart-results-feed-commit-entry
ba5644b76cb811e8f01ffb375b87d20d6295749c 2019-03-06 17:16:19 +0000 paulberry@google.com Fix handling of closures containing type promotions in variables with inferred types. 

Promotion analysis requires the localVariableInfo data structures to
be set; these are set by the VariableResolverVisitor.  So we need to
ensure that this visitor runs prior to type inference.

Change-Id: I579301beb101f32a1965f9eb8f07b1196d232b8e
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95422
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Paul Berry <paulberry@google.com>

commit 7a985597812bf4948faf7b1119966d68506848f8
dart-results-feed-commit-entry
7a985597812bf4948faf7b1119966d68506848f8 2019-03-06 16:48:09 +0000 dacoharkes@google.com [vm/ffi] make Pointer.toString() uniform on all operating systems 

Change-Id: I805c8b3c56a18a253c5005945cab47d5a6aa26cc
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95648
Commit-Queue: Daco Harkes <dacoharkes@google.com>
Reviewed-by: Samir Jindel <sjindel@google.com>
Auto-Submit: Daco Harkes <dacoharkes@google.com>

commit 12fcb9136c635904910ee1779021e638eaf104fa
dart-results-feed-commit-entry
12fcb9136c635904910ee1779021e638eaf104fa 2019-03-06 15:31:09 +0000 dacoharkes@google.com [cfe] Make resolveInputUri available for pkg/vm 

use function suggested by ahe


[gardening] fix incremental compiler file encoding on Windows

Change-Id: I50fd02389afabe4903d9d88d009d58330515f825
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95642
Auto-Submit: Daco Harkes <dacoharkes@google.com>
Reviewed-by: Peter von der Ahé <ahe@google.com>

commit 5441ff672b92223623215dc2b892b4578c2fc561
dart-results-feed-commit-entry
5441ff672b92223623215dc2b892b4578c2fc561 2019-03-06 15:28:59 +0000 pquitslund@google.com add fix for unnecessary_const lints 

See: https://github.com/dart-lang/linter/issues/1374.

Change-Id: Ieeddf25718ddde77a9e52cb93cbcf34ca2c1f81f
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95542
Commit-Queue: Phil Quitslund <pquitslund@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>

commit 9645b190601b1921b8c3ec02bd7fdd51b33488d9
dart-results-feed-commit-entry
9645b190601b1921b8c3ec02bd7fdd51b33488d9 2019-03-06 15:06:40 +0000 sortie@google.com [infra] Link to the documentation in the new workflow tools. 

Change-Id: Idf8181a1d007fa624e04087a7949f5f04da3b077
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95645
Reviewed-by: William Hesse <whesse@google.com>

commit 150c58c13fcfe9427f9a5e660e37d3a1cffc115e
dart-results-feed-commit-entry
150c58c13fcfe9427f9a5e660e37d3a1cffc115e 2019-03-06 13:59:46 +0000 whesse@google.com [infra] Shard app-kernel tests that were causing timeouts 

Change-Id: Ia55315278faba496313e6b6b5e041b149780d228
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95401
Reviewed-by: Jonas Termansen <sortie@google.com>

commit 105912339c482d6bc0b781766519a1cb855a6ec6
dart-results-feed-commit-entry
105912339c482d6bc0b781766519a1cb855a6ec6 2019-03-06 13:59:06 +0000 dmitryas@google.com [cfe] Inherit SpreadElement from Expression, not ExpressionJudgment 

Change-Id: I1de77a0589f49f4c94c00ffc62c2b1ba66820333
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95121
Commit-Queue: Aske Simon Christensen <askesc@google.com>
Reviewed-by: Kevin Millikin <kmillikin@google.com>

commit a85e481d3d51656721b019b52f8808654343e213
dart-results-feed-commit-entry
a85e481d3d51656721b019b52f8808654343e213 2019-03-06 13:56:36 +0000 sjindel@google.com [vm/gardening] Fix status file for entrypoints_verification_test. 

Fixes https://github.com/dart-lang/sdk/issues/35957

Change-Id: I215538cfa8dcda733bf29aaa3fa2a73817663bb4
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95646
Commit-Queue: Samir Jindel <sjindel@google.com>
Commit-Queue: Daco Harkes <dacoharkes@google.com>
Auto-Submit: Samir Jindel <sjindel@google.com>
Reviewed-by: Daco Harkes <dacoharkes@google.com>

commit fa0d99156f720df84ed48469615d482e81126be5
dart-results-feed-commit-entry
fa0d99156f720df84ed48469615d482e81126be5 2019-03-06 13:43:46 +0000 brianwilkerson@google.com Remove task model initialization 

Change-Id: I1c0bfd80f94b3d0f41a73d4df0fbe1b3514697c0
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95562
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>
Commit-Queue: Brian Wilkerson <brianwilkerson@google.com>

commit 3712235e0ec510b7779bb4a2e63a5adfe65843da
dart-results-feed-commit-entry
3712235e0ec510b7779bb4a2e63a5adfe65843da 2019-03-06 13:43:37 +0000 brianwilkerson@google.com Remove the task graph and the tool that produces it 

Change-Id: I8fa4b1e1646f4072fafa4521648f0ec158e4cebc
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95561
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>
Commit-Queue: Brian Wilkerson <brianwilkerson@google.com>

commit 99d028be773c4a178bde76ef3a2d7d7ba300b5bc
dart-results-feed-commit-entry
99d028be773c4a178bde76ef3a2d7d7ba300b5bc 2019-03-06 12:43:07 +0000 athom@google.com [infra] Make promote.py work with newer versions of gsutil 

Newer versions of gsutil fail when rm -rf'ing non-existing directories.
Check if the directory exists before trying to remove it.

Change-Id: I57283526f9d13ed5a923b1f5c9d91710ec8d1b60
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/94861
Auto-Submit: Alexander Thomas <athom@google.com>
Reviewed-by: William Hesse <whesse@google.com>
Commit-Queue: William Hesse <whesse@google.com>

commit 9d9f599ca93e6e1a706ff0fe7305fc4d68b71f31
dart-results-feed-commit-entry
9d9f599ca93e6e1a706ff0fe7305fc4d68b71f31 2019-03-06 11:37:27 +0000 kmillikin@google.com [cfe] Compile spread in sets 

Compile spread in sets analogously with lists.

Change-Id: Ieb3e139064a1174f7bb1c33aa82b21ca47fe768f
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95620
Reviewed-by: Dmitry Stefantsov <dmitryas@google.com>
Commit-Queue: Kevin Millikin <kmillikin@google.com>

commit b5a1f6c36b51cf8713946cb09366753ef2c25a64
dart-results-feed-commit-entry
b5a1f6c36b51cf8713946cb09366753ef2c25a64 2019-03-06 10:30:37 +0000 askesc@google.com Reland "[CFE] Move constant evaluation number semantics handling to front end." 

This is a reland of c2b466b09f129ba4a7cb7f1322f5021654627304

Original change's description:
> [CFE] Move constant evaluation number semantics handling to front end.
> 
> JavaScript number semantics is currently implemented as the simplistic
> version previously present in DDC. This is a starting point for fully
> detailed JS number semantics.
> 
> Change-Id: Id728b3dacec892a5cbf7ece0d9faea51427f5f9b
> Reviewed-on: https://dart-review.googlesource.com/c/94746
> Commit-Queue: Aske Simon Christensen <askesc@google.com>
> Reviewed-by: Sigmund Cherem <sigmund@google.com>

Change-Id: I1a488ef41bda819d34cb45cd481fd8fd88bfb01e
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95460
Reviewed-by: Johnni Winther <johnniwinther@google.com>
Commit-Queue: Aske Simon Christensen <askesc@google.com>

commit ea6e83004b0a0097c5ba8782f133ac73755e0499
dart-results-feed-commit-entry
ea6e83004b0a0097c5ba8782f133ac73755e0499 2019-03-06 08:32:05 +0000 johnniwinther@google.com Use @pragma instead of package:meta/dart2js in tests 

Change-Id: I16c0ed6f391a417d8faa55e68cde902d91e3db32
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95220
Commit-Queue: Johnni Winther <johnniwinther@google.com>
Reviewed-by: Stephen Adams <sra@google.com>

commit 2448445826b0ac9c65ec252eed0fcf18d2ea001e
dart-results-feed-commit-entry
2448445826b0ac9c65ec252eed0fcf18d2ea001e 2019-03-06 02:19:54 +0000 scheglov@google.com Make IfStatementImpl use IfMixin. 

R=brianwilkerson@google.com, paulberry@google.com

Change-Id: I32f967a392a96692b6633f8ee62072404cdeaa11
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95425
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Konstantin Shcheglov <scheglov@google.com>

commit 7ba8995917bdbead97cd6aed31e50ead48f86cc6
dart-results-feed-commit-entry
7ba8995917bdbead97cd6aed31e50ead48f86cc6 2019-03-06 01:07:14 +0000 liama@google.com Download ABI dills during gclient sync 

This currently doesn't do anything because ABI_VERSION == OLDEST_SUPPORTED_ABI_VERSION, so there are no versions to download.

Bug: https://github.com/dart-lang/sdk/issues/36047
Change-Id: I5616151dd9dc407d918cbfe9044354f3a41a2e1f
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95300
Reviewed-by: Ryan Macnak <rmacnak@google.com>
Commit-Queue: Liam Appelbe <liama@google.com>

commit dc1f2bd087fc08c2856e75f7ed6e8362fb21a182
dart-results-feed-commit-entry
dc1f2bd087fc08c2856e75f7ed6e8362fb21a182 2019-03-06 00:35:34 +0000 alexmarkov@google.com [vm] Avoid assertion for non-finalized type parameter of expression evaluation function 

This is the follow-up for https://dart-review.googlesource.com/c/sdk/+/95061.

Fixes https://github.com/dart-lang/sdk/issues/36117

Change-Id: I70d7a753fcb4d4063510548e74d635a35447b3dd
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95540
Auto-Submit: Alexander Markov <alexmarkov@google.com>
Reviewed-by: Régis Crelier <regis@google.com>
Commit-Queue: Régis Crelier <regis@google.com>

commit ef969c8c7ec2bd13c4203c239975ea8edf4300e9
dart-results-feed-commit-entry
ef969c8c7ec2bd13c4203c239975ea8edf4300e9 2019-03-06 00:26:36 +0000 liama@google.com Revert "Update the build bot name restriction in upload_abi_dills.sh" 

This reverts commit 4eedef85a377dd8db007b26a9f34b8f18dd47de8.

Reason for revert: <INSERT REASONING HERE>

Original change's description:
> Update the build bot name restriction in upload_abi_dills.sh
> 
> https://logs.chromium.org/logs/dart/buildbucket/cr-buildbucket.appspot.com/8919793391094101904/+/steps/upload_abi_dills/0/stdout
> 
> Bug: https://github.com/dart-lang/sdk/issues/36047
> Change-Id: I35c6c6b8365007b681e0daf6e8ef8a5634370dd2
> Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95488
> Reviewed-by: Alexander Thomas <athom@google.com>
> Commit-Queue: Liam Appelbe <liama@google.com>

TBR=rmacnak@google.com,athom@google.com,liama@google.com

Change-Id: Icce78b35149d9a43dadeedcbfa97eb7153e8b74f
No-Presubmit: true
No-Tree-Checks: true
No-Try: true
Bug: https://github.com/dart-lang/sdk/issues/36047
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95560
Reviewed-by: Liam Appelbe <liama@google.com>
Commit-Queue: Liam Appelbe <liama@google.com>

commit 57f16820cd8165a335c11213bec6d81a27128204
dart-results-feed-commit-entry
57f16820cd8165a335c11213bec6d81a27128204 2019-03-06 00:10:04 +0000 rnystrom@google.com Add tests for "await" inside spread, if, and for. 

These don't try to comprehensively cover every interaction of async
and the new syntax, but they should test that an implementation handles
an await appearing in all the various places in the new syntax where an
expression is permitted.

Change-Id: I4852815002fcad6697f3bad4103693b1d4288d06
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/94121
Commit-Queue: Bob Nystrom <rnystrom@google.com>
Reviewed-by: Lasse R.H. Nielsen <lrn@google.com>

commit cbc404b6de6ad61f0403c4d43b7043c6eec43edd
dart-results-feed-commit-entry
cbc404b6de6ad61f0403c4d43b7043c6eec43edd 2019-03-05 23:47:14 +0000 bkonyi@google.com [VM] Cleanup status files some more 

Change-Id: Ib7560d864b5506b2629413ccb1d70b8281e16315
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95040
Reviewed-by: Ryan Macnak <rmacnak@google.com>
Commit-Queue: Ben Konyi <bkonyi@google.com>
Auto-Submit: Ben Konyi <bkonyi@google.com>

commit dc02d859f4480eda8d1d518221e041ef5c38b1c8
dart-results-feed-commit-entry
dc02d859f4480eda8d1d518221e041ef5c38b1c8 2019-03-05 23:41:29 +0000 fishythefish@google.com Ensure all SetConstantValues are JavaScriptSetConstants. 

Change-Id: Ifa89be6cb2ce856bd10465f2502e28f0ceb72586
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95487
Commit-Queue: Mayank Patke <fishythefish@google.com>
Reviewed-by: Sigmund Cherem <sigmund@google.com>

commit f112b672e7ed9ee37ca60247d958488c3b969a32
dart-results-feed-commit-entry
f112b672e7ed9ee37ca60247d958488c3b969a32 2019-03-05 23:33:48 +0000 paulberry@google.com Use ListLiteral.elements2 instead of ListLiteral.elements. 

ListLiteral.elements will soon be deprecated.

Change-Id: If61755da665c57d4e226eaebcbe089e14208685b
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95424
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Paul Berry <paulberry@google.com>

commit 4a7f9d7c11c3f62425efbc6f2952a73d79a648a4
dart-results-feed-commit-entry
4a7f9d7c11c3f62425efbc6f2952a73d79a648a4 2019-03-05 23:33:24 +0000 paulberry@google.com Remove FindNode.setLiteral method. 

I accidentally left this out of 47b417c88e6f331b0b6ff0126fd572238c0370c9.

Change-Id: Ife4f3e1ceb82417ab7b9246dc4d6d36020e963c0
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95486
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>
Commit-Queue: Paul Berry <paulberry@google.com>

commit 2922878ce98f086c99be6983acfe77caf33ce7e7
dart-results-feed-commit-entry
2922878ce98f086c99be6983acfe77caf33ce7e7 2019-03-05 23:06:22 +0000 rmacnak@google.com [vm, compiler] Fix GuardFieldTypeInstr to update the original field. 

Change-Id: I698b6f3315e76f6d491f514333cf38e035ad6e79
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95423
Reviewed-by: Alexander Markov <alexmarkov@google.com>
Commit-Queue: Ryan Macnak <rmacnak@google.com>

commit 4eedef85a377dd8db007b26a9f34b8f18dd47de8
dart-results-feed-commit-entry
4eedef85a377dd8db007b26a9f34b8f18dd47de8 2019-03-05 22:58:12 +0000 liama@google.com Update the build bot name restriction in upload_abi_dills.sh 

https://logs.chromium.org/logs/dart/buildbucket/cr-buildbucket.appspot.com/8919793391094101904/+/steps/upload_abi_dills/0/stdout

Bug: https://github.com/dart-lang/sdk/issues/36047
Change-Id: I35c6c6b8365007b681e0daf6e8ef8a5634370dd2
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95488
Reviewed-by: Alexander Thomas <athom@google.com>
Commit-Queue: Liam Appelbe <liama@google.com>

commit 60de5b49839d9a85eeddec39f6a84cb644b3cb75
dart-results-feed-commit-entry
60de5b49839d9a85eeddec39f6a84cb644b3cb75 2019-03-05 22:32:22 +0000 rmacnak@google.com [vm] Avoid quadratic growth in (Malloc)TextBuffer and ZoneTextBuffer. 

In particular, avoid quadratic memory use in ZoneTextBuffer.

Change-Id: I8d2ea77d35cd3c2c353ae557a2ee676ee8413653
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95483
Reviewed-by: Vyacheslav Egorov <vegorov@google.com>
Reviewed-by: Siva Annamalai <asiva@google.com>
Commit-Queue: Ryan Macnak <rmacnak@google.com>

commit c921716a307f640d03ae0b6496e4a1d46eb8d47b
dart-results-feed-commit-entry
c921716a307f640d03ae0b6496e4a1d46eb8d47b 2019-03-05 20:48:31 +0000 liama@google.com Add upload_abi_dills.sh to dart-sdk-linux in test_matrix.json 

Bug: https://github.com/dart-lang/sdk/issues/36047
Change-Id: I8e39df90a768ced8ce97d6496e4f411540225fb4
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95285
Reviewed-by: Alexander Thomas <athom@google.com>
Commit-Queue: Liam Appelbe <liama@google.com>

commit 47b417c88e6f331b0b6ff0126fd572238c0370c9
dart-results-feed-commit-entry
47b417c88e6f331b0b6ff0126fd572238c0370c9 2019-03-05 20:39:41 +0000 paulberry@google.com Remove FindNode methods related to AST data structures that will be removed. 

ForStatement and ForEachStatement will be removed in favor of
ForStatement2.  MapLiteral and SetLiteral will be removed in favor of
SetOrMapLiteral.  This CL changes FindNode methods to match, and
adjusts callers.

Change-Id: I89990f63aa277acd31458d485e897ebf0c6cf61f
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95421
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>
Commit-Queue: Paul Berry <paulberry@google.com>

commit c7930381375f9173c9e066debfa5510d9ae855cd
dart-results-feed-commit-entry
c7930381375f9173c9e066debfa5510d9ae855cd 2019-03-05 20:20:31 +0000 scheglov@google.com Identify flutter_web in Flutter. 

R=brianwilkerson@google.com

Bug: https://github.com/dart-lang/sdk/issues/36056
Change-Id: I53d0fd2c565369981c6615f356f0b44344683dac
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95484
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Reviewed-by: Kevin Moore <kevmoo@google.com>
Commit-Queue: Konstantin Shcheglov <scheglov@google.com>

commit 1da7c0d472bc4e875cc69ea1d306eec5135e1f78
dart-results-feed-commit-entry
1da7c0d472bc4e875cc69ea1d306eec5135e1f78 2019-03-05 19:54:11 +0000 dmitryas@google.com [cfe] Fix type checks in spreads within lists and sets 

Change-Id: Id0eb5bc798fdd425cf1bc46d60efb3a1d5455938
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95383
Commit-Queue: Dmitry Stefantsov <dmitryas@google.com>
Reviewed-by: Kevin Millikin <kmillikin@google.com>

commit 09a1cf67e6ec7e712c8a9f0545855402017bd832
dart-results-feed-commit-entry
09a1cf67e6ec7e712c8a9f0545855402017bd832 2019-03-05 19:54:11 +0000 dmitryas@google.com [cfe] Don't replace spreads with invalid expressions after inference 

Change-Id: Ie6081b1471ee8b1697fe93f8b79b630bf6577fe7
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95120
Reviewed-by: Kevin Millikin <kmillikin@google.com>

commit 51a334caa7907f9358e34133df10d83fdd85ea0a
dart-results-feed-commit-entry
51a334caa7907f9358e34133df10d83fdd85ea0a 2019-03-05 18:48:51 +0000 alexmarkov@google.com [vm] Remove kernel reading from BuildArgumentTypeChecks 

This change is a preparation for decoupling flow graph building of
special functions from kernel reading.

Change-Id: Ied90bc6894cdfa48f49c71e980079967c8c4fbb9
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95061
Commit-Queue: Alexander Markov <alexmarkov@google.com>
Auto-Submit: Alexander Markov <alexmarkov@google.com>
Reviewed-by: Martin Kustermann <kustermann@google.com>

commit 927e758e96fc6863c4732ae19522b8d28d2632fc
dart-results-feed-commit-entry
927e758e96fc6863c4732ae19522b8d28d2632fc 2019-03-05 18:36:41 +0000 scheglov@google.com Stop using package:html in analyzer. 

Related to https://github.com/dart-lang/sdk/issues/35802

R=brianwilkerson@google.com

Change-Id: I875a8dc657900137c5a7b59f2820b30a81b23405
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95480
Commit-Queue: Konstantin Shcheglov <scheglov@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>

commit 53438199a48d261d2ec5d7c098ad11e30800bbfc
dart-results-feed-commit-entry
53438199a48d261d2ec5d7c098ad11e30800bbfc 2019-03-05 18:16:31 +0000 dantup@google.com Tweak version numbers in LSP readme 

Change-Id: I9dfa1165d41115ef6f30fd0718c75c058e8c968a
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95380
Auto-Submit: Danny Tuppeny <dantup@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Danny Tuppeny <dantup@google.com>

commit 58a048712537dd61e53655176ebd918095e59251
dart-results-feed-commit-entry
58a048712537dd61e53655176ebd918095e59251 2019-03-05 18:00:31 +0000 danrubel@google.com more tests for 34610 and 36009 

https://github.com/dart-lang/sdk/issues/34610
https://github.com/dart-lang/sdk/issues/36009

Change-Id: I840047fe53fe99b0e2c8b778a84b0598334ab295
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95420
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>
Commit-Queue: Dan Rubel <danrubel@google.com>

commit 2071d1284d17de106c0e3b7e3a7257d51af7b0e6
dart-results-feed-commit-entry
2071d1284d17de106c0e3b7e3a7257d51af7b0e6 2019-03-05 17:43:56 +0000 dacoharkes@google.com [vm/ffi] Fix crash on toString for dart:ffi trampoline functions 

Change-Id: I8af3373619dca690a2f5e60f737714e1ac413408
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95500
Auto-Submit: Daco Harkes <dacoharkes@google.com>
Reviewed-by: Samir Jindel <sjindel@google.com>
Commit-Queue: Samir Jindel <sjindel@google.com>

commit aacd8c7711f026cf9e8425ebbd9c7cde6fd3cb41
dart-results-feed-commit-entry
aacd8c7711f026cf9e8425ebbd9c7cde6fd3cb41 2019-03-05 17:33:51 +0000 pquitslund@google.com de-dup machine format errors 

Fixes: https://github.com/dart-lang/sdk/issues/36062.

Change-Id: I489a5fe991e715c5067479a29c1cddbd4de57c49
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95360
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Phil Quitslund <pquitslund@google.com>

commit cc455ecc1d5a4f45297831472086d3bbe4b78d9b
dart-results-feed-commit-entry
cc455ecc1d5a4f45297831472086d3bbe4b78d9b 2019-03-05 17:16:11 +0000 liama@google.com Add use_abi_version flag, and plumb ABI version to version.h 

Bug: https://github.com/dart-lang/sdk/issues/36047
Change-Id: Ie810cbd5079e1939bf190e06f6c2494bb4ab0805
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95282
Reviewed-by: Ryan Macnak <rmacnak@google.com>
Commit-Queue: Liam Appelbe <liama@google.com>

commit 96e982f05455c078c686592e39e92724e6378cf5
dart-results-feed-commit-entry
96e982f05455c078c686592e39e92724e6378cf5 2019-03-05 17:08:31 +0000 danrubel@google.com Improve await-outside-async error recovery 

Fix https://github.com/dart-lang/sdk/issues/36048

Change-Id: If40baa44a0aefa301c042bc1002d92e577bd3b9a
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95302
Reviewed-by: Dan Rubel <danrubel@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>

commit e033b676dd4651969171f9ec995c675db9d22da1
dart-results-feed-commit-entry
e033b676dd4651969171f9ec995c675db9d22da1 2019-03-05 15:35:58 +0000 danrubel@google.com fix parser crash in unterminated string literal inside unterminated interpolation 

Fix https://github.com/dart-lang/sdk/issues/35900

Change-Id: I96d83e0c93d9e9c22d5b30048dc210672b1c003c
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95043
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Dan Rubel <danrubel@google.com>

commit ed8357cf83b1c54d0018ffc75e8ee16e43e2bda5
dart-results-feed-commit-entry
ed8357cf83b1c54d0018ffc75e8ee16e43e2bda5 2019-03-05 14:17:08 +0000 sjindel@google.com Re-land "[vm/ffi] Stress tests for FFI functions."" 

We will only run the tests on supported configurations. Issues are open
to expand coverage.

This reverts commit 1d3a0d512909c8a8180c67ec2499e5259984c7ee.

Change-Id: I28d90f36a97914dc0cb04c39046cb4bdafe1740b
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95023
Reviewed-by: Daco Harkes <dacoharkes@google.com>
Commit-Queue: Samir Jindel <sjindel@google.com>

commit 6227ab0b97f0e351d586bc566eeec8954f442d81
dart-results-feed-commit-entry
6227ab0b97f0e351d586bc566eeec8954f442d81 2019-03-05 12:17:18 +0000 johnniwinther@google.com Replace @ForceInline with @pragma in dart:html 

Change-Id: I73afc500438d3fba92f549c8c1955f5ccad47751
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95033
Commit-Queue: Johnni Winther <johnniwinther@google.com>
Reviewed-by: Stephen Adams <sra@google.com>

commit 204651f3ab71f75d66703f7c502e7f0c58089db8
dart-results-feed-commit-entry
204651f3ab71f75d66703f7c502e7f0c58089db8 2019-03-05 11:00:17 +0000 johnniwinther@google.com Replace package:expect annotations with @pragma 

Change-Id: Ib43d0d71a3ee8b0f0e6d676e6a3e448a107b7ca5
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95180
Commit-Queue: Johnni Winther <johnniwinther@google.com>
Reviewed-by: Stephen Adams <sra@google.com>

commit 45e6f83cd611ec0bc3fc5b285d5977f3f8e2c78e
dart-results-feed-commit-entry
45e6f83cd611ec0bc3fc5b285d5977f3f8e2c78e 2019-03-05 10:53:17 +0000 dacoharkes@google.com gitignore visual studio project files 

Change-Id: Id7d2c3775f4b37b15b6ee680681c09d44164a9ec
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/94742
Auto-Submit: Daco Harkes <dacoharkes@google.com>
Reviewed-by: Martin Kustermann <kustermann@google.com>
Commit-Queue: Martin Kustermann <kustermann@google.com>

commit ca24e7aa10383dc0cda5b92a6c85402eae537e45
dart-results-feed-commit-entry
ca24e7aa10383dc0cda5b92a6c85402eae537e45 2019-03-05 10:38:38 +0000 sigurdm@google.com [vm] Allow no main method when doing type flow analysis 

Change-Id: I97fce485ad1792766d34ad365b359b44c8aacb61
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95385
Reviewed-by: Martin Kustermann <kustermann@google.com>
Commit-Queue: Sigurd Meldgaard <sigurdm@google.com>

commit c769743f679365cc5d6eb4c606fce6afa2605adf
dart-results-feed-commit-entry
c769743f679365cc5d6eb4c606fce6afa2605adf 2019-03-05 10:18:37 +0000 askesc@google.com [CFE] Transform constants in annotations on all parameters. 

The constant transformer would only transform optional parameters,
since these are the only ones that can contain default values. This
caused it to miss annotations on required positional parameters.

Change-Id: I49bfc84a1a533cec87db557306fdeb3569156947
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/93981
Reviewed-by: Kevin Millikin <kmillikin@google.com>
Commit-Queue: Aske Simon Christensen <askesc@google.com>

commit 718b36ed73e45d7304b4b889ee622ae90e1c63de
dart-results-feed-commit-entry
718b36ed73e45d7304b4b889ee622ae90e1c63de 2019-03-05 09:28:27 +0000 kmillikin@google.com [cfe] Use for-in instead of List.addAll for list spread 

The translation of `...e` into `list.addAll(e`) is not correctly
typed.  `List.addAll` requires its argument to have type `Iterable<E>`
where E is the list's element type.  Spread only requires that the
elements of e have type E.

Instead translate `...e` into `for (E elt in e) list.add(elt);`.

Change-Id: I9a5794048d33901a2b0dfae2e592a031d1155be8
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95381
Reviewed-by: Dmitry Stefantsov <dmitryas@google.com>
Commit-Queue: Kevin Millikin <kmillikin@google.com>

commit 99093c0610238cafa80567068c4a3ade12c1f973
dart-results-feed-commit-entry
99093c0610238cafa80567068c4a3ade12c1f973 2019-03-05 09:23:57 +0000 askesc@google.com [fasta] Required but not inferred constant context. 

Add a new kind of constant context in the body builder for expressions
that must be constant but where constness is not inferred.

This context is used for parameter default values and initializing
expressions for non-final fields in classes containing at least one
const constructor.

Fixes https://github.com/dart-lang/sdk/issues/34191

Change-Id: I200ca88586b19335b185dad0839dfad4eef1f75f
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/93520
Commit-Queue: Aske Simon Christensen <askesc@google.com>
Reviewed-by: Peter von der Ahé <ahe@google.com>

commit 822ebdd1e027cd6c925179620a14a1d02a56a6c0
dart-results-feed-commit-entry
822ebdd1e027cd6c925179620a14a1d02a56a6c0 2019-03-05 09:23:57 +0000 askesc@google.com [fasta] Wrap non-const variable accesses inside const expressions. 

Change-Id: I8761031da2419a47a947a02721d4ffd86ac7c531
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/93504
Reviewed-by: Peter von der Ahé <ahe@google.com>

commit 013cf686244bec04649363022eb3f8aaaf199e42
dart-results-feed-commit-entry
013cf686244bec04649363022eb3f8aaaf199e42 2019-03-05 08:56:18 +0000 johnniwinther@google.com Replace js_helper annotations with @pragma 

@ForceInline is still used by dart:html, will be removed in a later CL.

Change-Id: I480325fe91cc6baefb17ead49f839442e023d441
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95160
Commit-Queue: Johnni Winther <johnniwinther@google.com>
Reviewed-by: Stephen Adams <sra@google.com>

commit 1a88421d39f676572e55c3fc2bfb40c6bd4c4a33
dart-results-feed-commit-entry
1a88421d39f676572e55c3fc2bfb40c6bd4c4a33 2019-03-05 07:39:31 +0000 jensj@google.com Allow to change .package uri in incremental compiler 

Change-Id: Ic36fd000e2a3ea2870460b68821c7404f6e62a1a
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95140
Reviewed-by: Peter von der Ahé <ahe@google.com>

commit 2695cdfbb1078fdd305195a2157ce1649b85477c
dart-results-feed-commit-entry
2695cdfbb1078fdd305195a2157ce1649b85477c 2019-03-05 07:39:31 +0000 jensj@google.com Change incremental compiler to take entry points (plural) 

Change-Id: I03203cdeb11ab7bc6116779642909ebc7220c619
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95122
Reviewed-by: Peter von der Ahé <ahe@google.com>

commit 3124125008f1e3e68f269fd529b8ae4bfbc79eeb
dart-results-feed-commit-entry
3124125008f1e3e68f269fd529b8ae4bfbc79eeb 2019-03-05 05:51:41 +0000 scheglov@google.com Move Flutter utility methods into a class, which can be instantiated either with regular package:flutter, or with package_flutter_web. 

The factory constructors does not yet choose one, will do in a
following CL.

R=brianwilkerson@google.com

Bug: https://github.com/dart-lang/sdk/issues/36056
Change-Id: I7fabe9da571ea80ce993d9303217ccd8b085e8a5
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95283
Commit-Queue: Konstantin Shcheglov <scheglov@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>

commit 5a8bdc7f34dc2e352571099796f09928eb5d99e7
dart-results-feed-commit-entry
5a8bdc7f34dc2e352571099796f09928eb5d99e7 2019-03-05 01:15:30 +0000 jmesserly@google.com [dartdevc] fix #36052, missing key in map should result in null 

Change-Id: Ic32fb8689fd2163e162b80ad4682e9b10ba4eaee
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/94920
Commit-Queue: Nicholas Shahan <nshahan@google.com>
Auto-Submit: Jenny Messerly <jmesserly@google.com>
Reviewed-by: Nicholas Shahan <nshahan@google.com>

commit 643895befcc4d3ee66b4e514eb6d8a6e0defe69d
dart-results-feed-commit-entry
643895befcc4d3ee66b4e514eb6d8a6e0defe69d 2019-03-05 00:45:35 +0000 brianwilkerson@google.com Fix two failing tests on the bots (TBR) 

Change-Id: I607ae4c59b85e8720e1efbc1d60842168318d410
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95340
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>

commit 24d28e8f481cbee86e3d15c703e75cb3ac48bc6d
dart-results-feed-commit-entry
24d28e8f481cbee86e3d15c703e75cb3ac48bc6d 2019-03-04 22:42:16 +0000 scheglov@google.com Write SetOrMapLiteral instead of MapLiteral or SetLiteral. 

R=brianwilkerson@google.com, paulberry@google.com

Change-Id: Ib02e203893c3945f17c9ea20486f3dd421d8e94d
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95301
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Konstantin Shcheglov <scheglov@google.com>

commit c86a9ece5f063506c2163bbc7d7775fff4b00964
dart-results-feed-commit-entry
c86a9ece5f063506c2163bbc7d7775fff4b00964 2019-03-04 22:00:46 +0000 brianwilkerson@google.com First cut at upward inference for the ui-as-code features 

Change-Id: I5d63e9433deed3baa1a2df44e04b57782da6c9b9
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95062
Reviewed-by: Paul Berry <paulberry@google.com>
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>

commit 2329fccdb989445f0b62d02653d27bd26b1c4d16
dart-results-feed-commit-entry
2329fccdb989445f0b62d02653d27bd26b1c4d16 2019-03-04 21:52:20 +0000 scheglov@google.com Use visitForStatement2() and read as ForStatement2 and its parts. 

R=brianwilkerson@google.com, paulberry@google.com

Change-Id: I57dc7d816d9984a247b4c5e78f1f792230174604
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95281
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>

commit a7a4c95df7616deb6a62e0c5b6596b5ece116c39
dart-results-feed-commit-entry
a7a4c95df7616deb6a62e0c5b6596b5ece116c39 2019-03-04 21:47:21 +0000 mfairhurst@google.com Summarize SetOrMapLiteral 

Change-Id: Ic0356500fc9381a05bc91fb8bd9bead877de01cd
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/94348
Commit-Queue: Mike Fairhurst <mfairhurst@google.com>
Reviewed-by: Paul Berry <paulberry@google.com>
Auto-Submit: Mike Fairhurst <mfairhurst@google.com>

commit 1abcbe1318497261a5ee615079ff83e2f7755c06
dart-results-feed-commit-entry
1abcbe1318497261a5ee615079ff83e2f7755c06 2019-03-04 21:21:24 +0000 paulberry@google.com Eliminate uses of old AST node types from parts of the analyzer 

This CL covers the following subdirectories:
- pkg/analyzer/test/util
- pkg/analyzer/test/src/summary
- pkg/analyzer/test/src/dart/resolution
- pkg/analyzer/test/src/dart/ast
- pkg/analyzer/test/src/dart/analysis

Change-Id: I2a04f348906501ef99ba6a3162d04efcbb64c235
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95262
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>
Commit-Queue: Paul Berry <paulberry@google.com>

commit 1c27b817fc91024ce84887c7922a2d9fff43ab97
dart-results-feed-commit-entry
1c27b817fc91024ce84887c7922a2d9fff43ab97 2019-03-04 20:33:44 +0000 ariaye@google.com New protocol to inspect analysis server state at code completion time 

This change adds a new, experimental completion domain request
`completion.listTokenDetails`. Its purpose is to allow
other programs to observe and make smarter decisions contingent
upon analyzer's internal knowledge of a Dart program.

Bug: 36083
Change-Id: I5ab477221efeac076eccc873a29cf6feae91052e
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95100
Commit-Queue: Ari Aye <ariaye@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>

commit 571ea80e1101e706980ea8aefa7fc18a0c8ba2ec
dart-results-feed-commit-entry
571ea80e1101e706980ea8aefa7fc18a0c8ba2ec 2019-03-04 19:30:53 +0000 ajcbik@google.com [vm/compiler] added assert to kernel flowgraph builder 

Rationale:
Yields a more gentle crash in debug mode for
bug under investigation (found by DartFuzz)

https://github.com/dart-lang/sdk/issues/36076

Change-Id: I497fbef1ec2100b9701848c3454bef5ad7518d2b
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95280
Reviewed-by: Alexander Markov <alexmarkov@google.com>
Commit-Queue: Aart Bik <ajcbik@google.com>

commit b88e6dd910a4bdbc884140f8acec7d5328149d26
dart-results-feed-commit-entry
b88e6dd910a4bdbc884140f8acec7d5328149d26 2019-03-04 19:20:53 +0000 rnystrom@google.com Fix the type argument on the deep flattening spread test. 

Change-Id: Icba0904c88a18901c0a2d423a8ce7ab7af8413fd
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/94941
Reviewed-by: Leaf Petersen <leafp@google.com>
Commit-Queue: Bob Nystrom <rnystrom@google.com>

commit 62df51cb34302c01111407370f9507e47de25b1c
dart-results-feed-commit-entry
62df51cb34302c01111407370f9507e47de25b1c 2019-03-04 19:19:13 +0000 paulberry@google.com Eliminate uses of old AST node types from parts of the analyzer 

This CL covers the following subdirectories:
- pkg/analyzer/test/dart/element
- pkg/analyzer/test/generated

Change-Id: If550fef4c625efca7a295d59fbe08f6b5be4407f
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95261
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Paul Berry <paulberry@google.com>

commit 7d8ffe0daf8148dd281884ec3911f1274e21f0af
dart-results-feed-commit-entry
7d8ffe0daf8148dd281884ec3911f1274e21f0af 2019-03-04 18:12:22 +0000 paulberry@google.com Eliminate uses of old AST node types from pkg/analyzer/lib/src/test_utilities 

Change-Id: I5cfa3aa36e97c2fcb0d3969f483c04763bbcc882
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95260
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Paul Berry <paulberry@google.com>

commit 2e463506b776acb2c71294f8fbab9e94b31c5375
dart-results-feed-commit-entry
2e463506b776acb2c71294f8fbab9e94b31c5375 2019-03-04 17:44:41 +0000 scheglov@google.com Read more nodes from serialized AST. 

R=brianwilkerson@google.com, paulberry@google.com

Change-Id: I1d271707fc8a7b8ea86a0051efe3429d689c70af
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/94992
Commit-Queue: Konstantin Shcheglov <scheglov@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>

commit e91c3b3ab49ac659b9cac8b3b3adae986f0a927c
dart-results-feed-commit-entry
e91c3b3ab49ac659b9cac8b3b3adae986f0a927c 2019-03-04 17:41:51 +0000 whesse@google.com Update pkg:html version to 0.13.4+1 

There was a stray 0.13.3+3 tag committed two years ago, that some builders
had in their cache, so they were not picking up a new 0.13.3+3 tag created
days ago. No tag may ever be changed or reused in our dependencies.  The 0.13.4
tag was created against a repo with pubspec version 0.13.4-dev, which was also
wrong, so we needed a fixed, released 0.13.4+1 version.

Change-Id: I868db93df13d4a24ff30bb49fcb190151ab53036
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95240
Reviewed-by: William Hesse <whesse@google.com>

commit 819f44532c6d12afabc4f36d334384ec425ae557
dart-results-feed-commit-entry
819f44532c6d12afabc4f36d334384ec425ae557 2019-03-04 17:28:01 +0000 paulberry@google.com Eliminate uses of old AST node types from pkg/analyzer/lib/src/task/strong 

Change-Id: I2e0dabfcf15a150b52a84be803057a0a9ebeec1b
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95201
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Paul Berry <paulberry@google.com>

commit 095e651ff234f1f3fab797e1b5f6c66d7fba0299
dart-results-feed-commit-entry
095e651ff234f1f3fab797e1b5f6c66d7fba0299 2019-03-04 16:14:16 +0000 paulberry@google.com Eliminate uses of old AST node types from pkg/analyzer/lib/src/services 

Change-Id: I5aefe213b22e9200aa2e3f24ae065ef9fc0f214c
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/95200
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Paul Berry <paulberry@google.com>

commit 2c087433dbeb36fecd2758ab632fcffb30ef95e9
dart-results-feed-commit-entry
2c087433dbeb36fecd2758ab632fcffb30ef95e9 2019-03-04 15:35:31 +0000 sgrekhov@unipro.ru [co19] DEPS and status files updated 

Change-Id: I75e42be513c65799bcb9332a5c4614c00461ec85
Reviewed-on: https://dart-review.googlesource.com/c/sdk/+/94283
Reviewed-by: William Hesse <whesse@google.com>

commit b095a6be8ee418f36abba33088b97c238c79b6ee
dart-results-feed-commit-entry
b095a6be8ee418f36abba33088b97c238c79b6ee 2019-03-04 14:11:46 +0000 athom@google.com [infra] Update checked in SDKs to 2.2.1-dev.0.0 

Fixes #36072

Change-Id: I1abc4dd293ac15327f458d0f0676067bf57c0a39
Reviewed-on: https://dart-review.googlesource.com/c/95181
Commit-Queue: Alexander Thomas <athom@google.com>
Commit-Queue: William Hesse <whesse@google.com>
Auto-Submit: Alexander Thomas <athom@google.com>
Reviewed-by: William Hesse <whesse@google.com>

commit f46186ac49f7ac86052f42016677e763958d030d
dart-results-feed-commit-entry
f46186ac49f7ac86052f42016677e763958d030d 2019-03-04 13:38:29 +0000 sortie@google.com [infra] Fix update_flakiness using wrong key when computing matches. 

It was using the wrong 'expectation' field instead of the correct 'expected'
field. This change uses the right field. However as the matches field has
now been initialized, this change forcefully recomputes it instead of
politely using putIfAbsent. The matches result for the current result will
still take precedence.

Change-Id: I0775c1ff43b8f6691e457b5155ac9335338b209d
Reviewed-on: https://dart-review.googlesource.com/c/95182
Reviewed-by: William Hesse <whesse@google.com>

commit 03e46ee96936d477abdb23be2f9db2e3c0ff1fe5
dart-results-feed-commit-entry
03e46ee96936d477abdb23be2f9db2e3c0ff1fe5 2019-03-04 13:04:46 +0000 sortie@google.com [infra] Add expectation and matches information to flaky.json. 

The expected field can be used to be displayed in the flakiness dashboard.

The matches fields can be used in the flakiness dashboards to decide whether
to include links to logs for a given outcome.

Change-Id: I19454e7cc8fb49871dbb0e7a11478d8888b56662
Reviewed-on: https://dart-review.googlesource.com/c/95024
Commit-Queue: Jonas Termansen <sortie@google.com>
Reviewed-by: William Hesse <whesse@google.com>

commit 15f1fc212c609785950af084cf82197cb7d2cb70
dart-results-feed-commit-entry
15f1fc212c609785950af084cf82197cb7d2cb70 2019-03-04 10:29:16 +0000 dantup@google.com Add a flag to allow only analyzing project folders that contain open files 

Change-Id: I7239043292315871d77739858b8342c434ac837c
Reviewed-on: https://dart-review.googlesource.com/c/93430
Commit-Queue: Danny Tuppeny <dantup@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>

commit bc2b78886d0a497d7b4fb77e2a12d82be4b3f33e
dart-results-feed-commit-entry
bc2b78886d0a497d7b4fb77e2a12d82be4b3f33e 2019-03-04 10:20:56 +0000 askesc@google.com [CFE] handle set literals in constant evaluator. 

Change-Id: I9dc5f7a3d2e7bc0f53e0370042bc59d688a8c4b3
Reviewed-on: https://dart-review.googlesource.com/c/95021
Commit-Queue: Aske Simon Christensen <askesc@google.com>
Reviewed-by: Kevin Millikin <kmillikin@google.com>

commit 2b2e71770cd704a56ed827b85d4465497f3e62cb
dart-results-feed-commit-entry
2b2e71770cd704a56ed827b85d4465497f3e62cb 2019-03-04 10:20:56 +0000 askesc@google.com [kernel] Add SetConstant node to Kernel. 

Change-Id: I83da1afc9f15009c650a871a51ca8171b482d4df
Reviewed-on: https://dart-review.googlesource.com/c/94863
Reviewed-by: Kevin Millikin <kmillikin@google.com>

commit 084e98e3a3dab8c6176ece3148bc211002dbe06b
dart-results-feed-commit-entry
084e98e3a3dab8c6176ece3148bc211002dbe06b 2019-03-04 09:09:56 +0000 kustermann@google.com [VM] Ensure that a newly allocated object is either new or added to remembered set if we want to eliminate write barriers to it 

For all non-generic classes the AllocateObject runtime call would not
guarantee that the returned object is new or marked as remembered. If
such an object is subject to a store with an eliminated write-barrier,
we have incorrect remembered set, which causes flaky crashes.

This CL fixes the AllocateObject runtime call to always ensure the
object is new or added to the remembered set if write-barrier
elimination is enabled for those.

Furthermore the conditions for when the write barrier can be eliminated
is centralized in one place instead of duplicated (in runtime_entry.cc
and il.h) to avoid future divergence of the two.

Similarly the condition to when an array uses card marking is put into
one place.

Fixes https://github.com/dart-lang/sdk/issues/36011

Change-Id: I270f3618a267a35fa6ea63dcf4092488c0319328
Reviewed-on: https://dart-review.googlesource.com/c/95022
Reviewed-by: Ryan Macnak <rmacnak@google.com>
Reviewed-by: Samir Jindel <sjindel@google.com>
Commit-Queue: Martin Kustermann <kustermann@google.com>

commit 95cfa6c583ea43c7506df030ee8c1b066de7c71c
dart-results-feed-commit-entry
95cfa6c583ea43c7506df030ee8c1b066de7c71c 2019-03-04 08:40:15 +0000 johnniwinther@google.com Support native class and js-interop annotations through ir constants 

Change-Id: I8e9deb1392dc98d958f13611a984e422b028265c
Reviewed-on: https://dart-review.googlesource.com/c/95032
Commit-Queue: Johnni Winther <johnniwinther@google.com>
Reviewed-by: Sigmund Cherem <sigmund@google.com>

commit 62d22083acb04777ab4c2621911ff8ca0686e4e2
dart-results-feed-commit-entry
62d22083acb04777ab4c2621911ff8ca0686e4e2 2019-03-04 08:40:15 +0000 johnniwinther@google.com Flatten native member resolver 

Change-Id: I1bd775d23fd184f00232693549943c4082926564
Reviewed-on: https://dart-review.googlesource.com/c/95031
Reviewed-by: Sigmund Cherem <sigmund@google.com>

commit 053dfbb2ac7e95cebe3f4f31d57efc49a8faa68f
dart-results-feed-commit-entry
053dfbb2ac7e95cebe3f4f31d57efc49a8faa68f 2019-03-04 08:29:56 +0000 kmillikin@google.com [cfe] Compile list spread elements into block expressions 

Change-Id: Ic869cbfb2f3dc13a56be771acf0e12df850ff3c6
Reviewed-on: https://dart-review.googlesource.com/c/94748
Commit-Queue: Kevin Millikin <kmillikin@google.com>
Reviewed-by: Dmitry Stefantsov <dmitryas@google.com>

commit 1e0d5144692f5545384faa6d47e46478376adffb
dart-results-feed-commit-entry
1e0d5144692f5545384faa6d47e46478376adffb 2019-03-02 15:59:12 +0000 brianwilkerson@google.com Address comments from a previous CL 

Change-Id: I2a0ba9ae0b7c6b1e6e72de6fee5ac2bc7dfc5598
Reviewed-on: https://dart-review.googlesource.com/c/94987
Commit-Queue: Brian Wilkerson <brianwilkerson@google.com>
Reviewed-by: Paul Berry <paulberry@google.com>

commit 156790474e914351780782440058da754cf9288e
dart-results-feed-commit-entry
156790474e914351780782440058da754cf9288e 2019-03-02 03:20:51 +0000 scheglov@google.com Allocate fieldOffsets once, in computeFieldOffsets(). 

At this point we know exactly how many offsets we have, so we can
allocate it and avoid growing. This make writing large data structures
about 25% faster.

R=paulberry@google.com

Change-Id: I884b0e3633bb4ea19a41ef1ceefaf1b427d0389e
Reviewed-on: https://dart-review.googlesource.com/c/95044
Reviewed-by: Paul Berry <paulberry@google.com>
Commit-Queue: Konstantin Shcheglov <scheglov@google.com>

commit 4a144e631f17b2ea3190877a28cabedc9b486d03
dart-results-feed-commit-entry
4a144e631f17b2ea3190877a28cabedc9b486d03 2019-03-02 01:37:32 +0000 brianwilkerson@google.com Fix production of outline for incomplete generic function types (issue 36059) 

Change-Id: Ie8e5279fb7b9094377197ee9d0f568f8baad3d10
Reviewed-on: https://dart-review.googlesource.com/c/95080
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>
Commit-Queue: Brian Wilkerson <brianwilkerson@google.com>

commit 4bd3e4b561a1b6fe6249d0b6983018064bf59390
dart-results-feed-commit-entry
4bd3e4b561a1b6fe6249d0b6983018064bf59390 2019-03-02 00:24:41 +0000 scheglov@google.com Write more AST nodes to summary. 

There are probably still some nodes missing, but with this we can
write resolved analyzer/lib/ and analysis_server/lib/.

Reading is still mostly unimplemented.

R=brianwilkerson@google.com, paulberry@google.com

Change-Id: I3c2e8a61a1d0f3ce5fbe8307b52e2094bc96fcb1
Reviewed-on: https://dart-review.googlesource.com/c/95064
Reviewed-by: Paul Berry <paulberry@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Konstantin Shcheglov <scheglov@google.com>

commit fa2d32e80a64b81da3f0dee817866dc605241030
dart-results-feed-commit-entry
fa2d32e80a64b81da3f0dee817866dc605241030 2019-03-02 00:16:41 +0000 vsm@google.com [ddc] Add api to query loaded libs 

Change-Id: Ib82292081b1e7c1b08af9b57f8c8a0aef16cd0d8
Reviewed-on: https://dart-review.googlesource.com/c/94990
Auto-Submit: Vijay Menon <vsm@google.com>
Reviewed-by: Jenny Messerly <jmesserly@google.com>
Commit-Queue: Jenny Messerly <jmesserly@google.com>

commit 5a335957f22eb08c58a8642614534d83237df740
dart-results-feed-commit-entry
5a335957f22eb08c58a8642614534d83237df740 2019-03-02 00:02:01 +0000 jmesserly@google.com [analyzer] fix #33119, add strict-raw-types flag 

When the flag is enabled, warnings are issued for raw types, for
example `List`.

Raw types (those without explicit type arguments) are allowed if any
of these are true, otherwise they are reported:

- none of the type arguments are `dynamic`.
- the type was inferred from a downwards context.
- the class/typedef has `@optionalTypeArgs` from package:meta.

Change-Id: I1e70dba5b3bf6118b274bbf72843e3578dbaa8fd
Reviewed-on: https://dart-review.googlesource.com/c/75629
Auto-Submit: Jenny Messerly <jmesserly@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Reviewed-by: Samuel Rawlins <srawlins@google.com>
Commit-Queue: Samuel Rawlins <srawlins@google.com>

commit 76d31a251e21e77f287301e2e67cfab274163fda
dart-results-feed-commit-entry
76d31a251e21e77f287301e2e67cfab274163fda 2019-03-01 23:56:01 +0000 jmesserly@google.com [dartdevc] fix hot restart static field reset 

Fields are not currently getting reset after the 2nd time, unless the
module is reloaded. This moves the tracking to initialized fields,
rather than defined fields, which is more difficult to clear.

Change-Id: Ie25c151d16872fd330798aa3b7fb7ab0d8d14fc1
Reviewed-on: https://dart-review.googlesource.com/c/95060
Auto-Submit: Jenny Messerly <jmesserly@google.com>
Reviewed-by: Vijay Menon <vsm@google.com>
Commit-Queue: Vijay Menon <vsm@google.com>

commit 2f158b99977909385c42eec48b707db9414e42f0
dart-results-feed-commit-entry
2f158b99977909385c42eec48b707db9414e42f0 2019-03-01 23:00:41 +0000 liama@google.com Add ABI_VERSION to the version file and a script to upload dills to CPID 

Bug: https://github.com/dart-lang/sdk/issues/36047
Change-Id: I19d825eb2addaa32680d18a21d237ca172cd4b73
Reviewed-on: https://dart-review.googlesource.com/c/94442
Commit-Queue: Liam Appelbe <liama@google.com>
Reviewed-by: Alexander Thomas <athom@google.com>
Reviewed-by: Siva Annamalai <asiva@google.com>

commit 0491d5cde71088e8a54798d27d110737be11a9d4
dart-results-feed-commit-entry
0491d5cde71088e8a54798d27d110737be11a9d4 2019-03-01 22:55:14 +0000 regis@google.com Revert "[VM runtime] Dual mapping of executable pages." 

This reverts commit 44186dfdcda19038616b48914d10b4b7a9ccfc2f.

Reason for revert: not working on vm-kernel-precomp-android-release-arm

Original change's description:
> [VM runtime] Dual mapping of executable pages.
> 
> Change-Id: Iaad78d324e25462ce951f4df26974a6a368c50b7
> Reviewed-on: https://dart-review.googlesource.com/c/93377
> Commit-Queue: Régis Crelier <regis@google.com>
> Reviewed-by: Ryan Macnak <rmacnak@google.com>

TBR=rmacnak@google.com,regis@google.com

Change-Id: I793ceee6252111eafbcbfe6e28268f4f6f2d7215
No-Presubmit: true
No-Tree-Checks: true
No-Try: true
Reviewed-on: https://dart-review.googlesource.com/c/94989
Reviewed-by: Régis Crelier <regis@google.com>
Commit-Queue: Régis Crelier <regis@google.com>

commit 5f9bd87689b0d68b4637db3c08df6d5dc05fa356
dart-results-feed-commit-entry
5f9bd87689b0d68b4637db3c08df6d5dc05fa356 2019-03-01 22:43:31 +0000 paulberry@google.com Eliminate uses of old AST node types from parts of the analyzer 

This CL covers the following subdirectories:
- pkg/analyzer/lib/src/dart/resolver
- pkg/analyzer/lib/src/dart/element

Change-Id: I3b20573b31b933936d1b541e7055ff21d2282288
Reviewed-on: https://dart-review.googlesource.com/c/94988
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Paul Berry <paulberry@google.com>

commit 38d675287ceb799d3aa6a2335876609bc8198460
dart-results-feed-commit-entry
38d675287ceb799d3aa6a2335876609bc8198460 2019-03-01 22:35:11 +0000 paulberry@google.com Eliminate uses of old AST node types from parts of the analyzer 

This CL covers the following subdirectories:
- pkg/analyzer/lib/src/dart/analysis/dependency
- pkg/analyzer/lib/src/dart/constant

Note that some uses of MapLiteral and SetLiteral remain in these
directories to support cloning of old AST data structures.

Change-Id: I825ee8923f9d1a5a937f83293370c2628d28f590
Reviewed-on: https://dart-review.googlesource.com/c/95042
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Paul Berry <paulberry@google.com>

commit df59b0975664aaeaa36a1bd9dde57ba00cc4c807
dart-results-feed-commit-entry
df59b0975664aaeaa36a1bd9dde57ba00cc4c807 2019-03-01 22:34:21 +0000 liama@google.com Fail early if a thread has no stack headroom 

Bug: https://github.com/dart-lang/sdk/issues/35745
Change-Id: I6a9dff8608385d4dde74a16b6d4dea42fe91460f
Reviewed-on: https://dart-review.googlesource.com/c/95041
Reviewed-by: Ryan Macnak <rmacnak@google.com>
Commit-Queue: Liam Appelbe <liama@google.com>

commit 44186dfdcda19038616b48914d10b4b7a9ccfc2f
dart-results-feed-commit-entry
44186dfdcda19038616b48914d10b4b7a9ccfc2f 2019-03-01 22:19:31 +0000 regis@google.com [VM runtime] Dual mapping of executable pages. 

Change-Id: Iaad78d324e25462ce951f4df26974a6a368c50b7
Reviewed-on: https://dart-review.googlesource.com/c/93377
Commit-Queue: Régis Crelier <regis@google.com>
Reviewed-by: Ryan Macnak <rmacnak@google.com>

commit 298866ed94aa3578ded3e818b87ebb975a217d85
dart-results-feed-commit-entry
298866ed94aa3578ded3e818b87ebb975a217d85 2019-03-01 19:48:02 +0000 scheglov@google.com Write / read resolved AST to / from flat buffers. 

AstBinaryWriter does not yet support all node types, but a lot of them,
and can successfully write many large Dart files, including itself.
Whether it does it correctly, we cannot say yet, because AstBinaryReader
supports much smaller set of node types. I plan to add all nodes in
following CLs, and run over larger bodies of code.

R=brianwilkerson@google.com, paulberry@google.com

Change-Id: Iaa2a5c743bd1659ea30c93632028d3a475736bf5
Reviewed-on: https://dart-review.googlesource.com/c/94684
Reviewed-by: Paul Berry <paulberry@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>

commit 863f7df7aad2d315d870b5c5ff5a64ec298c9280
dart-results-feed-commit-entry
863f7df7aad2d315d870b5c5ff5a64ec298c9280 2019-03-01 19:25:00 +0000 scheglov@google.com Include debug info when dart:core is not resolved. 

R=brianwilkerson@google.com, paulberry@google.com

Bug: https://github.com/dart-lang/sdk/issues/35226
Change-Id: I3064e1f2affae9b6fdd34b3740882cd06f293cba
Reviewed-on: https://dart-review.googlesource.com/c/94983
Reviewed-by: Paul Berry <paulberry@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Konstantin Shcheglov <scheglov@google.com>

commit f00fe7a28923ad62007fdd32f254e030310c8b60
dart-results-feed-commit-entry
f00fe7a28923ad62007fdd32f254e030310c8b60 2019-03-01 19:23:36 +0000 brianwilkerson@google.com Rework of downward inference for the ui-as-code features 

Change-Id: Idfc815d976343a6ad015beaa6074ca5c979f8c3b
Reviewed-on: https://dart-review.googlesource.com/c/94700
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>
Reviewed-by: Paul Berry <paulberry@google.com>

commit 1a9f40b1c57b26f33652f9fbd77eb8dde7a6fa9d
dart-results-feed-commit-entry
1a9f40b1c57b26f33652f9fbd77eb8dde7a6fa9d 2019-03-01 19:07:30 +0000 bkonyi@google.com [VM] Remove unnecessary assert to fix cc/PrintJSON test 

Change-Id: If6f44a3136002cd4c682f6b88bbd772db8f467b3
Reviewed-on: https://dart-review.googlesource.com/c/94984
Auto-Submit: Ben Konyi <bkonyi@google.com>
Commit-Queue: Ryan Macnak <rmacnak@google.com>
Reviewed-by: Ryan Macnak <rmacnak@google.com>

commit c2a48ee065a336be5c26c45fec0f145d4dd2aefd
dart-results-feed-commit-entry
c2a48ee065a336be5c26c45fec0f145d4dd2aefd 2019-03-01 18:59:10 +0000 regis@google.com [VM] Fix bigint left shift that could cause heap corruption when intrinsified. 

The size of the result digit array was not computed correctly.
When 64-bit intrinsics are used, one extra digit pair must be allocated.

Change-Id: Id3ca3a16ef24b598e44bf25221d400b9be71248a
Reviewed-on: https://dart-review.googlesource.com/c/94683
Reviewed-by: Alexander Markov <alexmarkov@google.com>
Reviewed-by: Martin Kustermann <kustermann@google.com>
Commit-Queue: Régis Crelier <regis@google.com>

commit 9201b906ee8e44eaca6585991741f302c8df539b
dart-results-feed-commit-entry
9201b906ee8e44eaca6585991741f302c8df539b 2019-03-01 18:46:00 +0000 johnniwinther@google.com Convert ir.Constant to ConstantValue 

Needed for passing the --enable-experiments=constant-update-2018 option to start working on ir.Constant nodes.

Change-Id: I4f3d8fa6a59ddbda1635fe2da64591bcffcb0f12
Reviewed-on: https://dart-review.googlesource.com/c/95030
Reviewed-by: Sigmund Cherem <sigmund@google.com>
Commit-Queue: Johnni Winther <johnniwinther@google.com>

commit dc555eb9a7ebc122cd8a298aaf36f739aa1d12e4
dart-results-feed-commit-entry
dc555eb9a7ebc122cd8a298aaf36f739aa1d12e4 2019-03-01 18:05:40 +0000 rmacnak@google.com [vm] On Fuchsia, enable timeline streams based on the state of system trace categories. 

Allows categories to be selected through arguments to `trace` instead of changing VM flags and rebuilding.

Change-Id: Ia1ec6b58ca0b765c3d675b7d4938acc5f624b768
Reviewed-on: https://dart-review.googlesource.com/c/91860
Reviewed-by: Zach Anderson <zra@google.com>
Commit-Queue: Ryan Macnak <rmacnak@google.com>

commit 644026da51d05276f78ccab245909e657520dd6d
dart-results-feed-commit-entry
644026da51d05276f78ccab245909e657520dd6d 2019-03-01 18:03:25 +0000 paulberry@google.com Eliminate uses of old AST node types from AstFactory 

Change-Id: I6bfb37b9a1e1477a27e5a60ba6120876ae5ecb9d
Reviewed-on: https://dart-review.googlesource.com/c/94804
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>
Commit-Queue: Paul Berry <paulberry@google.com>

commit c35304ef187d85e60d5135e95a241b6374bd08f6
dart-results-feed-commit-entry
c35304ef187d85e60d5135e95a241b6374bd08f6 2019-03-01 17:24:40 +0000 alexmarkov@google.com [vm/simdbc,interpreter] Preserve arguments descriptor around call to inline cache miss handler 

InlineCacheMissHandler* runtime entries may cause class finalization and
potentially run more Dart code (for example, to evaluate pragma annotations).
That could clobber arguments descriptor in simulator/interpreter.

Usually classes are finalized before their instances are allocated.
However, VM creates instances of certain built-in classes "magically",
without finalizing classes. For such classes finalization can occur
on the first method invocation.

Change-Id: I247197baf36858bfa43812aaaed02b10584762e0
Reviewed-on: https://dart-review.googlesource.com/c/94960
Auto-Submit: Alexander Markov <alexmarkov@google.com>
Reviewed-by: Ryan Macnak <rmacnak@google.com>
Commit-Queue: Ryan Macnak <rmacnak@google.com>

commit a681a6297aa6f0d83873005e70019d1ba9e96fd7
dart-results-feed-commit-entry
a681a6297aa6f0d83873005e70019d1ba9e96fd7 2019-03-01 17:15:00 +0000 aam@google.com [vm/incremental compiler] Add reject/compile_expresson test for incremental compiler. 

Change-Id: I79fd20e89ad3b9b5372725d60ba3c2b2d7213944
Reviewed-on: https://dart-review.googlesource.com/c/94366
Reviewed-by: Alexander Aprelev <aam@google.com>
Reviewed-by: Jens Johansen <jensj@google.com>
Commit-Queue: Alexander Aprelev <aam@google.com>
Auto-Submit: Alexander Aprelev <aam@google.com>

commit ce1fb830d0ae59f545965e1fdd0855dcdf4fa55b
dart-results-feed-commit-entry
ce1fb830d0ae59f545965e1fdd0855dcdf4fa55b 2019-03-01 16:31:39 +0000 sortie@google.com [infra] Suggest running gsutil.py config in approve_results if needed. 

Fixes https://github.com/dart-lang/sdk/issues/35377.

Change-Id: I2a1a596cda1c5e5565de69ad89f48ab9f1485c41
Reviewed-on: https://dart-review.googlesource.com/c/95020
Reviewed-by: William Hesse <whesse@google.com>
Commit-Queue: Jonas Termansen <sortie@google.com>

commit 2c8f70cde39e1567af1d6e65c10a7ea5373a4531
dart-results-feed-commit-entry
2c8f70cde39e1567af1d6e65c10a7ea5373a4531 2019-03-01 15:17:13 +0000 dmitryas@google.com [cfe] Add type inference for spreads in set literals 

Change-Id: I60250ec4ba7dba2381d84328095d38cf47b4ea8b
Reviewed-on: https://dart-review.googlesource.com/c/94548
Commit-Queue: Dmitry Stefantsov <dmitryas@google.com>
Reviewed-by: Kevin Millikin <kmillikin@google.com>

commit b36c56ff845b0d09a7eae52d5e7e7bae9f7f1cce
dart-results-feed-commit-entry
b36c56ff845b0d09a7eae52d5e7e7bae9f7f1cce 2019-03-01 15:17:13 +0000 dmitryas@google.com [cfe] Add type inference for spreads in list literals 

Change-Id: I4076fe82a0b4c0780dc53cc51f9abba3b1d85e8c
Reviewed-on: https://dart-review.googlesource.com/c/94520
Reviewed-by: Kevin Millikin <kmillikin@google.com>

commit e4aa4325b7728a473099701ef4ebe09d858fbac9
dart-results-feed-commit-entry
e4aa4325b7728a473099701ef4ebe09d858fbac9 2019-03-01 15:17:13 +0000 dmitryas@google.com [fasta] Enable spread collections in unit tests 

Change-Id: Id417704bdd15f8244f16fd61715f43910f678f7f
Reviewed-on: https://dart-review.googlesource.com/c/94541
Reviewed-by: Kevin Millikin <kmillikin@google.com>

commit 1471b8e444a71d22d23ababc120c8692d2580202
dart-results-feed-commit-entry
1471b8e444a71d22d23ababc120c8692d2580202 2019-03-01 14:34:15 +0000 askesc@google.com Revert "[CFE] Move constant evaluation number semantics handling to front end." 

This reverts commit c2b466b09f129ba4a7cb7f1322f5021654627304.

Reason for revert: Broke precompiled, DDC and others.

Original change's description:
> [CFE] Move constant evaluation number semantics handling to front end.
> 
> JavaScript number semantics is currently implemented as the simplistic
> version previously present in DDC. This is a starting point for fully
> detailed JS number semantics.
> 
> Change-Id: Id728b3dacec892a5cbf7ece0d9faea51427f5f9b
> Reviewed-on: https://dart-review.googlesource.com/c/94746
> Commit-Queue: Aske Simon Christensen <askesc@google.com>
> Reviewed-by: Sigmund Cherem <sigmund@google.com>

TBR=sigmund@google.com,askesc@google.com

Change-Id: I732c75b72df0e0f084ad2784349bee346ae5b7ed
No-Presubmit: true
No-Tree-Checks: true
No-Try: true
Reviewed-on: https://dart-review.googlesource.com/c/95027
Reviewed-by: Aske Simon Christensen <askesc@google.com>
Commit-Queue: Aske Simon Christensen <askesc@google.com>

commit 6e060470047928e9326f5d0ec73fb7419b86f2b9
dart-results-feed-commit-entry
6e060470047928e9326f5d0ec73fb7419b86f2b9 2019-03-01 14:24:53 +0000 jensj@google.com AST to Text more resilient in writeAdditionalExports 

Change-Id: If2a3e87f935e75421802358b028894a8fbb093d9
Reviewed-on: https://dart-review.googlesource.com/c/95025
Reviewed-by: Kevin Millikin <kmillikin@google.com>
Commit-Queue: Jens Johansen <jensj@google.com>

commit c2b466b09f129ba4a7cb7f1322f5021654627304
dart-results-feed-commit-entry
c2b466b09f129ba4a7cb7f1322f5021654627304 2019-03-01 13:30:53 +0000 askesc@google.com [CFE] Move constant evaluation number semantics handling to front end. 

JavaScript number semantics is currently implemented as the simplistic
version previously present in DDC. This is a starting point for fully
detailed JS number semantics.

Change-Id: Id728b3dacec892a5cbf7ece0d9faea51427f5f9b
Reviewed-on: https://dart-review.googlesource.com/c/94746
Commit-Queue: Aske Simon Christensen <askesc@google.com>
Reviewed-by: Sigmund Cherem <sigmund@google.com>

commit b60b664b164380e6c4512f0c0b3eaf3447675689
dart-results-feed-commit-entry
b60b664b164380e6c4512f0c0b3eaf3447675689 2019-03-01 13:02:23 +0000 sortie@google.com [infra] Make gclient sync quiet when nothing is updated. 

The 7zip dependency is only used on Windows. Use gclient's OS-specific
hook feature to only download it while on Windows. This avoids the
download from google cloud storage from needlessly saying it is doing
nothing.

There's no reason to point out the sysroot is already up to date as this
makes gclient output several lines of text with zero information.

Change-Id: Id1c212c8a951612c413e9834867fe90f6dca6a20
Reviewed-on: https://dart-review.googlesource.com/c/94752
Reviewed-by: William Hesse <whesse@google.com>
Commit-Queue: Jonas Termansen <sortie@google.com>

commit 9a0a3fd8c13ed33c36f1ec71e3975881615ad120
dart-results-feed-commit-entry
9a0a3fd8c13ed33c36f1ec71e3975881615ad120 2019-03-01 10:03:22 +0000 paulberry@google.com Eliminate uses of old AST node types from analyzer_plugin 

Change-Id: I1dc8e1d51d96c5fc4e6b8c77b143c8cc9564f63e
Reviewed-on: https://dart-review.googlesource.com/c/94761
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>
Commit-Queue: Paul Berry <paulberry@google.com>

commit ba4cfb86137f4a7d13f9161b2e1159a31362e819
dart-results-feed-commit-entry
ba4cfb86137f4a7d13f9161b2e1159a31362e819 2019-03-01 08:37:12 +0000 johnniwinther@google.com Initial computation of initializer complexity through the scope visitor. 

Change-Id: I2951624a0ad901c7c518b6e5d2f147dceae870cc
Reviewed-on: https://dart-review.googlesource.com/c/94382
Reviewed-by: Sigmund Cherem <sigmund@google.com>
Commit-Queue: Johnni Winther <johnniwinther@google.com>

commit 15515d86e3ee56b152389cfb2828bf0b1399d213
dart-results-feed-commit-entry
15515d86e3ee56b152389cfb2828bf0b1399d213 2019-03-01 08:01:24 +0000 mfairhurst@google.com Reland "[analyzer] Constant verifier support for SetOrMapLiteral" 

Original change's description:
> Revert "[analyzer] Constant verifier support for SetOrMapLiteral"
> 
> This reverts commit 9c6315c199c9ef3082cd0e957f0a22cbad872acf.
> 
> Reason for revert: Do not have permission to approve the bot failures.
> 
> Original change's description:
> > [analyzer] Constant verifier support for SetOrMapLiteral
> > 
> > Change-Id: Iaa189aa7ad733af3f702546f1d7a379630b61aa7
> > Reviewed-on: https://dart-review.googlesource.com/c/94581
> > Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
> > Auto-Submit: Mike Fairhurst <mfairhurst@google.com>
> 
> TBR=paulberry@google.com,brianwilkerson@google.com,mfairhurst@google.com
> 
> Change-Id: Id7f48506994cc5b8de506f9830f12d794f186e21
> No-Presubmit: true
> No-Tree-Checks: true
> No-Try: true
> Reviewed-on: https://dart-review.googlesource.com/c/94981
> Reviewed-by: Mike Fairhurst <mfairhurst@google.com>
> Commit-Queue: Mike Fairhurst <mfairhurst@google.com>

TBR=paulberry@google.com,brianwilkerson@google.com,mfairhurst@google.com

Change-Id: I7e514b646c1c62532e6f19201db6ea3428cb96d2
No-Presubmit: true
No-Tree-Checks: true
No-Try: true
Reviewed-on: https://dart-review.googlesource.com/c/95000
Reviewed-by: Mike Fairhurst <mfairhurst@google.com>
Commit-Queue: Mike Fairhurst <mfairhurst@google.com>

commit 9bec44d1e2029bd821c197880d4dbfd4753dcc8c
dart-results-feed-commit-entry
9bec44d1e2029bd821c197880d4dbfd4753dcc8c 2019-03-01 07:43:04 +0000 mfairhurst@google.com Revert "[analyzer] Constant verifier support for SetOrMapLiteral" 

This reverts commit 9c6315c199c9ef3082cd0e957f0a22cbad872acf.

Reason for revert: Do not have permission to approve the bot failures.

Original change's description:
> [analyzer] Constant verifier support for SetOrMapLiteral
> 
> Change-Id: Iaa189aa7ad733af3f702546f1d7a379630b61aa7
> Reviewed-on: https://dart-review.googlesource.com/c/94581
> Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
> Auto-Submit: Mike Fairhurst <mfairhurst@google.com>

TBR=paulberry@google.com,brianwilkerson@google.com,mfairhurst@google.com

Change-Id: Id7f48506994cc5b8de506f9830f12d794f186e21
No-Presubmit: true
No-Tree-Checks: true
No-Try: true
Reviewed-on: https://dart-review.googlesource.com/c/94981
Reviewed-by: Mike Fairhurst <mfairhurst@google.com>
Commit-Queue: Mike Fairhurst <mfairhurst@google.com>

commit d73bc494209458a336e0c2424ec1110a5182195d
dart-results-feed-commit-entry
d73bc494209458a336e0c2424ec1110a5182195d 2019-03-01 07:08:32 +0000 kevmoo@google.com DEPS: update html, http_parser, logging, package_resolver, source_span 

Change-Id: I18b8268e7ad5c211f83f323957440e29b50ec0d7
Reviewed-on: https://dart-review.googlesource.com/c/94805
Commit-Queue: Alexander Thomas <athom@google.com>
Auto-Submit: Kevin Moore <kevmoo@google.com>
Reviewed-by: Alexander Thomas <athom@google.com>

commit 9c6315c199c9ef3082cd0e957f0a22cbad872acf
dart-results-feed-commit-entry
9c6315c199c9ef3082cd0e957f0a22cbad872acf 2019-03-01 06:36:17 +0000 mfairhurst@google.com [analyzer] Constant verifier support for SetOrMapLiteral 

Change-Id: Iaa189aa7ad733af3f702546f1d7a379630b61aa7
Reviewed-on: https://dart-review.googlesource.com/c/94581
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Auto-Submit: Mike Fairhurst <mfairhurst@google.com>

commit 67366ed7711326c0b6d3b387ac6f31ca78f50049
dart-results-feed-commit-entry
67366ed7711326c0b6d3b387ac6f31ca78f50049 2019-03-01 02:43:30 +0000 scheglov@google.com Support for @Variant and @VariantId in generator. 

It also includes a sample how it looks in IDL and generated.
I will remove it before landing.

R=paulberry@google.com

Change-Id: I4c60b33e623cf9c55d46a8dd9624377e5a0f5053
Reviewed-on: https://dart-review.googlesource.com/c/94921
Commit-Queue: Konstantin Shcheglov <scheglov@google.com>
Reviewed-by: Paul Berry <paulberry@google.com>

commit 16fc751e49867c672ae13dab97f186cf3fea363b
dart-results-feed-commit-entry
16fc751e49867c672ae13dab97f186cf3fea363b 2019-03-01 02:01:19 +0000 ianloic@google.com [fuchsia] Clean-up after the FIDL string/vector types transition 

This cleans up what was introduced in:
https://dart-review.googlesource.com/c/88122

Change-Id: If7596a3dd57af25d91fe880104e5aafd301c57f4
Reviewed-on: https://dart-review.googlesource.com/c/94922
Auto-Submit: Ian McKellar <ianloic@google.com>
Reviewed-by: Ryan Macnak <rmacnak@google.com>
Commit-Queue: Ryan Macnak <rmacnak@google.com>

commit 1d3a0d512909c8a8180c67ec2499e5259984c7ee
dart-results-feed-commit-entry
1d3a0d512909c8a8180c67ec2499e5259984c7ee 2019-03-01 01:37:09 +0000 alexmarkov@google.com Revert "[vm/ffi] Stress tests for FFI functions." 

This reverts commit b186a270e49a18ecac1e0ac6297db3507459ce9c.

Revert "[vm] Fix windows build after "[vm/ffi] Stress tests for FFI functions.""

This reverts commit 3dcc0c69a1de5ff58b922c3a3e352a7974db5413.

Revert "[vm] Update status file for standalone_2/ffi/function_stress_test"

This reverts commit 9d609426b23590b7b834fb034c290f8e1f4daf81.

Revert "[gardening] Skip ffi/negative_function_test on asan bot"

This reverts commit 223f407af582af662e72c3b1a2c8169774a0cb88.

Reasons for revert:
1) timeouts on app-kernel-linux-debug-x64 bot when it
tries to deflake new tests.
2) crash dump archiving fails on vm-kernel-asan-linux-release-x64
when trying to archive crash dumps from these tests.

Issue: https://github.com/dart-lang/sdk/issues/36033
Issue: https://github.com/dart-lang/sdk/issues/36034
Change-Id: Ifa338fb96b490e8137a8aa6a4a62f4a6f9e6ea83
Reviewed-on: https://dart-review.googlesource.com/c/94963
Commit-Queue: Alexander Markov <alexmarkov@google.com>
Commit-Queue: Aart Bik <ajcbik@google.com>
Auto-Submit: Alexander Markov <alexmarkov@google.com>
Reviewed-by: Aart Bik <ajcbik@google.com>

commit 24df9cc588a8261be002fd339b2542c9d7804f59
dart-results-feed-commit-entry
24df9cc588a8261be002fd339b2542c9d7804f59 2019-03-01 01:25:19 +0000 rmacnak@google.com [vm] Implement interpreter stubs for ARM, SIMARM and SIMARM64. 

Change-Id: If49e656bb3c016d42bc5588c6026116f2aff5076
Reviewed-on: https://dart-review.googlesource.com/c/94682
Commit-Queue: Ryan Macnak <rmacnak@google.com>
Reviewed-by: Régis Crelier <regis@google.com>

commit e8d6e2f7041b31cfc94f191df7c86eac1f992bdd
dart-results-feed-commit-entry
e8d6e2f7041b31cfc94f191df7c86eac1f992bdd 2019-03-01 00:48:59 +0000 bkonyi@google.com [ VM ] Updated SourceReport tests with correct token positions 

Change-Id: I6aa49e715043a1ba463425e53018c5078a272129
Reviewed-on: https://dart-review.googlesource.com/c/94962
Reviewed-by: Siva Annamalai <asiva@google.com>
Commit-Queue: Ben Konyi <bkonyi@google.com>

commit 19dbd703639dec329509eedc030e802140fe7c57
dart-results-feed-commit-entry
19dbd703639dec329509eedc030e802140fe7c57 2019-03-01 00:47:59 +0000 alanknight@google.com Catch errors in formatting function types 

Change-Id: Ifa889ab486da4b86a2738857bf2c6d8a8ed0cfe4
Reviewed-on: https://dart-review.googlesource.com/c/93125
Commit-Queue: Alan Knight <alanknight@google.com>
Reviewed-by: Jenny Messerly <jmesserly@google.com>

commit 22596950375000602711984556de765ead4d3baa
dart-results-feed-commit-entry
22596950375000602711984556de765ead4d3baa 2019-03-01 00:32:25 +0000 rmacnak@google.com [vm, gc] Document object representation. 

Change-Id: I18fea69cc86161c2f960854e636bfe07a44789cb
Reviewed-on: https://dart-review.googlesource.com/c/94841
Reviewed-by: Siva Annamalai <asiva@google.com>

commit 223f407af582af662e72c3b1a2c8169774a0cb88
dart-results-feed-commit-entry
223f407af582af662e72c3b1a2c8169774a0cb88 2019-02-28 23:44:49 +0000 alexmarkov@google.com [gardening] Skip ffi/negative_function_test on asan bot 

This newly added test causes crash dump archiving to fail on
vm-kernel-asan-linux-release-x64 bot. This causes bot to fail
although the test failure was approved.

The test was added in b186a270e49a18ecac1e0ac6297db3507459ce9c.

Issue: https://github.com/dart-lang/sdk/issues/36033
Issue: https://github.com/dart-lang/sdk/issues/36034
Change-Id: I9ac201124db239d9c4bcce176c54e66cfdf1b54e
Reviewed-on: https://dart-review.googlesource.com/c/94961
Commit-Queue: Alexander Markov <alexmarkov@google.com>
Commit-Queue: Alexander Thomas <athom@google.com>
Auto-Submit: Alexander Markov <alexmarkov@google.com>
Reviewed-by: Alexander Thomas <athom@google.com>

commit c2e48195f0d02d9ad2a14aca97f600faccbd05f7
dart-results-feed-commit-entry
c2e48195f0d02d9ad2a14aca97f600faccbd05f7 2019-02-28 21:42:09 +0000 paulberry@google.com Rename UiAsCodeVisitorMixin to UIAsCodeVisitorMixin 

To conform to Dart style rules

Change-Id: I1cc7ef76d0d723725f6d0393ca6e2b7538fc2f3e
Reviewed-on: https://dart-review.googlesource.com/c/94900
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Reviewed-by: Jenny Messerly <jmesserly@google.com>
Commit-Queue: Paul Berry <paulberry@google.com>

commit 48ee388791bc47c0ba9500a81ad31bbc136f75ea
dart-results-feed-commit-entry
48ee388791bc47c0ba9500a81ad31bbc136f75ea 2019-02-28 21:25:49 +0000 brianwilkerson@google.com Fix a typo in a shared test 

Change-Id: I096e459ffeae70f944d03715081c3b9f653b01a6
Reviewed-on: https://dart-review.googlesource.com/c/94843
Auto-Submit: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Bob Nystrom <rnystrom@google.com>
Reviewed-by: Bob Nystrom <rnystrom@google.com>

commit 545ebe1741b8ed7ba06d52e8cbf540ab8259c9cb
dart-results-feed-commit-entry
545ebe1741b8ed7ba06d52e8cbf540ab8259c9cb 2019-02-28 20:54:19 +0000 paulberry@google.com Prepare to publish analyzer 0.35.3 

This is needed so that we can publish a version of analyzer_plugin
that depends on it; also so that dartfmt work on "UI as code" features
can proceed.

Change-Id: I7647fd69fec28b9e788f89e915c14779815fcc02
Reviewed-on: https://dart-review.googlesource.com/c/94803
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Paul Berry <paulberry@google.com>

commit 17195d266751742cea69abfa89b9ba53e31762af
dart-results-feed-commit-entry
17195d266751742cea69abfa89b9ba53e31762af 2019-02-28 20:46:16 +0000 paulberry@google.com Eliminate uses of old AST node types from dev_compiler 

Change-Id: I839ed26a159a48e39378e94b4884faf65e3bb028
Reviewed-on: https://dart-review.googlesource.com/c/94365
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>
Reviewed-by: Jenny Messerly <jmesserly@google.com>
Commit-Queue: Paul Berry <paulberry@google.com>

commit a417659fcd25544c9d43b194d35b14894d41fc1f
dart-results-feed-commit-entry
a417659fcd25544c9d43b194d35b14894d41fc1f 2019-02-28 20:39:16 +0000 danrubel@google.com debug dartfix test 

... by ensuring that logged information is echoed to console

Change-Id: I8e9c71d0fc6f164637c35d28415cdf02e9a47b9a
Reviewed-on: https://dart-review.googlesource.com/c/94880
Reviewed-by: Dan Rubel <danrubel@google.com>

commit a10b0d8763d7aefca68c4854bff4e02ce7494e9d
dart-results-feed-commit-entry
a10b0d8763d7aefca68c4854bff4e02ce7494e9d 2019-02-28 19:29:06 +0000 ajcbik@google.com [vm/compiler] LICM and CSE improvements 

Several improvements
(1) makes implicit control dependence of a null check
    explicit by means of data dependence (already
    done for bounds checks); also see the doc in
    runtime/docs/compiler/data_dep_for_control_dep.md
(2) improves CSE properties of various IL nodes
(3) allows LICM on invariant code that may-throw
    as long as the visible behavior is preserved

https://github.com/dart-lang/sdk/issues/35323
https://github.com/dart-lang/sdk/issues/34684

Change-Id: Icb4520a649da38eddc3d7c85af21427d3c64d22e
Reviewed-on: https://dart-review.googlesource.com/c/93822
Commit-Queue: Aart Bik <ajcbik@google.com>
Reviewed-by: Martin Kustermann <kustermann@google.com>
Reviewed-by: Alexander Markov <alexmarkov@google.com>

commit ff6f61c87216406bb47999d6fdbed4e0fd12cab4
dart-results-feed-commit-entry
ff6f61c87216406bb47999d6fdbed4e0fd12cab4 2019-02-28 18:35:03 +0000 bkonyi@google.com [VM / Observatory ] Remove needless stacktrace print when adding to closed socket 

Change-Id: Idc31b45fd880ff0233c7cbeb31a22d43fbcea01e
Reviewed-on: https://dart-review.googlesource.com/c/94840
Commit-Queue: Ben Konyi <bkonyi@google.com>
Commit-Queue: Ryan Macnak <rmacnak@google.com>
Auto-Submit: Ben Konyi <bkonyi@google.com>
Reviewed-by: Ryan Macnak <rmacnak@google.com>

commit a51c9f15cc16793fce7cf083b2852624f2ae14ae
dart-results-feed-commit-entry
a51c9f15cc16793fce7cf083b2852624f2ae14ae 2019-02-28 18:21:03 +0000 paulberry@google.com Make optype compatible with previous versions of analyzer. 

Change-Id: Ifdf460a9a114fc10d6f1a4afc5d41c8894978840
Reviewed-on: https://dart-review.googlesource.com/c/94802
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Paul Berry <paulberry@google.com>

commit a2eac987538d75effd5820732a04344eacf17a4d
dart-results-feed-commit-entry
a2eac987538d75effd5820732a04344eacf17a4d 2019-02-28 17:50:09 +0000 paulberry@google.com Merge HintCodeTest_Driver into HintCodeTest. 

This is necessary because the internal code base considers a test file
to fail if it doesn't run any tests.

Alternative fixes considered:

- Put a dummy test in hint_code_test.dart
- Rename hint_code_test.dart to a name that doesn't end in _test.dart

Change-Id: I64fa2be7c76b4d2a85ee9b46ba1a1c21ae2903ae
Reviewed-on: https://dart-review.googlesource.com/c/94800
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Paul Berry <paulberry@google.com>

commit 9d609426b23590b7b834fb034c290f8e1f4daf81
dart-results-feed-commit-entry
9d609426b23590b7b834fb034c290f8e1f4daf81 2019-02-28 17:42:53 +0000 sjindel@google.com [vm] Update status file for standalone_2/ffi/function_stress_test 

Change-Id: I15eba297fb13a57ea4a9cd70364916ceba20ee3a
Reviewed-on: https://dart-review.googlesource.com/c/94755
Reviewed-by: Samir Jindel <sjindel@google.com>

commit bab9d2ad055b76c0ae5002fe83019bf572a244b4
dart-results-feed-commit-entry
bab9d2ad055b76c0ae5002fe83019bf572a244b4 2019-02-28 17:38:19 +0000 alexmarkov@google.com [vm] Remember GenericCovariantImpl in TypeParameter 

Previously, in order to get GenericCovariantImpl property of a type
parameter we had to (re-)read kernel.

This change is a preparation for decoupling flow graph building of
special functions from kernel reading.

Change-Id: I48b45d2cece683ac3a3bd0ed506ddfcc3c526826
Reviewed-on: https://dart-review.googlesource.com/c/94641
Commit-Queue: Régis Crelier <regis@google.com>
Auto-Submit: Alexander Markov <alexmarkov@google.com>
Reviewed-by: Régis Crelier <regis@google.com>

commit 3dcc0c69a1de5ff58b922c3a3e352a7974db5413
dart-results-feed-commit-entry
3dcc0c69a1de5ff58b922c3a3e352a7974db5413 2019-02-28 17:34:47 +0000 sjindel@google.com [vm] Fix windows build after "[vm/ffi] Stress tests for FFI functions." 

Change-Id: Iac44ba54452c8ae831202fa0c41b896b83a4a2fa
Reviewed-on: https://dart-review.googlesource.com/c/94754
Commit-Queue: Samir Jindel <sjindel@google.com>
Commit-Queue: Daco Harkes <dacoharkes@google.com>
Auto-Submit: Samir Jindel <sjindel@google.com>
Reviewed-by: Daco Harkes <dacoharkes@google.com>

commit 1596f437bd59223b9ffa6e042b1b88d0c3784b84
dart-results-feed-commit-entry
1596f437bd59223b9ffa6e042b1b88d0c3784b84 2019-02-28 17:18:49 +0000 danrubel@google.com debug dartfix test 

This test passes when run locally, but fails on the bots.
Time to gather more information.

Change-Id: Iccfbd52161b03f8119017612fc66f899cc9e5178
Reviewed-on: https://dart-review.googlesource.com/c/94801
Reviewed-by: Dan Rubel <danrubel@google.com>

commit fa8ba53b521d7d2c6953ece3f4764076a75847d6
dart-results-feed-commit-entry
fa8ba53b521d7d2c6953ece3f4764076a75847d6 2019-02-28 16:59:11 +0000 whesse@google.com [infra] Add a script that appends fields with previous results to result data 

Change-Id: I19ea044308744c16caee47f4755a18fc19990c77
Reviewed-on: https://dart-review.googlesource.com/c/94544
Reviewed-by: Jonas Termansen <sortie@google.com>

commit b186a270e49a18ecac1e0ac6297db3507459ce9c
dart-results-feed-commit-entry
b186a270e49a18ecac1e0ac6297db3507459ce9c 2019-02-28 16:40:36 +0000 sjindel@google.com [vm/ffi] Stress tests for FFI functions. 

Change-Id: I75251b92688b70b4d14eda7b1fddef0fe94c60fe
Reviewed-on: https://dart-review.googlesource.com/c/94384
Commit-Queue: Samir Jindel <sjindel@google.com>
Reviewed-by: Daco Harkes <dacoharkes@google.com>
Auto-Submit: Samir Jindel <sjindel@google.com>

commit 7dec865054b3e73857f8494fa7d679fbefc3831d
dart-results-feed-commit-entry
7dec865054b3e73857f8494fa7d679fbefc3831d 2019-02-28 15:35:36 +0000 paulberry@google.com Add set literal support to the flutter outline computer 

Change-Id: I1d5f3dfdc4987bd7dc91dbd78ff5649667aa23b0
Reviewed-on: https://dart-review.googlesource.com/c/94760
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>
Commit-Queue: Paul Berry <paulberry@google.com>

commit 7c70ab1817ad6553f21fadadf0a88fe568ee8745
dart-results-feed-commit-entry
7c70ab1817ad6553f21fadadf0a88fe568ee8745 2019-02-28 14:12:26 +0000 lrn@google.com Revert change that empirically doesn't improve code for dart2js stopwatch. 

Change-Id: Ib7a29c51c9d503c251fb28be4edc0becdc0a68c2
Reviewed-on: https://dart-review.googlesource.com/c/94745
Reviewed-by: Johnni Winther <johnniwinther@google.com>
Commit-Queue: Lasse R.H. Nielsen <lrn@google.com>

commit 895bc90509993987d4f7106ffec9484691a6b7a8
dart-results-feed-commit-entry
895bc90509993987d4f7106ffec9484691a6b7a8 2019-02-28 13:43:17 +0000 sigurdm@google.com Sync pub client to newest version 

```
git log --oneline --no-decorate 980fc947db32bca6ae7d07fbb4ad0fcdba0050ec..3c060aae47985e9a248b850f1d0450304a5c97e3
3c060aae Usage: pub global activate <package> [version-constraint] (#2051)
93783b60 Improve the error when encountering a non-local package with a path dep
2b4056b0 Lint tweaks for Dart 2.2
135e10af Update last modified date directly in `touch` (#2014)
```

No relevant changes for the changelog

Bug: https://github.com/dart-lang/sdk/issues/36026
Change-Id: I2dcaad614f5fbd511712d4713c7b008d7ff710f1
Reviewed-on: https://dart-review.googlesource.com/c/94744
Reviewed-by: Jonas Jensen <jonasfj@google.com>
Commit-Queue: Sigurd Meldgaard <sigurdm@google.com>

commit 39f365f3b963d774ee0a805caf45b0480402b96d
dart-results-feed-commit-entry
39f365f3b963d774ee0a805caf45b0480402b96d 2019-02-28 12:48:56 +0000 paulberry@google.com Sort declarations in parser.dart. 

Change-Id: I000193878307686d52e5b02cd3e6cdaafed68959
Reviewed-on: https://dart-review.googlesource.com/c/94681
Auto-Submit: Paul Berry <paulberry@google.com>
Commit-Queue: Dan Rubel <danrubel@google.com>
Reviewed-by: Dan Rubel <danrubel@google.com>

commit 8af83b19d6326994ba5c3dc5362cd37462c1d526
dart-results-feed-commit-entry
8af83b19d6326994ba5c3dc5362cd37462c1d526 2019-02-28 12:48:16 +0000 paulberry@google.com Sort declarations in ast_builder.dart. 

No functional change.

Change-Id: If695a7437482aef1de7013aa404260f3602bdc93
Reviewed-on: https://dart-review.googlesource.com/c/94642
Auto-Submit: Paul Berry <paulberry@google.com>
Commit-Queue: Dan Rubel <danrubel@google.com>
Reviewed-by: Dan Rubel <danrubel@google.com>

commit 0adddfbeab69f43bc8985f774b24610a773adc97
dart-results-feed-commit-entry
0adddfbeab69f43bc8985f774b24610a773adc97 2019-02-28 12:37:56 +0000 paulberry@google.com Eliminate uses of old AST node types from analysis server 

Change-Id: Ifc97c6e08cb40cf98c519b442d10d921b2cccd05
Reviewed-on: https://dart-review.googlesource.com/c/94364
Reviewed-by: Konstantin Shcheglov <scheglov@google.com>
Reviewed-by: Brian Wilkerson <brianwilkerson@google.com>
Commit-Queue: Paul Berry <paulberry@google.com>

commit 120328aff7e238c8c840aedec672cbe7eda9c2d6
dart-results-feed-commit-entry
120328aff7e238c8c840aedec672cbe7eda9c2d6 2019-02-28 12:11:16 +0000 askesc@google.com [fasta] Commandline option to enable asserts 

Since Fasta is only concerned with compile-time behavior, the option
only affects asserts in initializers in const constructors when
evaluated during constant evaluation.

Change-Id: I534cc7cc1f33f9b34d15550d38ea930ed7ac6709
Reviewed-on: https://dart-review.googlesource.com/c/94740
Commit-Queue: Aske Simon Christensen <askesc@google.com>
Commit-Queue: Peter von der Ahé <ahe@google.com>
Reviewed-by: Peter von der Ahé <ahe@google.com>
Auto-Submit: Aske Simon Christensen <askesc@google.com>

commit 82c5c5bbb2ce40391e2d1b6899b6ff201360f23a
dart-results-feed-commit-entry
82c5c5bbb2ce40391e2d1b6899b6ff201360f23a 2019-02-28 12:11:16 +0000 askesc@google.com [fasta] Only read compiler context at construction in kernel_target. 

Change-Id: I0f62f4e993353a336101fe0babb9d1dc58844020
Reviewed-on: https://dart-review.googlesource.com/c/94743
Reviewed-by: Peter von der Ahé <ahe@google.com>

commit 9a4c49f30118e7a53728acb4479cf30e29c2087b
dart-results-feed-commit-entry
9a4c49f30118e7a53728acb4479cf30e29c2087b 2019-02-28 10:32:06 +0000 johnniwinther@google.com Update field analysis tests to prepare for eager initializer improvements 

Change-Id: Ie9611ed269a42be4d7c406739cf935d569d8606a
Reviewed-on: https://dart-review.googlesource.com/c/94297
Commit-Queue: Johnni Winther <johnniwinther@google.com>
Reviewed-by: Sigmund Cherem <sigmund@google.com>

commit 75370569fc150a286f8f8209089a41d55a4f1282
dart-results-feed-commit-entry
75370569fc150a286f8f8209089a41d55a4f1282 2019-02-28 10:12:46 +0000 ahe@google.com Fall back to DillLoader when computing types in SourceLoader 

Change-Id: I01242136e6598a55b24ca28cff2258529882064b
Reviewed-on: https://dart-review.googlesource.com/c/94502
Reviewed-by: Jens Johansen <jensj@google.com>
Commit-Queue: Peter von der Ahé <ahe@google.com>

commit 78ba3dab7ae2f3661eb3fc6e9b001c1872a241fd
dart-results-feed-commit-entry
78ba3dab7ae2f3661eb3fc6e9b001c1872a241fd 2019-02-28 10:12:26 +0000 ahe@google.com Rename ImplicitType to ImplcitFieldType 

Change-Id: I98cee54149fbe4c450919f72e7ab07e319b8fb34
Reviewed-on: https://dart-review.googlesource.com/c/94721
Reviewed-by: Jens Johansen <jensj@google.com>
Commit-Queue: Peter von der Ahé <ahe@google.com>

commit 1720704594e0cd15da0050325780f505fc9996f1
dart-results-feed-commit-entry
1720704594e0cd15da0050325780f505fc9996f1 2019-02-28 09:12:26 +0000 johnniwinther@google.com Recognize effectively constant static fields 

Change-Id: Ic8f7a014a6af2f9d8854e0731fe0d2df11b554da
Reviewed-on: https://dart-review.googlesource.com/c/94281
Commit-Queue: Johnni Winther <johnniwinther@google.com>
Reviewed-by: Sigmund Cherem <sigmund@google.com>

commit ba31e448ca3bc16be7d9767f1d6e790a43ca462e
dart-results-feed-commit-entry
ba31e448ca3bc16be7d9767f1d6e790a43ca462e 2019-02-28 09:08:56 +0000 ahe@google.com Finish implementing IsIntersectionSubtypeOf 

Change-Id: I1b2958269545a5e562b664d51d945d328f46d0d5
Reviewed-on: https://dart-review.googlesource.com/c/94299
Commit-Queue: Peter von der Ahé <ahe@google.com>
Reviewed-by: Jens Johansen <jensj@google.com>
Reviewed-by: Dmitry Stefantsov <dmitryas@google.com>

commit 5f095b7039a38bc47de4abbfec300245c3c42785
dart-results-feed-commit-entry
5f095b7039a38bc47de4abbfec300245c3c42785 2019-02-28 06:05:00 +0000 kmillikin@google.com [Fasta] Add support for spread in map literals 

Spreads are compiled as if they were spread elements in list or set
literals.  When one occurs in a map literal it is translated to a new
spread map entry.

Change-Id: Ic618b1e85e595b4c2cd65e184b9d2c49e9c34b79
Reviewed-on: https://dart-review.googlesource.com/c/94547
Commit-Queue: Kevin Millikin <kmillikin@google.com>
Reviewed-by: Dmitry Stefantsov <dmitryas@google.com>
Reviewed-by: Aske Simon Christensen <askesc@google.com>

